steal.loading('wizard_form_builder/form_builder.js','steal/less/less.js','jquery/controller/controller.js','jquery/controller/subscribe/subscribe.js','jquery/view/ejs/ejs.js','jquery/view/helpers/helpers.js','jquery/controller/view/view.js','jquery/dom/form_params/form_params.js','jquery/lang/json/json.js','jquery/event/hover/hover.js','jquery/class/class.js','jquery/lang/string/string.js','jquery/event/destroyed/destroyed.js','jquery/jquery.js','jquery/event/event.js','jquery/lang/openajax/openajax.js','jquery/view/view.js','jquery/lang/string/rsplit/rsplit.js','jquery/dom/dom.js','jquery/event/livehack/livehack.js','wizard_form_builder/models/models.js','wizard_form_builder/fixtures/fixtures.js','wizard_form_builder/main/main.js','wizard_form_builder/accordion/accordion.js','wizard_form_builder/component_library/component_library.js','wizard_form_builder/inspector/inspector.js','wizard_form_builder/error_check/error_check.js','wizard_form_builder/tabs/tabs.js','wizard_form_builder/form/form.js','wizard_form_builder/form_item/form_item.js','wizard_form_builder/resources/jplayer-2.1.0/jquery.jplayer.min.js','wizard_form_builder/resources/guiders/guiders-1.1.4.js','wizard_form_builder/resources/jcrop/js/jquery.Jcrop.min.js','wizard_form_builder/resources/fancybox/jquery.fancybox-1.3.1.pack.js','wizard_form_builder/resources/fancybox/jquery.easing-1.3.pack.js','wizard_form_builder/resources/javascripts/jquery.editinplace.js','wizard_form_builder/resources/javascripts/application.js','wizard_form_builder/resources/javascripts/factory/qual.js','jquery/model/model.js','jquery/model/list/list.js','jquery/model/validations/validations.js','wizard_form_builder/models/form.js','wizard_form_builder/models/form_item.js','wizard_form_builder/models/data_item.js','wizard_form_builder/models/input_item.js','wizard_form_builder/models/static_text_item.js','wizard_form_builder/models/title_item.js','wizard_form_builder/models/image_item.js','wizard_form_builder/models/dynamic_text_item.js','wizard_form_builder/models/dynamic_link_item.js','wizard_form_builder/models/html_field.js','wizard_form_builder/models/audio_item.js','wizard_form_builder/models/text_field.js','wizard_form_builder/models/text_area.js','wizard_form_builder/models/radio_button.js','wizard_form_builder/models/check_box.js','wizard_form_builder/models/list_field.js','wizard_form_builder/models/image_tagging.js','wizard_form_builder/models/segmented_text_area.js','wizard_form_builder/main/views/main.ejs','wizard_form_builder/error_check/views/error.ejs','wizard_form_builder/error_check/views/good.ejs','wizard_form_builder/resources/util.js','wizard_form_builder/resources/my_helpers.js','wizard_form_builder/resources/mouse_move_tracker.js','wizard_form_builder/form_item/static_text_item/static_text_item.js','wizard_form_builder/form_item/title_item/title_item.js','wizard_form_builder/form_item/image_item/image_item.js','wizard_form_builder/form_item/dynamic_text_item/dynamic_text_item.js','wizard_form_builder/form_item/dynamic_link_item/dynamic_link_item.js','wizard_form_builder/form_item/html_field/html_field.js','wizard_form_builder/form_item/audio_item/audio_item.js','wizard_form_builder/form_item/text_field/text_field.js','wizard_form_builder/form_item/text_area/text_area.js','wizard_form_builder/form_item/radio_button/radio_button.js','wizard_form_builder/form_item/check_box/check_box.js','wizard_form_builder/form_item/list_field/list_field.js','wizard_form_builder/form_item/image_tagging/image_tagging.js','wizard_form_builder/form_item/segmented_text_area/segmented_text_area.js','wizard_form_builder/form_item/static_text_item/views/show.ejs','wizard_form_builder/form_item/static_text_item/views/properties.ejs','wizard_form_builder/form_item/title_item/views/show.ejs','wizard_form_builder/form_item/title_item/views/properties.ejs','wizard_form_builder/form_item/image_item/views/show.ejs','wizard_form_builder/form_item/image_item/views/properties.ejs','wizard_form_builder/form_item/dynamic_text_item/views/show.ejs','wizard_form_builder/form_item/dynamic_text_item/views/properties.ejs','wizard_form_builder/form_item/dynamic_link_item/views/show.ejs','wizard_form_builder/form_item/dynamic_link_item/views/properties.ejs','wizard_form_builder/form_item/html_field/views/show.ejs','wizard_form_builder/form_item/html_field/views/properties.ejs','wizard_form_builder/form_item/audio_item/views/show.ejs','wizard_form_builder/form_item/audio_item/views/properties.ejs','wizard_form_builder/form_item/text_field/views/show.ejs','wizard_form_builder/form_item/text_field/views/properties.ejs','wizard_form_builder/form_item/text_area/views/show.ejs','wizard_form_builder/form_item/text_area/views/properties.ejs','wizard_form_builder/form_item/radio_button/views/show.ejs','wizard_form_builder/form_item/radio_button/views/properties.ejs','wizard_form_builder/form_item/check_box/views/show.ejs','wizard_form_builder/form_item/check_box/views/properties.ejs','wizard_form_builder/form_item/list_field/views/show.ejs','wizard_form_builder/form_item/list_field/views/properties.ejs','wizard_form_builder/form_item/image_tagging/views/show.ejs','wizard_form_builder/form_item/image_tagging/views/properties.ejs','wizard_form_builder/form_item/segmented_text_area/views/show.ejs','wizard_form_builder/form_item/segmented_text_area/views/properties.ejs');
steal({src: 'wizard_form_builder/production.css', has: ['wizard_form_builder/styles/form_builder.less','wizard_form_builder/styles/component_library.less','wizard_form_builder/resources/jplayer-2.1.0/jplayer.blue.monday.css','wizard_form_builder/resources/guiders/guiders-1.1.4.css','wizard_form_builder/resources/jcrop/css/jquery.Jcrop.css','wizard_form_builder/resources/fancybox/jquery.fancybox-1.3.1.css']});
steal("steal/less","jquery/controller","jquery/controller/subscribe","jquery/view/ejs","jquery/view/helpers","jquery/controller/view","jquery/dom/form_params","jquery/lang/json","jquery/event/hover").then("./models/models.js","./fixtures/fixtures.js","wizard_form_builder/main","wizard_form_builder/accordion","wizard_form_builder/component_library","wizard_form_builder/inspector","wizard_form_builder/error_check","wizard_form_builder/tabs","wizard_form_builder/form","wizard_form_builder/form_item","./styles/form_builder.less","./styles/component_library.less",
"./resources/jplayer-2.1.0/jplayer.blue.monday.css","./resources/guiders/guiders-1.1.4.css","./resources/jcrop/css/jquery.Jcrop.css","./resources/jplayer-2.1.0/jquery.jplayer.min.js","./resources/guiders/guiders-1.1.4.js","./resources/jcrop/js/jquery.Jcrop.min.js","./resources/fancybox/jquery.fancybox-1.3.1.css","./resources/fancybox/jquery.fancybox-1.3.1.pack.js","./resources/fancybox/jquery.easing-1.3.pack.js","./resources/javascripts/jquery.editinplace.js","./resources/javascripts/application",
"./resources/javascripts/factory/qual").then("./resources/util","./resources/my_helpers","./resources/mouse_move_tracker","wizard_form_builder/form_item/static_text_item","wizard_form_builder/form_item/title_item","wizard_form_builder/form_item/image_item","wizard_form_builder/form_item/dynamic_text_item","wizard_form_builder/form_item/dynamic_link_item","wizard_form_builder/form_item/html_field","wizard_form_builder/form_item/audio_item","wizard_form_builder/form_item/text_field","wizard_form_builder/form_item/text_area","wizard_form_builder/form_item/radio_button",
"wizard_form_builder/form_item/check_box","wizard_form_builder/form_item/list_field","wizard_form_builder/form_item/image_tagging","wizard_form_builder/form_item/segmented_text_area").then(function(d){d(document).form_builder_main()});steal.loaded("wizard_form_builder/form_builder.js");steal({src:"./less_engine.js",ignore:true},function(){steal.type("less css",function(d,a,j){a=d.src.split("/");a[a.length-1]="";(new less.Parser({optimization:less.optimization,paths:[a.join("/")]})).parse(d.text,function(c,i){d.text=i.toCSS();j()})})});
steal.loaded("steal/less/less.js");
steal("jquery/class","jquery/lang/string","jquery/event/destroyed",function(d){var a=function(I,O,Y){var ma,ya=I.bind&&I.unbind?I:d(i(I)?[I]:I);if(O.indexOf(">")===0){O=O.substr(1);ma=function(Pa){Pa.target===I&&Y.apply(this,arguments)}}ya.bind(O,ma||Y);return function(){ya.unbind(O,ma||Y);I=O=Y=ma=null}},j=d.makeArray,c=d.isArray,i=d.isFunction,n=d.extend,l=d.String,r=d.each,v=Array.prototype.slice,z=function(I,O,Y,ma){var ya=I.delegate&&I.undelegate?I:d(i(I)?[I]:I);ya.delegate(O,Y,ma);return function(){ya.undelegate(O,
Y,ma);ya=I=Y=ma=O=null}},t=function(I,O,Y,ma){return ma?z(I,ma,O,Y):a(I,O,Y)},E=function(I,O){var Y=typeof O=="string"?I[O]:O;return function(){I.called=O;return Y.apply(I,[this.nodeName?d(this):this].concat(v.call(arguments,0)))}},T=/\./g,H=/_?controllers?/ig,C=function(I){return l.underscore(I.replace("jQuery.","").replace(T,"_").replace(H,""))},R=/[^\w]/,fa=/\{([^\}]+)\}/g,q=/^(?:(.*?)\s)?([\w\.\:>]+)$/,D,J=function(I,O){return d.data(I,"controllers",O)};d.Class("jQuery.Controller",{setup:function(){this._super.apply(this,
arguments);if(!(!this.shortName||this.fullName=="jQuery.Controller")){this._fullName=C(this.fullName);this._shortName=C(this.shortName);var I=this,O=this.pluginName||this._fullName,Y;d.fn[O]||(d.fn[O]=function(ma){var ya=j(arguments),Pa=typeof ma=="string"&&i(I.prototype[ma]),sb=ya[0];return this.each(function(){var Qa=J(this);if(Qa=Qa&&Qa[O])Pa?Qa[sb].apply(Qa,ya.slice(1)):Qa.update.apply(Qa,ya);else I.newInstance.apply(I,[this].concat(ya))})});this.actions={};for(Y in this.prototype)if(!(Y=="constructor"||
!i(this.prototype[Y])))if(this._isAction(Y))this.actions[Y]=this._action(Y)}},hookup:function(I){return new this(I)},_isAction:function(I){return R.test(I)?true:d.inArray(I,this.listensTo)>-1||d.event.special[I]||W[I]},_action:function(I,O){fa.lastIndex=0;if(!O&&fa.test(I))return null;I=O?l.sub(I,[O,window]):I;O=c(I);var Y=(O?I[1]:I).match(q);return{processor:W[Y[2]]||D,parts:Y,delegate:O?I[0]:undefined}},processors:{},listensTo:[],defaults:{}},{setup:function(I,O){var Y=this.constructor;I=I.jquery?
I[0]:I;var ma=Y.pluginName||Y._fullName;this.element=d(I).addClass(ma);(J(I)||J(I,{}))[ma]=this;this.options=n(n(true,{},Y.defaults),O);this.called="init";this.bind();return this.element},bind:function(I,O,Y){if(I===undefined){this._bindings=[];I=this.constructor;O=this._bindings;Y=I.actions;var ma=this.element;for(funcName in Y)if(Y.hasOwnProperty(funcName)){ready=Y[funcName]||I._action(funcName,this.options);O.push(ready.processor(ready.delegate||ma,ready.parts[2],ready.parts[1],funcName,this))}var ya=
E(this,"destroy");ma.bind("destroyed",ya);O.push(function(Pa){d(Pa).unbind("destroyed",ya)});return O.length}if(typeof I=="string"){Y=O;O=I;I=this.element}return this._binder(I,O,Y)},_binder:function(I,O,Y,ma){if(typeof Y=="string")Y=E(this,Y);this._bindings.push(t(I,O,Y,ma));return this._bindings.length},_unbind:function(){var I=this.element[0];r(this._bindings,function(O,Y){Y(I)});this._bindings=[]},delegate:function(I,O,Y,ma){if(typeof I=="string"){ma=Y;Y=O;O=I;I=this.element}return this._binder(I,
Y,ma,O)},update:function(I){n(this.options,I);this._unbind();this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var I=this.constructor.pluginName||this.constructor._fullName;this._destroyed=true;this.element.removeClass(I);this._unbind();delete this._actions;delete this.element.data("controllers")[I];d(this).triggerHandler("destroyed");this.element=null},find:function(I){return this.element.find(I)},_set_called:true});var W=d.Controller.processors;
D=function(I,O,Y,ma,ya){return t(I,O,E(ya,ma),Y)};r("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(I,O){W[O]=D});var ca,V=function(I,O){for(ca=0;ca<O.length;ca++)if(typeof O[ca]=="string"?I.constructor._shortName==O[ca]:I instanceof O[ca])return true;return false};d.fn.extend({controllers:function(){var I=j(arguments),O=[],Y,ma,ya;this.each(function(){Y=
d.data(this,"controllers");for(ya in Y)if(Y.hasOwnProperty(ya)){ma=Y[ya];if(!I.length||V(ma,I))O.push(ma)}});return O},controller:function(){return this.controllers.apply(this,arguments)[0]}})});steal.loaded("jquery/controller/controller.js");
steal("jquery/controller","jquery/lang/openajax").then(function(){jQuery.Controller.processors.subscribe=function(d,a,j,c,i){var n=OpenAjax.hub.subscribe(j,function(){return i[c].apply(i,arguments)});return function(){OpenAjax.hub.unsubscribe(n)}};jQuery.Controller.prototype.publish=function(){OpenAjax.hub.publish.apply(OpenAjax.hub,arguments)}});steal.loaded("jquery/controller/subscribe/subscribe.js");
steal("jquery/view","jquery/lang/string/rsplit").then(function(d){var a=function(H){eval(H)},j=function(H){return H.substr(0,H.length-1)},c=d.String.rsplit,i=d.extend,n=d.isArray,l=function(H){return H.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"').replace(/\t/g,"\\t")},r=function(H){return H.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")},v=function(H){if(this.constructor!=v){var C=new v(H);return function(R,fa){return C.render(R,
fa)}}if(typeof H=="function"){this.template={};this.template.process=H}else{i(this,v.options,H);this.template=T(this.text,this.type,this.name)}};d.EJS=v;v.prototype={constructor:v,render:function(H,C){H=H||{};this._extra_helpers=C;C=new v.Helpers(H,C||{});return this.template.process.call(H,H,C)}};v.text=function(H){if(typeof H=="string")return H;if(H===null||H===undefined)return"";var C=H.hookup&&function(R,fa){H.hookup.call(H,R,fa)}||typeof H=="function"&&H||n(H)&&function(R,fa){for(var q=0;q<H.length;q++)H[q].hookup?
H[q].hookup(R,fa):H[q](R,fa)};if(C)return"data-view-id='"+d.View.hookup(C)+"'";return H.toString?H.toString():""};v.clean=function(H){return typeof H=="string"?r(H):typeof H=="number"?H:v.text(H)};var z=function(H,C,R){C=c(C,/\n/);for(var fa=0;fa<C.length;fa++)t(H,C[fa],R)},t=function(H,C,R){H.lines++;C=c(C,H.splitter);for(var fa,q=0;q<C.length;q++){fa=C[q];fa!==null&&R(fa,H)}},E=function(H,C){var R={};i(R,{left:H+"%",right:"%"+C,dLeft:H+"%%",dRight:"%%"+C,eeLeft:H+"%==",eLeft:H+"%=",cmnt:H+"%#",
scan:z,lines:0});R.splitter=new RegExp("("+[R.dLeft,R.dRight,R.eeLeft,R.eLeft,R.cmnt,R.left,R.right+"\n",R.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return R},T=function(H,C,R){H=H.replace(/\r\n/g,"\n").replace(/\r/g,"\n");C=C||"<";var fa=new v.Buffer(["var ___v1ew = [];"],[]),q="",D=function(ca){fa.push("___v1ew.push(",'"',l(ca),'");')},J=null,W=function(){q=""};z(E(C,C==="["?"]":">"),H||"",function(ca,V){if(J===null)switch(ca){case "\n":q+="\n";D(q);fa.cr();W();break;
case V.left:case V.eLeft:case V.eeLeft:case V.cmnt:J=ca;q.length>0&&D(q);W();break;case V.dLeft:q+=V.left;break;default:q+=ca;break}else switch(ca){case V.right:switch(J){case V.left:if(q[q.length-1]=="\n"){q=j(q);fa.push(q,";");fa.cr()}else fa.push(q,";");break;case V.eLeft:fa.push("___v1ew.push(","(jQuery.EJS.clean(",q,")));");break;case V.eeLeft:fa.push("___v1ew.push(","(jQuery.EJS.text(",q,")));");break}J=null;W();break;case V.dRight:q+=V.right;break;default:q+=ca;break}});q.length>0&&fa.push("___v1ew.push(",
'"',l(q)+'");');H={out:"try { with(_VIEW) { with (_CONTEXT) {"+fa.close()+" return ___v1ew.join('');}}}catch(e){e.lineNumber=null;throw e;}"};a.call(H,"this.process = (function(_CONTEXT,_VIEW){"+H.out+"});\r\n//@ sourceURL="+R+".js");return H};v.Buffer=function(H,C){this.line=[];this.script=[];this.post=C;this.push.apply(this,H)};v.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){if(this.line.length>
0){this.script.push(this.line.join(""));this.line=[]}this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};v.options={type:"<",ext:".ejs"};v.Helpers=function(H,C){this._data=H;this._extras=C;i(this,C)};v.Helpers.prototype={plugin:function(){var H=d.makeArray(arguments),C=H.shift();return function(R){R=d(R);R[C].apply(R,H)}},view:function(H,C,R){R=R||this._extras;C=C||this._data;return d.View(H,C,R)}};d.View.register({suffix:"ejs",script:function(H,C){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+
(new v({text:C,name:H})).template.out+" })"},renderer:function(H,C){var R=new v({text:C,name:H});return function(fa,q){return R.render.call(R,fa,q)}}})});steal.loaded("jquery/view/ejs/ejs.js");
steal("jquery/view/ejs").then(function(d){d.extend(d.EJS.Helpers.prototype,{text:function(c,i){if(c==null||c===undefined)return i||"";if(c instanceof Date)return c.toDateString();if(c.toString)return c.toString().replace(/\n/g,"<br />").replace(/''/g,"'");return""},month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],check_box_tag:function(c,i,n,l){n=n||{};if(l)n.checked="checked";return this.input_field_tag(c,i,"checkbox",n)},
date_tag:function(c,i){i instanceof Date||(i=new Date);var n=[],l=[],r=[],v=i.getFullYear(),z=i.getMonth();i=i.getDate();for(var t=v-15;t<v+15;t++)n.push({value:t,text:t});for(t=0;t<12;t++)l.push({value:t,text:$View.Helpers.month_names[t]});for(t=0;t<31;t++)r.push({value:t+1,text:t+1});n=this.select_tag(c+"[year]",v,n,{id:c+"[year]"});l=this.select_tag(c+"[month]",z,l,{id:c+"[month]"});c=this.select_tag(c+"[day]",i,r,{id:c+"[day]"});return n+l+c},time_tag:function(c,i,n,l){var r=[];if(l==null||l==
0)l=60;for(var v=0;v<24;v++)for(var z=0;z<60;z+=l){var t=(v<10?"0":"")+v+":"+(z<10?"0":"")+z;r.push({text:t,value:t})}return this.select_tag(c,i,r,n)},file_tag:function(c,i,n){return this.input_field_tag(c+"[file]",i,"file",n)},form_tag:function(c,i){i=i||{};if(i.multipart==true){i.method="post";i.enctype="multipart/form-data"}i.action=c;return this.start_tag_for("form",i)},form_tag_end:function(){return this.tag_end("form")},hidden_field_tag:function(c,i,n){return this.input_field_tag(c,i,"hidden",
n)},input_field_tag:function(c,i,n,l){l=l||{};l.id=l.id||c;l.value=i||"";l.type=n||"text";l.name=c;return this.single_tag_for("input",l)},label_tag:function(c,i){i=i||{};return this.start_tag_for("label",i)+c+this.tag_end("label")},link_to:function(c,i,n){c||(c="null");n||(n={});this.set_confirm(n);n.href=i;return this.start_tag_for("a",n)+c+this.tag_end("a")},link_to_if:function(c,i,n,l){return this.link_to_unless(!c,i,n,l)},link_to_unless:function(c,i,n,l){if(c)return i;return this.link_to(i,n,
l)},set_confirm:function(c){if(c.confirm){c.onclick=c.onclick||"";c.onclick=c.onclick+'; var ret_confirm = confirm("'+c.confirm+'"); if(!ret_confirm){ return false;} ';c.confirm=null}},submit_link_to:function(c,i,n){c||(c="null");n||(n={});n.type="submit";n.value=c;this.set_confirm(n);n.onclick=n.onclick+';window.location="'+i+'"; return false;';return this.single_tag_for("input",n)},password_field_tag:function(c,i,n){return this.input_field_tag(c,i,"password",n)},select_tag:function(c,i,n,l){l=l||
{};l.id=l.id||c;l.name=c;c="";c+=this.start_tag_for("select",l);for(l=0;l<n.length;l++){var r=n[l];if(typeof r=="string")r={value:r};if(!r.text)r.text=r.value;if(!r.value)r.text=r.text;var v={value:r.value};if(r.value==i)v.selected="selected";c+=this.start_tag_for("option",v)+r.text+this.tag_end("option")}c+=this.tag_end("select");return c},single_tag_for:function(c,i){return this.tag(c,i,"/>")},start_tag_for:function(c,i){return this.tag(c,i)},submit_tag:function(c,i){i=i||{};i.type=i.type||"submit";
i.value=c||"Submit";return this.single_tag_for("input",i)},tag:function(c,i,n){n=n||">";var l=" ";for(var r in i)if(i.hasOwnProperty(r)){value=i[r]!=null?i[r].toString():"";if(r=="Class"||r=="klass")r="class";l+=value.indexOf("'")!=-1?r+'="'+value+'" ':r+"='"+value+"' "}return"<"+c+l+n},tag_end:function(c){return"</"+c+">"},text_area_tag:function(c,i,n){n=n||{};n.id=n.id||c;n.name=n.name||c;i=i||"";if(n.size){n.cols=n.size.split("x")[0];n.rows=n.size.split("x")[1];delete n.size}n.cols=n.cols||50;
n.rows=n.rows||4;return this.start_tag_for("textarea",n)+i+this.tag_end("textarea")},text_field_tag:function(c,i,n){return this.input_field_tag(c,i,"text",n)},img_tag:function(c,i){i=i||{};i.src=steal.root.join("resources/images/"+c);return this.single_tag_for("img",i)}});d.EJS.Helpers.prototype.text_tag=d.EJS.Helpers.prototype.text_area_tag;var a={},j=0;d.EJS.Helpers.link_data=function(c){var i=j++;a[i]=c;return"_data='"+i+"'"};d.EJS.Helpers.get_data=function(c){if(!c)return null;c=c.getAttribute("_data");
if(!c)return null;return a[parseInt(c)]};d.EJS.Helpers.prototype.link_data=function(c){return d.EJS.Helpers.link_data(c)};d.EJS.Helpers.prototype.get_data=function(c){return d.EJS.Helpers.get_data(c)}});steal.loaded("jquery/view/helpers/helpers.js");
steal("jquery/controller","jquery/view").then(function(){jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};jQuery.Controller._calculatePosition=function(a,j,c){var i=a.fullName.split("."),n=i.slice(0);n.splice(0,2);n.join("/");i=(a=i.length>2&&i[1]=="Controllers")?jQuery.String.underscore(i[0]):jQuery.String.underscore(i.join("/"));n=jQuery.String.underscore(n.join("/")).toLowerCase();var l=typeof j=="string"&&/\.[\w\d]+$/.test(j)?
"":jQuery.View.ext;if(typeof j=="string"){if(j.substr(0,2)!="//")j="//"+(new steal.File("views/"+(j.indexOf("/")!==-1?j:(a?n+"/":"")+j))).joinFrom(i)+l}else j||(j="//"+(new steal.File("views/"+(a?n+"/":"")+c.replace(/\.|#/g,"").replace(/ /g,"_"))).joinFrom(i)+l);return j};var d=function(a){var j={};if(a)if(jQuery.isArray(a))for(var c=0;c<a.length;c++)jQuery.extend(j,a[c]);else jQuery.extend(j,a);else{if(this._default_helpers)j=this._default_helpers;a=window;c=this.constructor.fullName.split(/\./);
for(var i=0;i<c.length;i++){typeof a.Helpers=="object"&&jQuery.extend(j,a.Helpers);a=a[c[i]]}typeof a.Helpers=="object"&&jQuery.extend(j,a.Helpers);this._default_helpers=j}return j};jQuery.Controller.prototype.view=function(a,j,c){if(typeof a!="string"&&!c){c=j;j=a;a=null}a=jQuery.Controller._calculatePosition(this.Class,a,this.called);j=j||this;c=d.call(this,c);return jQuery.View(a,j,c)}});steal.loaded("jquery/controller/view/view.js");
steal("jquery/dom").then(function(d){var a=/radio|checkbox/i,j=/[^\[\]]+/g,c=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,i=function(n){if(typeof n=="number")return true;if(typeof n!="string")return false;return n.match(c)};d.fn.extend({formParams:function(n){if(this[0].nodeName.toLowerCase()=="form"&&this[0].elements)return jQuery(jQuery.makeArray(this[0].elements)).getParams(n);return jQuery("input[name], textarea[name], select[name]",this[0]).getParams(n)},getParams:function(n){var l={},r;n=n===
undefined?false:n;this.each(function(){var v=this,z=v.type&&v.type.toLowerCase();if(!(z=="submit"||!v.name)){var t=v.name,E=d.data(v,"value")||d.fn.val.call([v]),T=a.test(v.type);t=t.match(j);v=!T||!!v.checked;if(n){if(i(E))E=parseFloat(E);else if(E==="true")E=true;else if(E==="false")E=false;if(E==="")E=undefined}r=l;for(T=0;T<t.length-1;T++){r[t[T]]||(r[t[T]]={});r=r[t[T]]}t=t[t.length-1];if(t in r&&z==="checkbox"){d.isArray(r[t])||(r[t]=r[t]===undefined?[]:[r[t]]);v&&r[t].push(E)}else if(v||!r[t])r[t]=
v?E:undefined}});return l}})});steal.loaded("jquery/dom/form_params/form_params.js");
steal("jquery",function(d){d.toJSON=function(c,i,n,l){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(c,i,n);if(!l&&d.isFunction(i))c=i("",c);if(typeof n=="number")n="          ".substring(0,n);n=typeof n=="string"?n.substring(0,10):"";var r=typeof c;if(c===null)return"null";if(!(r=="undefined"||r=="function")){if(r=="number"||r=="boolean")return c+"";if(r=="string")return d.quoteString(c);if(r=="object"){if(typeof c.toJSON=="function")return d.toJSON(c.toJSON(),i,n,true);if(c.constructor===
Date){n=c.getUTCMonth()+1;if(n<10)n="0"+n;l=c.getUTCDate();if(l<10)l="0"+l;var v=c.getUTCFullYear(),z=c.getUTCHours();if(z<10)z="0"+z;var t=c.getUTCMinutes();if(t<10)t="0"+t;var E=c.getUTCSeconds();if(E<10)E="0"+E;c=c.getUTCMilliseconds();if(c<100)c="0"+c;if(c<10)c="0"+c;return'"'+v+"-"+n+"-"+l+"T"+z+":"+t+":"+E+"."+c+'Z"'}l=d.isFunction(i)?function(C,R){return i(C,R)}:function(C,R){return R};v=n?"\n":"";E=n?" ":"";if(c.constructor===Array){z=[];for(t=0;t<c.length;t++)z.push((d.toJSON(l(t,c[t]),i,
n,true)||"null").replace(/^/gm,n));return"["+v+z.join(","+v)+v+"]"}var T=[];if(d.isArray(i))z=d.map(i,function(C){return typeof C=="string"||typeof C=="number"?C+"":null});for(t in c){var H;r=typeof t;if(!(z&&d.inArray(t+"",z)==-1)){if(r=="number")r='"'+t+'"';else if(r=="string")r=d.quoteString(t);else continue;H=d.toJSON(l(t,c[t]),i,n,true);typeof H!="undefined"&&T.push((r+":"+E+H).replace(/^/gm,n))}}return"{"+v+T.join(","+v)+v+"}"}}};d.evalJSON=function(c){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(c);
return eval("("+c+")")};d.secureEvalJSON=function(c){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(c);var i=c;i=i.replace(/\\["\\\/bfnrtu]/g,"@");i=i.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");i=i.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(i))return eval("("+c+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");};d.quoteString=function(c){if(c.match(a))return'"'+c.replace(a,function(i){var n=j[i];if(typeof n==="string")return n;
n=i.charCodeAt();return"\\u00"+Math.floor(n/16).toString(16)+(n%16).toString(16)})+'"';return'"'+c+'"'};var a=/["\\\x00-\x1f\x7f-\x9f]/g,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});steal.loaded("jquery/lang/json/json.js");
steal("jquery/event","jquery/event/livehack").then(function(d){d.Hover=function(){this._delay=d.Hover.delay;this._distance=d.Hover.distance;this._leave=d.Hover.leave};d.extend(d.Hover,{delay:100,distance:10,leave:0});d.extend(d.Hover.prototype,{delay:function(j){this._delay=j;return this},distance:function(j){this._distance=j;return this},leave:function(j){this._leave=j;return this}});var a=d.event;a.setupHelper(["hoverinit","hoverenter","hoverleave","hovermove"],"mouseenter",function(j){var c=j.liveFired||
j.currentTarget,i=j.handleObj.selector;if(!d.data(c,"_hover"+i)){d.data(c,"_hover"+i,true);var n={pageX:j.pageX,pageY:j.pageY},l=0,r,v=this,z=false,t=j,E=new d.Hover,T,H=function(){d.each(a.find(c,["hoverleave"],i),function(){this.call(v,j,E)});fa()},C=function(q){clearTimeout(T);l+=Math.pow(q.pageX-n.pageX,2)+Math.pow(q.pageY-n.pageY,2);n={pageX:q.pageX,pageY:q.pageY};t=q},R=function(){clearTimeout(r);if(z)if(E._leave===0)H();else{clearTimeout(T);T=setTimeout(function(){H()},E._leave)}else fa()},
fa=function(){d(v).unbind("mouseleave",R);d(v).unbind("mousemove",C);d.removeData(c,"_hover"+i)};d(v).bind("mousemove",C).bind("mouseleave",R);d.each(a.find(c,["hoverinit"],i),function(){this.call(v,j,E)});r=setTimeout(function(){if(l<E._distance&&d(v).queue().length==0){d.each(a.find(c,["hoverenter"],i),function(){this.call(v,t,E)});z=true}else{l=0;r=setTimeout(arguments.callee,E._delay)}},E._delay)}})});steal.loaded("jquery/event/hover/hover.js");
steal("jquery","jquery/lang/string",function(d){var a=false,j=d.makeArray,c=d.isFunction,i=d.isArray,n=d.extend,l=d.String.getObject,r=function(t,E){return t.concat(j(E))},v=/xyz/.test(function(){})?/\b_super\b/:/.*/,z=function(t,E,T){T=T||t;for(var H in t)T[H]=c(t[H])&&c(E[H])&&v.test(t[H])?function(C,R){return function(){var fa=this._super,q;this._super=E[C];q=R.apply(this,arguments);this._super=fa;return q}}(H,t[H]):t[H]};clss=d.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)};
n(clss,{proxy:function(t){var E=j(arguments),T;t=E.shift();i(t)||(t=[t]);T=this;return function(){for(var H=r(E,arguments),C,R=t.length,fa=0,q;fa<R;fa++)if(q=t[fa]){if((C=typeof q=="string")&&T._set_called)T.called=q;H=(C?T[q]:q).apply(T,H||[]);if(fa<R-1)H=!i(H)||H._use_call?[H]:H}return H}},newInstance:function(){var t=this.rawInstance(),E;if(t.setup)E=t.setup.apply(t,arguments);if(t.init)t.init.apply(t,i(E)?E:arguments);return t},setup:function(t){this.defaults=n(true,{},t.defaults,this.defaults);
return arguments},rawInstance:function(){a=true;var t=new this;a=false;return t},extend:function(t,E,T){function H(){if(!a)return this.constructor!==H&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}if(typeof t!="string"){T=E;E=t;t=null}if(!T){T=E;E=null}T=T||{};var C=this,R=this.prototype,fa,q,D,J;a=true;J=new this;a=false;z(T,R,J);for(fa in this)if(this.hasOwnProperty(fa))H[fa]=this[fa];z(E,this,H);if(t){D=t.split(/\./);
q=D.pop();D=R=l(D.join("."),window,true);R[q]=H}n(H,{prototype:J,namespace:D,shortName:q,constructor:H,fullName:t});H.prototype.Class=H.prototype.constructor=H;C=H.setup.apply(H,r([C],arguments));if(H.init)H.init.apply(H,C||[]);return H}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();steal.loaded("jquery/class/class.js");
steal("jquery").then(function(d){var a={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},j=function(l,r,v){return l[r]!==undefined?l[r]:v&&(l[r]={})},c=function(l){return(l=typeof l)&&(l=="function"||l=="object")},i=function(l,r,v){l=l?l.split(a.dot):[];var z=l.length;r=d.isArray(r)?r:[r||window];var t,E,T,H=0;if(z==0)return r[0];for(;t=r[H++];){for(T=0;T<z-1&&c(t);T++)t=j(t,l[T],v);if(c(t)){E=j(t,l[T],v);
if(E!==undefined){v===false&&delete t[l[T]];return E}}}},n=d.String=d.extend(d.String||{},{getObject:i,capitalize:function(l){return l.charAt(0).toUpperCase()+l.substr(1)},camelize:function(l){l=n.classize(l);return l.charAt(0).toLowerCase()+l.substr(1)},classize:function(l,r){l=l.split(a.undHash);for(var v=0;v<l.length;v++)l[v]=n.capitalize(l[v]);return l.join(r||"")},niceName:function(l){return n.classize(l," ")},underscore:function(l){return l.replace(a.colons,"/").replace(a.words,"$1_$2").replace(a.lowUp,
"$1_$2").replace(a.dash,"_").toLowerCase()},sub:function(l,r,v){var z=[];z.push(l.replace(a.replacer,function(t,E){t=i(E,r,typeof v=="boolean"?!v:v);E=typeof t;if((E==="object"||E==="function")&&E!==null){z.push(t);return""}else return""+t}));return z.length<=1?z[0]:z},_regs:a})});steal.loaded("jquery/lang/string/string.js");steal("jquery/event").then(function(d){var a=jQuery.cleanData;d.cleanData=function(j){for(var c=0,i;(i=j[c])!==undefined;c++)d(i).triggerHandler("destroyed");a(j)}});steal.loaded("jquery/event/destroyed/destroyed.js");
(function(d,a){function j(b,e,g){if(g===a&&b.nodeType===1){g="data-"+e.replace(Ca,"-$1").toLowerCase();g=b.getAttribute(g);if(typeof g==="string"){try{g=g==="true"?true:g==="false"?false:g==="null"?null:!f.isNaN(g)?parseFloat(g):ib.test(g)?f.parseJSON(g):g}catch(k){}f.data(b,e,g)}else g=a}return g}function c(b){for(var e in b)if(e!=="toJSON")return false;return true}function i(b,e,g){var k=e+"defer",m=e+"queue",o=e+"mark",s=f.data(b,k,a,true);if(s&&(g==="queue"||!f.data(b,m,a,true))&&(g==="mark"||
!f.data(b,o,a,true)))setTimeout(function(){if(!f.data(b,m,a,true)&&!f.data(b,o,a,true)){f.removeData(b,k,true);s.resolve()}},0)}function n(){return false}function l(){return true}function r(b,e,g){var k=f.extend({},g[0]);k.type=b;k.originalEvent={};k.liveFired=a;f.event.handle.call(e,k);k.isDefaultPrevented()&&g[0].preventDefault()}function v(b){var e,g,k,m,o,s,B,F,G,P,ka,qa=[];m=[];o=f._data(this,"events");if(!(b.liveFired===this||!o||!o.live||b.target.disabled||b.button&&b.type==="click")){if(b.namespace)ka=
new RegExp("(^|\\.)"+b.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");b.liveFired=this;var va=o.live.slice(0);for(B=0;B<va.length;B++){o=va[B];o.origType.replace(Ta,"")===b.type?m.push(o.selector):va.splice(B--,1)}m=f(b.target).closest(m,b.currentTarget);F=0;for(G=m.length;F<G;F++){P=m[F];for(B=0;B<va.length;B++){o=va[B];if(P.selector===o.selector&&(!ka||ka.test(o.namespace))&&!P.elem.disabled){s=P.elem;k=null;if(o.preType==="mouseenter"||o.preType==="mouseleave"){b.type=o.preType;if((k=f(b.relatedTarget).closest(o.selector)[0])&&
f.contains(s,k))k=s}if(!k||k!==s)qa.push({elem:s,handleObj:o,level:P.level})}}}F=0;for(G=qa.length;F<G;F++){m=qa[F];if(g&&m.level>g)break;b.currentTarget=m.elem;b.data=m.handleObj.data;b.handleObj=m.handleObj;ka=m.handleObj.origHandler.apply(m.elem,arguments);if(ka===false||b.isPropagationStopped()){g=m.level;if(ka===false)e=false;if(b.isImmediatePropagationStopped())break}}return e}}function z(b,e){return(b&&b!=="*"?b+".":"")+e.replace(Ra,"`").replace(pb,"&")}function t(b){return!b||!b.parentNode||
b.parentNode.nodeType===11}function E(b,e,g){e=e||0;if(f.isFunction(e))return f.grep(b,function(m,o){return!!e.call(m,o,m)===g});else if(e.nodeType)return f.grep(b,function(m){return m===e===g});else if(typeof e==="string"){var k=f.grep(b,function(m){return m.nodeType===1});if(tb.test(e))return f.filter(e,k,!g);else e=f.filter(e,k)}return f.grep(b,function(m){return f.inArray(m,e)>=0===g})}function T(b){return f.nodeName(b,"table")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):
b}function H(b,e){if(!(e.nodeType!==1||!f.hasData(b))){var g=f.expando,k=f.data(b),m=f.data(e,k);if(k=k[g]){b=k.events;m=m[g]=f.extend({},k);if(b){delete m.handle;m.events={};for(var o in b){g=0;for(k=b[o].length;g<k;g++)f.event.add(e,o+(b[o][g].namespace?".":"")+b[o][g].namespace,b[o][g],b[o][g].data)}}}}}function C(b,e){var g;if(e.nodeType===1){e.clearAttributes&&e.clearAttributes();e.mergeAttributes&&e.mergeAttributes(b);g=e.nodeName.toLowerCase();if(g==="object")e.outerHTML=b.outerHTML;else if(g===
"input"&&(b.type==="checkbox"||b.type==="radio")){if(b.checked)e.defaultChecked=e.checked=b.checked;if(e.value!==b.value)e.value=b.value}else if(g==="option")e.selected=b.defaultSelected;else if(g==="input"||g==="textarea")e.defaultValue=b.defaultValue;e.removeAttribute(f.expando)}}function R(b){return"getElementsByTagName"in b?b.getElementsByTagName("*"):"querySelectorAll"in b?b.querySelectorAll("*"):[]}function fa(b){if(b.type==="checkbox"||b.type==="radio")b.defaultChecked=b.checked}function q(b){if(f.nodeName(b,
"input"))fa(b);else"getElementsByTagName"in b&&f.grep(b.getElementsByTagName("input"),fa)}function D(b,e){e.src?f.ajax({url:e.src,async:false,dataType:"script"}):f.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ia,"/*$0*/"));e.parentNode&&e.parentNode.removeChild(e)}function J(b,e,g){var k=e==="width"?b.offsetWidth:b.offsetHeight,m=e==="width"?sa:ua;if(k>0){g!=="border"&&f.each(m,function(){g||(k-=parseFloat(f.css(b,"padding"+this))||0);if(g==="margin")k+=parseFloat(f.css(b,g+this))||
0;else k-=parseFloat(f.css(b,"border"+this+"Width"))||0});return k+"px"}k=Ua(b,e,e);if(k<0||k==null)k=b.style[e]||0;k=parseFloat(k)||0;g&&f.each(m,function(){k+=parseFloat(f.css(b,"padding"+this))||0;if(g!=="padding")k+=parseFloat(f.css(b,"border"+this+"Width"))||0;if(g==="margin")k+=parseFloat(f.css(b,g+this))||0});return k+"px"}function W(b){return function(e,g){if(typeof e!=="string"){g=e;e="*"}if(f.isFunction(g)){e=e.toLowerCase().split(Vb);for(var k=0,m=e.length,o,s;k<m;k++){o=e[k];if(s=/^\+/.test(o))o=
o.substr(1)||"*";o=b[o]=b[o]||[];o[s?"unshift":"push"](g)}}}}function ca(b,e,g,k,m,o){m=m||e.dataTypes[0];o=o||{};o[m]=true;m=b[m];for(var s=0,B=m?m.length:0,F=b===Qb,G;s<B&&(F||!G);s++){G=m[s](e,g,k);if(typeof G==="string")if(!F||o[G])G=a;else{e.dataTypes.unshift(G);G=ca(b,e,g,k,G,o)}}if((F||!G)&&!o["*"])G=ca(b,e,g,k,"*",o);return G}function V(b,e){var g,k,m=f.ajaxSettings.flatOptions||{};for(g in e)if(e[g]!==a)(m[g]?b:k||(k={}))[g]=e[g];k&&f.extend(true,b,k)}function I(b,e,g,k){if(f.isArray(e))f.each(e,
function(o,s){g||zb.test(b)?k(b,s):I(b+"["+(typeof s==="object"||f.isArray(s)?o:"")+"]",s,g,k)});else if(!g&&e!=null&&typeof e==="object")for(var m in e)I(b+"["+m+"]",e[m],g,k);else k(b,e)}function O(b,e,g){var k=b.contents,m=b.dataTypes,o=b.responseFields,s,B,F,G;for(B in o)if(B in g)e[o[B]]=g[B];for(;m[0]==="*";){m.shift();if(s===a)s=b.mimeType||e.getResponseHeader("content-type")}if(s)for(B in k)if(k[B]&&k[B].test(s)){m.unshift(B);break}if(m[0]in g)F=m[0];else{for(B in g){if(!m[0]||b.converters[B+
" "+m[0]]){F=B;break}G||(G=B)}F=F||G}if(F){F!==m[0]&&m.unshift(F);return g[F]}}function Y(b,e){if(b.dataFilter)e=b.dataFilter(e,b.dataType);var g=b.dataTypes,k={},m,o,s=g.length,B,F=g[0],G,P,ka,qa,va;for(m=1;m<s;m++){if(m===1)for(o in b.converters)if(typeof o==="string")k[o.toLowerCase()]=b.converters[o];G=F;F=g[m];if(F==="*")F=G;else if(G!=="*"&&G!==F){P=G+" "+F;ka=k[P]||k["* "+F];if(!ka){va=a;for(qa in k){B=qa.split(" ");if(B[0]===G||B[0]==="*")if(va=k[B[1]+" "+F]){qa=k[qa];if(qa===true)ka=va;else if(va===
true)ka=qa;break}}}ka||va||f.error("No conversion from "+P.replace(" "," to "));if(ka!==true)e=ka?ka(e):va(qa(e))}}return e}function ma(){try{return new d.XMLHttpRequest}catch(b){}}function ya(){try{return new d.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function Pa(){setTimeout(sb,0);return Mb=f.now()}function sb(){Mb=a}function Qa(b,e){var g={};f.each(Wb.concat.apply([],Wb.slice(0,e)),function(){g[this]=b});return g}function Hb(b){if(!Rb[b]){var e=aa.body,g=f("<"+b+">").appendTo(e),k=g.css("display");
g.remove();if(k==="none"||k===""){if(!qb){qb=aa.createElement("iframe");qb.frameBorder=qb.width=qb.height=0}e.appendChild(qb);if(!Ib||!qb.createElement){Ib=(qb.contentWindow||qb.contentDocument).document;Ib.write((aa.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ib.close()}g=Ib.createElement(b);Ib.body.appendChild(g);k=f.css(g,"display");e.removeChild(qb)}Rb[b]=k}return Rb[b]}function Ab(b){return f.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:false}var aa=d.document,
Bb=d.navigator,Z=d.location,f=function(){function b(){if(!e.isReady){try{aa.documentElement.doScroll("left")}catch(A){setTimeout(b,1);return}e.ready()}}var e=function(A,X){return new e.fn.init(A,X,m)},g=d.jQuery,k=d.$,m,o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,s=/\S/,B=/^\s+/,F=/\s+$/,G=/\d/,P=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ka=/^[\],:{}\s]*$/,qa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,va=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ha=/(?:^|:|,)(?:\s*\[)+/g,Cb=/(webkit)[ \/]([\w.]+)/,
Va=/(opera)(?:.*version)?[ \/]([\w.]+)/,gb=/(msie) ([\w.]+)/,kb=/(mozilla)(?:.*? rv:([\w.]+))?/,p=/-([a-z]|[0-9])/ig,u=/^-ms-/,L=function(A,X){return(X+"").toUpperCase()},K=Bb.userAgent,N,S,ea=Object.prototype.toString,da=Object.prototype.hasOwnProperty,wa=Array.prototype.push,Wa=Array.prototype.slice,Sa=String.prototype.trim,$a=Array.prototype.indexOf,xa={};e.fn=e.prototype={constructor:e,init:function(A,X,ga){var ia;if(!A)return this;if(A.nodeType){this.context=this[0]=A;this.length=1;return this}if(A===
"body"&&!X&&aa.body){this.context=aa;this[0]=aa.body;this.selector=A;this.length=1;return this}if(typeof A==="string")if((ia=A.charAt(0)==="<"&&A.charAt(A.length-1)===">"&&A.length>=3?[null,A,null]:o.exec(A))&&(ia[1]||!X))if(ia[1]){ga=(X=X instanceof e?X[0]:X)?X.ownerDocument||X:aa;if(A=P.exec(A))if(e.isPlainObject(X)){A=[aa.createElement(A[1])];e.fn.attr.call(A,X,true)}else A=[ga.createElement(A[1])];else{A=e.buildFragment([ia[1]],[ga]);A=(A.cacheable?e.clone(A.fragment):A.fragment).childNodes}return e.merge(this,
A)}else{if((X=aa.getElementById(ia[2]))&&X.parentNode){if(X.id!==ia[2])return ga.find(A);this.length=1;this[0]=X}this.context=aa;this.selector=A;return this}else return!X||X.jquery?(X||ga).find(A):this.constructor(X).find(A);else if(e.isFunction(A))return ga.ready(A);if(A.selector!==a){this.selector=A.selector;this.context=A.context}return e.makeArray(A,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return Wa.call(this,0)},get:function(A){return A==
null?this.toArray():A<0?this[this.length+A]:this[A]},pushStack:function(A,X,ga){var ia=this.constructor();e.isArray(A)?wa.apply(ia,A):e.merge(ia,A);ia.prevObject=this;ia.context=this.context;if(X==="find")ia.selector=this.selector+(this.selector?" ":"")+ga;else if(X)ia.selector=this.selector+"."+X+"("+ga+")";return ia},each:function(A,X){return e.each(this,A,X)},ready:function(A){e.bindReady();N.done(A);return this},eq:function(A){return A===-1?this.slice(A):this.slice(A,+A+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Wa.apply(this,arguments),"slice",Wa.call(arguments).join(","))},map:function(A){return this.pushStack(e.map(this,function(X,ga){return A.call(X,ga,X)}))},end:function(){return this.prevObject||this.constructor(null)},push:wa,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var A,X,ga,ia,Oa,Da=arguments[0]||{},Xa=1,Ya=arguments.length,Sb=false;if(typeof Da==="boolean"){Sb=Da;Da=arguments[1]||
{};Xa=2}if(typeof Da!=="object"&&!e.isFunction(Da))Da={};if(Ya===Xa){Da=this;--Xa}for(;Xa<Ya;Xa++)if((A=arguments[Xa])!=null)for(X in A){ga=Da[X];ia=A[X];if(Da!==ia)if(Sb&&ia&&(e.isPlainObject(ia)||(Oa=e.isArray(ia)))){if(Oa){Oa=false;ga=ga&&e.isArray(ga)?ga:[]}else ga=ga&&e.isPlainObject(ga)?ga:{};Da[X]=e.extend(Sb,ga,ia)}else if(ia!==a)Da[X]=ia}return Da};e.extend({noConflict:function(A){if(d.$===e)d.$=k;if(A&&d.jQuery===e)d.jQuery=g;return e},isReady:false,readyWait:1,holdReady:function(A){if(A)e.readyWait++;
else e.ready(true)},ready:function(A){if(A===true&&!--e.readyWait||A!==true&&!e.isReady){if(!aa.body)return setTimeout(e.ready,1);e.isReady=true;if(!(A!==true&&--e.readyWait>0)){N.resolveWith(aa,[e]);e.fn.trigger&&e(aa).trigger("ready").unbind("ready")}}},bindReady:function(){if(!N){N=e._Deferred();if(aa.readyState==="complete")return setTimeout(e.ready,1);if(aa.addEventListener){aa.addEventListener("DOMContentLoaded",S,false);d.addEventListener("load",e.ready,false)}else if(aa.attachEvent){aa.attachEvent("onreadystatechange",
S);d.attachEvent("onload",e.ready);var A=false;try{A=d.frameElement==null}catch(X){}aa.documentElement.doScroll&&A&&b()}}},isFunction:function(A){return e.type(A)==="function"},isArray:Array.isArray||function(A){return e.type(A)==="array"},isWindow:function(A){return A&&typeof A==="object"&&"setInterval"in A},isNaN:function(A){return A==null||!G.test(A)||isNaN(A)},type:function(A){return A==null?String(A):xa[ea.call(A)]||"object"},isPlainObject:function(A){if(!A||e.type(A)!=="object"||A.nodeType||
e.isWindow(A))return false;try{if(A.constructor&&!da.call(A,"constructor")&&!da.call(A.constructor.prototype,"isPrototypeOf"))return false}catch(X){return false}var ga;for(ga in A);return ga===a||da.call(A,ga)},isEmptyObject:function(A){for(var X in A)return false;return true},error:function(A){throw A;},parseJSON:function(A){if(typeof A!=="string"||!A)return null;A=e.trim(A);if(d.JSON&&d.JSON.parse)return d.JSON.parse(A);if(ka.test(A.replace(qa,"@").replace(va,"]").replace(Ha,"")))return(new Function("return "+
A))();e.error("Invalid JSON: "+A)},parseXML:function(A){var X,ga;try{if(d.DOMParser){ga=new DOMParser;X=ga.parseFromString(A,"text/xml")}else{X=new ActiveXObject("Microsoft.XMLDOM");X.async="false";X.loadXML(A)}}catch(ia){X=a}if(!X||!X.documentElement||X.getElementsByTagName("parsererror").length)e.error("Invalid XML: "+A);return X},noop:function(){},globalEval:function(A){if(A&&s.test(A))(d.execScript||function(X){d.eval.call(d,X)})(A)},camelCase:function(A){return A.replace(u,"ms-").replace(p,L)},
nodeName:function(A,X){return A.nodeName&&A.nodeName.toUpperCase()===X.toUpperCase()},each:function(A,X,ga){var ia,Oa=0,Da=A.length,Xa=Da===a||e.isFunction(A);if(ga)if(Xa)for(ia in A){if(X.apply(A[ia],ga)===false)break}else for(;Oa<Da;){if(X.apply(A[Oa++],ga)===false)break}else if(Xa)for(ia in A){if(X.call(A[ia],ia,A[ia])===false)break}else for(;Oa<Da;)if(X.call(A[Oa],Oa,A[Oa++])===false)break;return A},trim:Sa?function(A){return A==null?"":Sa.call(A)}:function(A){return A==null?"":A.toString().replace(B,
"").replace(F,"")},makeArray:function(A,X){X=X||[];if(A!=null){var ga=e.type(A);A.length==null||ga==="string"||ga==="function"||ga==="regexp"||e.isWindow(A)?wa.call(X,A):e.merge(X,A)}return X},inArray:function(A,X){if(!X)return-1;if($a)return $a.call(X,A);for(var ga=0,ia=X.length;ga<ia;ga++)if(X[ga]===A)return ga;return-1},merge:function(A,X){var ga=A.length,ia=0;if(typeof X.length==="number")for(var Oa=X.length;ia<Oa;ia++)A[ga++]=X[ia];else for(;X[ia]!==a;)A[ga++]=X[ia++];A.length=ga;return A},grep:function(A,
X,ga){var ia=[],Oa;ga=!!ga;for(var Da=0,Xa=A.length;Da<Xa;Da++){Oa=!!X(A[Da],Da);ga!==Oa&&ia.push(A[Da])}return ia},map:function(A,X,ga){var ia,Oa,Da=[],Xa=0,Ya=A.length;if(A instanceof e||Ya!==a&&typeof Ya==="number"&&(Ya>0&&A[0]&&A[Ya-1]||Ya===0||e.isArray(A)))for(;Xa<Ya;Xa++){ia=X(A[Xa],Xa,ga);if(ia!=null)Da[Da.length]=ia}else for(Oa in A){ia=X(A[Oa],Oa,ga);if(ia!=null)Da[Da.length]=ia}return Da.concat.apply([],Da)},guid:1,proxy:function(A,X){if(typeof X==="string"){var ga=A[X];X=A;A=ga}if(!e.isFunction(A))return a;
var ia=Wa.call(arguments,2);ga=function(){return A.apply(X,ia.concat(Wa.call(arguments)))};ga.guid=A.guid=A.guid||ga.guid||e.guid++;return ga},access:function(A,X,ga,ia,Oa,Da){var Xa=A.length;if(typeof X==="object"){for(var Ya in X)e.access(A,Ya,X[Ya],ia,Oa,ga);return A}if(ga!==a){ia=!Da&&ia&&e.isFunction(ga);for(Ya=0;Ya<Xa;Ya++)Oa(A[Ya],X,ia?ga.call(A[Ya],Ya,Oa(A[Ya],X)):ga,Da);return A}return Xa?Oa(A[0],X):a},now:function(){return(new Date).getTime()},uaMatch:function(A){A=A.toLowerCase();A=Cb.exec(A)||
Va.exec(A)||gb.exec(A)||A.indexOf("compatible")<0&&kb.exec(A)||[];return{browser:A[1]||"",version:A[2]||"0"}},sub:function(){function A(ga,ia){return new A.fn.init(ga,ia)}e.extend(true,A,this);A.superclass=this;A.fn=A.prototype=this();A.fn.constructor=A;A.sub=this.sub;A.fn.init=function(ga,ia){if(ia&&ia instanceof e&&!(ia instanceof A))ia=A(ia);return e.fn.init.call(this,ga,ia,X)};A.fn.init.prototype=A.fn;var X=A(aa);return A},browser:{}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(A,X){xa["[object "+X+"]"]=X.toLowerCase()});K=e.uaMatch(K);if(K.browser){e.browser[K.browser]=true;e.browser.version=K.version}if(e.browser.webkit)e.browser.safari=true;if(s.test("\u00a0")){B=/^[\s\xA0]+/;F=/[\s\xA0]+$/}m=e(aa);if(aa.addEventListener)S=function(){aa.removeEventListener("DOMContentLoaded",S,false);e.ready()};else if(aa.attachEvent)S=function(){if(aa.readyState==="complete"){aa.detachEvent("onreadystatechange",S);e.ready()}};return e}(),rb="done fail isResolved isRejected promise then always pipe".split(" "),
wb=[].slice;f.extend({_Deferred:function(){var b=[],e,g,k,m={done:function(){if(!k){var o=arguments,s,B,F,G,P;if(e){P=e;e=0}s=0;for(B=o.length;s<B;s++){F=o[s];G=f.type(F);if(G==="array")m.done.apply(m,F);else G==="function"&&b.push(F)}P&&m.resolveWith(P[0],P[1])}return this},resolveWith:function(o,s){if(!k&&!e&&!g){s=s||[];g=1;try{for(;b[0];)b.shift().apply(o,s)}finally{e=[o,s];g=0}}return this},resolve:function(){m.resolveWith(this,arguments);return this},isResolved:function(){return!!(g||e)},cancel:function(){k=
1;b=[];return this}};return m},Deferred:function(b){var e=f._Deferred(),g=f._Deferred(),k;f.extend(e,{then:function(m,o){e.done(m).fail(o);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:g.done,rejectWith:g.resolveWith,reject:g.resolve,isRejected:g.isResolved,pipe:function(m,o){return f.Deferred(function(s){f.each({done:[m,"resolve"],fail:[o,"reject"]},function(B,F){var G=F[0],P=F[1],ka;f.isFunction(G)?e[B](function(){(ka=G.apply(this,arguments))&&
f.isFunction(ka.promise)?ka.promise().then(s.resolve,s.reject):s[P+"With"](this===e?s:this,[ka])}):e[B](s[P])})}).promise()},promise:function(m){if(m==null){if(k)return k;k=m={}}for(var o=rb.length;o--;)m[rb[o]]=e[rb[o]];return m}});e.done(g.cancel).fail(e.cancel);delete e.cancel;b&&b.call(e,e);return e},when:function(b){function e(B){return function(F){g[B]=arguments.length>1?wb.call(arguments,0):F;--o||s.resolveWith(s,wb.call(g,0))}}var g=arguments,k=0,m=g.length,o=m,s=m<=1&&b&&f.isFunction(b.promise)?
b:f.Deferred();if(m>1){for(;k<m;k++)if(g[k]&&f.isFunction(g[k].promise))g[k].promise().then(e(k),s.reject);else--o;o||s.resolveWith(s,g)}else if(s!==b)s.resolveWith(s,m?[b]:[]);return s.promise()}});f.support=function(){var b=aa.createElement("div"),e=aa.documentElement,g,k,m,o,s,B;b.setAttribute("className","t");b.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";g=b.getElementsByTagName("*");k=b.getElementsByTagName("a")[0];if(!g||
!g.length||!k)return{};m=aa.createElement("select");o=m.appendChild(aa.createElement("option"));g=b.getElementsByTagName("input")[0];s={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,htmlSerialize:!!b.getElementsByTagName("link").length,style:/top/.test(k.getAttribute("style")),hrefNormalized:k.getAttribute("href")==="/a",opacity:/^0.55$/.test(k.style.opacity),cssFloat:!!k.style.cssFloat,checkOn:g.value==="on",optSelected:o.selected,getSetAttribute:b.className!==
"t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};g.checked=true;s.noCloneChecked=g.cloneNode(true).checked;m.disabled=true;s.optDisabled=!o.disabled;try{delete b.test}catch(F){s.deleteExpando=false}if(!b.addEventListener&&b.attachEvent&&b.fireEvent){b.attachEvent("onclick",function(){s.noCloneEvent=false});b.cloneNode(true).fireEvent("onclick")}g=aa.createElement("input");
g.value="t";g.setAttribute("type","radio");s.radioValue=g.value==="t";g.setAttribute("checked","checked");b.appendChild(g);k=aa.createDocumentFragment();k.appendChild(b.firstChild);s.checkClone=k.cloneNode(true).cloneNode(true).lastChild.checked;b.innerHTML="";b.style.width=b.style.paddingLeft="1px";m=aa.getElementsByTagName("body")[0];k=aa.createElement(m?"div":"body");o={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};m&&f.extend(o,{position:"absolute",left:"-1000px",top:"-1000px"});
for(B in o)k.style[B]=o[B];k.appendChild(b);e=m||e;e.insertBefore(k,e.firstChild);s.appendChecked=g.checked;s.boxModel=b.offsetWidth===2;if("zoom"in b.style){b.style.display="inline";b.style.zoom=1;s.inlineBlockNeedsLayout=b.offsetWidth===2;b.style.display="";b.innerHTML="<div style='width:4px;'></div>";s.shrinkWrapBlocks=b.offsetWidth!==2}b.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";m=b.getElementsByTagName("td");g=m[0].offsetHeight===0;m[0].style.display=
"";m[1].style.display="none";s.reliableHiddenOffsets=g&&m[0].offsetHeight===0;b.innerHTML="";if(aa.defaultView&&aa.defaultView.getComputedStyle){g=aa.createElement("div");g.style.width="0";g.style.marginRight="0";b.appendChild(g);s.reliableMarginRight=(parseInt((aa.defaultView.getComputedStyle(g,null)||{marginRight:0}).marginRight,10)||0)===0}k.innerHTML="";e.removeChild(k);if(b.attachEvent)for(B in{submit:1,change:1,focusin:1}){e="on"+B;g=e in b;if(!g){b.setAttribute(e,"return;");g=typeof b[e]===
"function"}s[B+"Bubbles"]=g}k=k=m=o=m=g=b=g=null;return s}();f.boxModel=f.support.boxModel;var ib=/^(?:\{.*\}|\[.*\])$/,Ca=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(b){b=b.nodeType?f.cache[b[f.expando]]:b[f.expando];return!!b&&!c(b)},data:function(b,e,g,k){if(f.acceptData(b)){var m=f.expando,o=typeof e==="string",s=b.nodeType,B=s?f.cache:b,
F=s?b[f.expando]:b[f.expando]&&f.expando;if(!((!F||k&&F&&B[F]&&!B[F][m])&&o&&g===a)){if(!F)if(s)b[f.expando]=F=++f.uuid;else F=f.expando;if(!B[F]){B[F]={};if(!s)B[F].toJSON=f.noop}if(typeof e==="object"||typeof e==="function")if(k)B[F][m]=f.extend(B[F][m],e);else B[F]=f.extend(B[F],e);b=B[F];if(k){b[m]||(b[m]={});b=b[m]}if(g!==a)b[f.camelCase(e)]=g;if(e==="events"&&!b[e])return b[m]&&b[m].events;if(o){g=b[e];if(g==null)g=b[f.camelCase(e)]}else g=b;return g}}},removeData:function(b,e,g){if(f.acceptData(b)){var k,
m=f.expando,o=b.nodeType,s=o?f.cache:b,B=o?b[f.expando]:f.expando;if(s[B]){if(e)if(k=g?s[B][m]:s[B]){k[e]||(e=f.camelCase(e));delete k[e];if(!c(k))return}if(g){delete s[B][m];if(!c(s[B]))return}e=s[B][m];if(f.support.deleteExpando||!s.setInterval)delete s[B];else s[B]=null;if(e){s[B]={};if(!o)s[B].toJSON=f.noop;s[B][m]=e}else if(o)if(f.support.deleteExpando)delete b[f.expando];else if(b.removeAttribute)b.removeAttribute(f.expando);else b[f.expando]=null}}},_data:function(b,e,g){return f.data(b,e,
g,true)},acceptData:function(b){if(b.nodeName){var e=f.noData[b.nodeName.toLowerCase()];if(e)return!(e===true||b.getAttribute("classid")!==e)}return true}});f.fn.extend({data:function(b,e){var g=null;if(typeof b==="undefined"){if(this.length){g=f.data(this[0]);if(this[0].nodeType===1)for(var k=this[0].attributes,m,o=0,s=k.length;o<s;o++){m=k[o].name;if(m.indexOf("data-")===0){m=f.camelCase(m.substring(5));j(this[0],m,g[m])}}}return g}else if(typeof b==="object")return this.each(function(){f.data(this,
b)});var B=b.split(".");B[1]=B[1]?"."+B[1]:"";if(e===a){g=this.triggerHandler("getData"+B[1]+"!",[B[0]]);if(g===a&&this.length){g=f.data(this[0],b);g=j(this[0],b,g)}return g===a&&B[1]?this.data(B[0]):g}else return this.each(function(){var F=f(this),G=[B[0],e];F.triggerHandler("setData"+B[1]+"!",G);f.data(this,b,e);F.triggerHandler("changeData"+B[1]+"!",G)})},removeData:function(b){return this.each(function(){f.removeData(this,b)})}});f.extend({_mark:function(b,e){if(b){e=(e||"fx")+"mark";f.data(b,
e,(f.data(b,e,a,true)||0)+1,true)}},_unmark:function(b,e,g){if(b!==true){g=e;e=b;b=false}if(e){g=g||"fx";var k=g+"mark";if(b=b?0:(f.data(e,k,a,true)||1)-1)f.data(e,k,b,true);else{f.removeData(e,k,true);i(e,g,"mark")}}},queue:function(b,e,g){if(b){e=(e||"fx")+"queue";var k=f.data(b,e,a,true);if(g)if(!k||f.isArray(g))k=f.data(b,e,f.makeArray(g),true);else k.push(g);return k||[]}},dequeue:function(b,e){e=e||"fx";var g=f.queue(b,e),k=g.shift();if(k==="inprogress")k=g.shift();if(k){e==="fx"&&g.unshift("inprogress");
k.call(b,function(){f.dequeue(b,e)})}if(!g.length){f.removeData(b,e+"queue",true);i(b,e,"queue")}}});f.fn.extend({queue:function(b,e){if(typeof b!=="string"){e=b;b="fx"}if(e===a)return f.queue(this[0],b);return this.each(function(){var g=f.queue(this,b,e);b==="fx"&&g[0]!=="inprogress"&&f.dequeue(this,b)})},dequeue:function(b){return this.each(function(){f.dequeue(this,b)})},delay:function(b,e){b=f.fx?f.fx.speeds[b]||b:b;e=e||"fx";return this.queue(e,function(){var g=this;setTimeout(function(){f.dequeue(g,
e)},b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,e){function g(){--o||k.resolveWith(m,[m])}if(typeof b!=="string"){e=b;b=a}b=b||"fx";var k=f.Deferred(),m=this;e=m.length;var o=1,s=b+"defer",B=b+"queue";b=b+"mark";for(var F;e--;)if(F=f.data(m[e],s,a,true)||(f.data(m[e],B,a,true)||f.data(m[e],b,a,true))&&f.data(m[e],s,f._Deferred(),true)){o++;F.done(g)}g();return k.promise()}});var Ea=/[\n\t\r]/g,Fa=/\s+/,db=/\r/g,xb=/^(?:button|input)$/i,Db=/^(?:button|input|object|select|textarea)$/i,
M=/^a(?:rea)?$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ja,Ma;f.fn.extend({attr:function(b,e){return f.access(this,b,e,true,f.attr)},removeAttr:function(b){return this.each(function(){f.removeAttr(this,b)})},prop:function(b,e){return f.access(this,b,e,true,f.prop)},removeProp:function(b){b=f.propFix[b]||b;return this.each(function(){try{this[b]=a;delete this[b]}catch(e){}})},addClass:function(b){var e,g,k,m,o,
s,B;if(f.isFunction(b))return this.each(function(F){f(this).addClass(b.call(this,F,this.className))});if(b&&typeof b==="string"){e=b.split(Fa);g=0;for(k=this.length;g<k;g++){m=this[g];if(m.nodeType===1)if(!m.className&&e.length===1)m.className=b;else{o=" "+m.className+" ";s=0;for(B=e.length;s<B;s++)~o.indexOf(" "+e[s]+" ")||(o+=e[s]+" ");m.className=f.trim(o)}}}return this},removeClass:function(b){var e,g,k,m,o,s,B;if(f.isFunction(b))return this.each(function(F){f(this).removeClass(b.call(this,F,
this.className))});if(b&&typeof b==="string"||b===a){e=(b||"").split(Fa);g=0;for(k=this.length;g<k;g++){m=this[g];if(m.nodeType===1&&m.className)if(b){o=(" "+m.className+" ").replace(Ea," ");s=0;for(B=e.length;s<B;s++)o=o.replace(" "+e[s]+" "," ");m.className=f.trim(o)}else m.className=""}}return this},toggleClass:function(b,e){var g=typeof b,k=typeof e==="boolean";if(f.isFunction(b))return this.each(function(m){f(this).toggleClass(b.call(this,m,this.className,e),e)});return this.each(function(){if(g===
"string")for(var m,o=0,s=f(this),B=e,F=b.split(Fa);m=F[o++];){B=k?B:!s.hasClass(m);s[B?"addClass":"removeClass"](m)}else if(g==="undefined"||g==="boolean"){this.className&&f._data(this,"__className__",this.className);this.className=this.className||b===false?"":f._data(this,"__className__")||""}})},hasClass:function(b){b=" "+b+" ";for(var e=0,g=this.length;e<g;e++)if(this[e].nodeType===1&&(" "+this[e].className+" ").replace(Ea," ").indexOf(b)>-1)return true;return false},val:function(b){var e,g,k=
this[0];if(!arguments.length){if(k){if((e=f.valHooks[k.nodeName.toLowerCase()]||f.valHooks[k.type])&&"get"in e&&(g=e.get(k,"value"))!==a)return g;g=k.value;return typeof g==="string"?g.replace(db,""):g==null?"":g}return a}var m=f.isFunction(b);return this.each(function(o){var s=f(this);if(this.nodeType===1){o=m?b.call(this,o,s.val()):b;if(o==null)o="";else if(typeof o==="number")o+="";else if(f.isArray(o))o=f.map(o,function(B){return B==null?"":B+""});e=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];
if(!e||!("set"in e)||e.set(this,o,"value")===a)this.value=o}})}});f.extend({valHooks:{option:{get:function(b){var e=b.attributes.value;return!e||e.specified?b.value:b.text}},select:{get:function(b){var e,g=b.selectedIndex,k=[],m=b.options;b=b.type==="select-one";if(g<0)return null;for(var o=b?g:0,s=b?g+1:m.length;o<s;o++){e=m[o];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){e=f(e).val();if(b)return e;
k.push(e)}}if(b&&!k.length&&m.length)return f(m[g]).val();return k},set:function(b,e){var g=f.makeArray(e);f(b).find("option").each(function(){this.selected=f.inArray(f(this).val(),g)>=0});if(!g.length)b.selectedIndex=-1;return g}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(b,e,g,k){var m=b.nodeType;if(!b||m===3||m===8||m===2)return a;if(k&&e in f.attrFn)return f(b)[e](g);if(!("getAttribute"in b))return f.prop(b,
e,g);var o,s;if(k=m!==1||!f.isXMLDoc(b)){e=f.attrFix[e]||e;s=f.attrHooks[e];if(!s)if(U.test(e))s=Ma;else if(ja)s=ja}if(g!==a)if(g===null){f.removeAttr(b,e);return a}else if(s&&"set"in s&&k&&(o=s.set(b,g,e))!==a)return o;else{b.setAttribute(e,""+g);return g}else if(s&&"get"in s&&k&&(o=s.get(b,e))!==null)return o;else{o=b.getAttribute(e);return o===null?a:o}},removeAttr:function(b,e){var g;if(b.nodeType===1){e=f.attrFix[e]||e;f.attr(b,e,"");b.removeAttribute(e);if(U.test(e)&&(g=f.propFix[e]||e)in b)b[g]=
false}},attrHooks:{type:{set:function(b,e){if(xb.test(b.nodeName)&&b.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&e==="radio"&&f.nodeName(b,"input")){var g=b.value;b.setAttribute("type",e);if(g)b.value=g;return e}}},value:{get:function(b,e){if(ja&&f.nodeName(b,"button"))return ja.get(b,e);return e in b?b.value:null},set:function(b,e,g){if(ja&&f.nodeName(b,"button"))return ja.set(b,e,g);b.value=e}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor",
"class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,e,g){var k=b.nodeType;if(!b||k===3||k===8||k===2)return a;var m,o;if(k!==1||!f.isXMLDoc(b)){e=f.propFix[e]||e;o=f.propHooks[e]}return g!==a?o&&"set"in o&&(m=o.set(b,g,e))!==a?m:(b[e]=g):o&&"get"in o&&(m=o.get(b,e))!==null?m:b[e]},propHooks:{tabIndex:{get:function(b){var e=b.getAttributeNode("tabindex");
return e&&e.specified?parseInt(e.value,10):Db.test(b.nodeName)||M.test(b.nodeName)&&b.href?0:a}}}});f.attrHooks.tabIndex=f.propHooks.tabIndex;Ma={get:function(b,e){var g;return f.prop(b,e)===true||(g=b.getAttributeNode(e))&&g.nodeValue!==false?e.toLowerCase():a},set:function(b,e,g){if(e===false)f.removeAttr(b,g);else{e=f.propFix[g]||g;if(e in b)b[e]=true;b.setAttribute(g,g.toLowerCase())}return g}};if(!f.support.getSetAttribute){ja=f.valHooks.button={get:function(b,e){return(b=b.getAttributeNode(e))&&
b.nodeValue!==""?b.nodeValue:a},set:function(b,e,g){var k=b.getAttributeNode(g);if(!k){k=aa.createAttribute(g);b.setAttributeNode(k)}return k.nodeValue=e+""}};f.each(["width","height"],function(b,e){f.attrHooks[e]=f.extend(f.attrHooks[e],{set:function(g,k){if(k===""){g.setAttribute(e,"auto");return k}}})})}f.support.hrefNormalized||f.each(["href","src","width","height"],function(b,e){f.attrHooks[e]=f.extend(f.attrHooks[e],{get:function(g){g=g.getAttribute(e,2);return g===null?a:g}})});if(!f.support.style)f.attrHooks.style=
{get:function(b){return b.style.cssText.toLowerCase()||a},set:function(b,e){return b.style.cssText=""+e}};if(!f.support.optSelected)f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(){return null}});f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(b){return b.getAttribute("value")===null?"on":b.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(b,e){if(f.isArray(e))return b.checked=f.inArray(f(b).val(),
e)>=0}})});var Ta=/\.(.*)$/,ab=/^(?:textarea|input|select)$/i,Ra=/\./g,pb=/ /g,Eb=/[^\w\s.|`]/g,Za=function(b){return b.replace(Eb,"\\$&")};f.event={add:function(b,e,g,k){if(!(b.nodeType===3||b.nodeType===8)){if(g===false)g=n;else if(!g)return;var m,o;if(g.handler){m=g;g=m.handler}if(!g.guid)g.guid=f.guid++;if(o=f._data(b)){var s=o.events,B=o.handle;if(!s)o.events=s={};if(!B)o.handle=B=function(va){return typeof f!=="undefined"&&(!va||f.event.triggered!==va.type)?f.event.handle.apply(B.elem,arguments):
a};B.elem=b;e=e.split(" ");for(var F,G=0,P;F=e[G++];){o=m?f.extend({},m):{handler:g,data:k};if(F.indexOf(".")>-1){P=F.split(".");F=P.shift();o.namespace=P.slice(0).sort().join(".")}else{P=[];o.namespace=""}o.type=F;if(!o.guid)o.guid=g.guid;var ka=s[F],qa=f.event.special[F]||{};if(!ka){ka=s[F]=[];if(!qa.setup||qa.setup.call(b,k,P,B)===false)if(b.addEventListener)b.addEventListener(F,B,false);else b.attachEvent&&b.attachEvent("on"+F,B)}if(qa.add){qa.add.call(b,o);if(!o.handler.guid)o.handler.guid=g.guid}ka.push(o);
f.event.global[F]=true}b=null}}},global:{},remove:function(b,e,g,k){if(!(b.nodeType===3||b.nodeType===8)){if(g===false)g=n;var m,o,s=0,B,F,G,P,ka,qa,va=f.hasData(b)&&f._data(b),Ha=va&&va.events;if(va&&Ha){if(e&&e.type){g=e.handler;e=e.type}if(!e||typeof e==="string"&&e.charAt(0)==="."){e=e||"";for(m in Ha)f.event.remove(b,m+e)}else{for(e=e.split(" ");m=e[s++];){P=m;B=m.indexOf(".")<0;F=[];if(!B){F=m.split(".");m=F.shift();G=new RegExp("(^|\\.)"+f.map(F.slice(0).sort(),Za).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(ka=
Ha[m])if(g){P=f.event.special[m]||{};for(o=k||0;o<ka.length;o++){qa=ka[o];if(g.guid===qa.guid){if(B||G.test(qa.namespace)){k==null&&ka.splice(o--,1);P.remove&&P.remove.call(b,qa)}if(k!=null)break}}if(ka.length===0||k!=null&&ka.length===1){if(!P.teardown||P.teardown.call(b,F)===false)f.removeEvent(b,m,va.handle);delete Ha[m]}}else for(o=0;o<ka.length;o++){qa=ka[o];if(B||G.test(qa.namespace)){f.event.remove(b,P,qa.handler,o);ka.splice(o--,1)}}}if(f.isEmptyObject(Ha)){if(e=va.handle)e.elem=null;delete va.events;
delete va.handle;f.isEmptyObject(va)&&f.removeData(b,a,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b,e,g,k){var m=b.type||b,o=[],s;if(m.indexOf("!")>=0){m=m.slice(0,-1);s=true}if(m.indexOf(".")>=0){o=m.split(".");m=o.shift();o.sort()}if(!((!g||f.event.customEvent[m])&&!f.event.global[m])){b=typeof b==="object"?b[f.expando]?b:new f.Event(m,b):new f.Event(m);b.type=m;b.exclusive=s;b.namespace=o.join(".");b.namespace_re=new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.)?")+
"(\\.|$)");if(k||!g){b.preventDefault();b.stopPropagation()}if(g){if(!(g.nodeType===3||g.nodeType===8)){b.result=a;b.target=g;e=e!=null?f.makeArray(e):[];e.unshift(b);o=g;k=m.indexOf(":")<0?"on"+m:"";do{s=f._data(o,"handle");b.currentTarget=o;s&&s.apply(o,e);if(k&&f.acceptData(o)&&o[k]&&o[k].apply(o,e)===false){b.result=false;b.preventDefault()}o=o.parentNode||o.ownerDocument||o===b.target.ownerDocument&&d}while(o&&!b.isPropagationStopped());if(!b.isDefaultPrevented()){var B;o=f.event.special[m]||
{};if((!o._default||o._default.call(g.ownerDocument,b)===false)&&!(m==="click"&&f.nodeName(g,"a"))&&f.acceptData(g)){try{if(k&&g[m]){if(B=g[k])g[k]=null;f.event.triggered=m;g[m]()}}catch(F){}if(B)g[k]=B;f.event.triggered=a}}return b.result}}else f.each(f.cache,function(){var G=this[f.expando];G&&G.events&&G.events[m]&&f.event.trigger(b,e,G.handle.elem)})}},handle:function(b){b=f.event.fix(b||d.event);var e=((f._data(this,"events")||{})[b.type]||[]).slice(0),g=!b.exclusive&&!b.namespace,k=Array.prototype.slice.call(arguments,
0);k[0]=b;b.currentTarget=this;for(var m=0,o=e.length;m<o;m++){var s=e[m];if(g||b.namespace_re.test(s.namespace)){b.handler=s.handler;b.data=s.data;b.handleObj=s;s=s.handler.apply(this,k);if(s!==a){b.result=s;if(s===false){b.preventDefault();b.stopPropagation()}}if(b.isImmediatePropagationStopped())break}}return b.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(b){if(b[f.expando])return b;var e=b;b=f.Event(e);for(var g=this.props.length,k;g;){k=this.props[--g];b[k]=e[k]}if(!b.target)b.target=b.srcElement||aa;if(b.target.nodeType===3)b.target=b.target.parentNode;if(!b.relatedTarget&&b.fromElement)b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement;if(b.pageX==null&&b.clientX!=null){g=b.target.ownerDocument||aa;e=g.documentElement;g=g.body;b.pageX=b.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||
0);b.pageY=b.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0)}if(b.which==null&&(b.charCode!=null||b.keyCode!=null))b.which=b.charCode!=null?b.charCode:b.keyCode;if(!b.metaKey&&b.ctrlKey)b.metaKey=b.ctrlKey;if(!b.which&&b.button!==a)b.which=b.button&1?1:b.button&2?3:b.button&4?2:0;return b},guid:1E8,proxy:f.proxy,special:{ready:{setup:f.bindReady,teardown:f.noop},live:{add:function(b){f.event.add(this,z(b.origType,b.selector),f.extend({},b,{handler:v,guid:b.handler.guid}))},
remove:function(b){f.event.remove(this,z(b.origType,b.selector),b)}},beforeunload:{setup:function(b,e,g){if(f.isWindow(this))this.onbeforeunload=g},teardown:function(b,e){if(this.onbeforeunload===e)this.onbeforeunload=null}}}};f.removeEvent=aa.removeEventListener?function(b,e,g){b.removeEventListener&&b.removeEventListener(e,g,false)}:function(b,e,g){b.detachEvent&&b.detachEvent("on"+e,g)};f.Event=function(b,e){if(!this.preventDefault)return new f.Event(b,e);if(b&&b.type){this.originalEvent=b;this.type=
b.type;this.isDefaultPrevented=b.defaultPrevented||b.returnValue===false||b.getPreventDefault&&b.getPreventDefault()?l:n}else this.type=b;e&&f.extend(this,e);this.timeStamp=f.now();this[f.expando]=true};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=l;var b=this.originalEvent;if(b)if(b.preventDefault)b.preventDefault();else b.returnValue=false},stopPropagation:function(){this.isPropagationStopped=l;var b=this.originalEvent;if(b){b.stopPropagation&&b.stopPropagation();b.cancelBubble=
true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};var bb=function(b){var e=b.relatedTarget,g=false,k=b.type;b.type=b.data;if(e!==this){if(e)g=f.contains(this,e);if(!g){f.event.handle.apply(this,arguments);b.type=k}}},ub=function(b){b.type=b.data;f.event.handle.apply(this,arguments)};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,e){f.event.special[b]=
{setup:function(g){f.event.add(this,e,g&&g.selector?ub:bb,b)},teardown:function(g){f.event.remove(this,e,g&&g.selector?ub:bb)}}});if(!f.support.submitBubbles)f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return false;else{f.event.add(this,"click.specialSubmit",function(b){var e=b.target,g=f.nodeName(e,"input")||f.nodeName(e,"button")?e.type:"";if((g==="submit"||g==="image")&&f(e).closest("form").length)r("submit",this,arguments)});f.event.add(this,"keypress.specialSubmit",function(b){var e=
b.target,g=f.nodeName(e,"input")||f.nodeName(e,"button")?e.type:"";if((g==="text"||g==="password")&&f(e).closest("form").length&&b.keyCode===13)r("submit",this,arguments)})}},teardown:function(){f.event.remove(this,".specialSubmit")}};if(!f.support.changeBubbles){var yb,Nb=function(b){var e=f.nodeName(b,"input")?b.type:"",g=b.value;if(e==="radio"||e==="checkbox")g=b.checked;else if(e==="select-multiple")g=b.selectedIndex>-1?f.map(b.options,function(k){return k.selected}).join("-"):"";else if(f.nodeName(b,
"select"))g=b.selectedIndex;return g},jb=function(b,e){var g=b.target,k,m;if(!(!ab.test(g.nodeName)||g.readOnly)){k=f._data(g,"_change_data");m=Nb(g);if(b.type!=="focusout"||g.type!=="radio")f._data(g,"_change_data",m);if(!(k===a||m===k))if(k!=null||m){b.type="change";b.liveFired=a;f.event.trigger(b,e,g)}}};f.event.special.change={filters:{focusout:jb,beforedeactivate:jb,click:function(b){var e=b.target,g=f.nodeName(e,"input")?e.type:"";if(g==="radio"||g==="checkbox"||f.nodeName(e,"select"))jb.call(this,
b)},keydown:function(b){var e=b.target,g=f.nodeName(e,"input")?e.type:"";if(b.keyCode===13&&!f.nodeName(e,"textarea")||b.keyCode===32&&(g==="checkbox"||g==="radio")||g==="select-multiple")jb.call(this,b)},beforeactivate:function(b){b=b.target;f._data(b,"_change_data",Nb(b))}},setup:function(){if(this.type==="file")return false;for(var b in yb)f.event.add(this,b+".specialChange",yb[b]);return ab.test(this.nodeName)},teardown:function(){f.event.remove(this,".specialChange");return ab.test(this.nodeName)}};
yb=f.event.special.change.filters;yb.focus=yb.beforeactivate}f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(b,e){function g(m){var o=f.event.fix(m);o.type=e;o.originalEvent={};f.event.trigger(o,null,o.target);o.isDefaultPrevented()&&m.preventDefault()}var k=0;f.event.special[e]={setup:function(){k++===0&&aa.addEventListener(b,g,true)},teardown:function(){--k===0&&aa.removeEventListener(b,g,true)}}});f.each(["bind","one"],function(b,e){f.fn[e]=function(g,k,m){var o;if(typeof g===
"object"){for(var s in g)this[e](s,k,g[s],m);return this}if(arguments.length===2||k===false){m=k;k=a}if(e==="one"){o=function(F){f(this).unbind(F,o);return m.apply(this,arguments)};o.guid=m.guid||f.guid++}else o=m;if(g==="unload"&&e!=="one")this.one(g,k,m);else{s=0;for(var B=this.length;s<B;s++)f.event.add(this[s],g,o,k)}return this}});f.fn.extend({unbind:function(b,e){if(typeof b==="object"&&!b.preventDefault)for(var g in b)this.unbind(g,b[g]);else{g=0;for(var k=this.length;g<k;g++)f.event.remove(this[g],
b,e)}return this},delegate:function(b,e,g,k){return this.live(e,g,k,b)},undelegate:function(b,e,g){return arguments.length===0?this.unbind("live"):this.die(e,null,g,b)},trigger:function(b,e){return this.each(function(){f.event.trigger(b,e,this)})},triggerHandler:function(b,e){if(this[0])return f.event.trigger(b,e,this[0],true)},toggle:function(b){var e=arguments,g=b.guid||f.guid++,k=0,m=function(o){var s=(f.data(this,"lastToggle"+b.guid)||0)%k;f.data(this,"lastToggle"+b.guid,s+1);o.preventDefault();
return e[s].apply(this,arguments)||false};for(m.guid=g;k<e.length;)e[k++].guid=g;return this.click(m)},hover:function(b,e){return this.mouseenter(b).mouseleave(e||b)}});var Ja={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};f.each(["live","die"],function(b,e){f.fn[e]=function(g,k,m,o){var s=0,B,F,G=o||this.selector,P=o?this:f(this.context);if(typeof g==="object"&&!g.preventDefault){for(B in g)P[e](B,k,g[B],G);return this}if(e==="die"&&!g&&o&&o.charAt(0)==="."){P.unbind(o);
return this}if(k===false||f.isFunction(k)){m=k||n;k=a}for(g=(g||"").split(" ");(o=g[s++])!=null;){B=Ta.exec(o);F="";if(B){F=B[0];o=o.replace(Ta,"")}if(o==="hover")g.push("mouseenter"+F,"mouseleave"+F);else{B=o;if(Ja[o]){g.push(Ja[o]+F);o+=F}else o=(Ja[o]||o)+F;if(e==="live"){F=0;for(var ka=P.length;F<ka;F++)f.event.add(P[F],"live."+z(o,G),{data:k,selector:G,handler:m,origType:o,origHandler:m,preType:B})}else P.unbind("live."+z(o,G),m)}}return this}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(b,e){f.fn[e]=function(g,k){if(k==null){k=g;g=null}return arguments.length>0?this.bind(e,g,k):this.trigger(e)};if(f.attrFn)f.attrFn[e]=true});(function(){function b(p,u,L,K,N,S){N=0;for(var ea=K.length;N<ea;N++){var da=K[N];if(da){var wa=false;for(da=da[p];da;){if(da.sizcache===L){wa=K[da.sizset];break}if(da.nodeType===1&&!S){da.sizcache=L;da.sizset=N}if(da.nodeName.toLowerCase()===u){wa=da;break}da=da[p]}K[N]=wa}}}function e(p,u,L,K,N,S){N=0;for(var ea=K.length;N<ea;N++){var da=K[N];if(da){var wa=
false;for(da=da[p];da;){if(da.sizcache===L){wa=K[da.sizset];break}if(da.nodeType===1){if(!S){da.sizcache=L;da.sizset=N}if(typeof u!=="string"){if(da===u){wa=true;break}}else if(G.filter(u,[da]).length>0){wa=da;break}}da=da[p]}K[N]=wa}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k=0,m=Object.prototype.toString,o=false,s=true,B=/\\/g,F=/\W/;[0,0].sort(function(){s=false;return 0});var G=function(p,u,L,K){L=
L||[];var N=u=u||aa;if(u.nodeType!==1&&u.nodeType!==9)return[];if(!p||typeof p!=="string")return L;var S,ea,da,wa,Wa,Sa=true,$a=G.isXML(u),xa=[],A=p;do{g.exec("");if(S=g.exec(A)){A=S[3];xa.push(S[1]);if(S[2]){wa=S[3];break}}}while(S);if(xa.length>1&&ka.exec(p))if(xa.length===2&&P.relative[xa[0]])ea=kb(xa[0]+xa[1],u);else for(ea=P.relative[xa[0]]?[u]:G(xa.shift(),u);xa.length;){p=xa.shift();if(P.relative[p])p+=xa.shift();ea=kb(p,ea)}else{if(!K&&xa.length>1&&u.nodeType===9&&!$a&&P.match.ID.test(xa[0])&&
!P.match.ID.test(xa[xa.length-1])){S=G.find(xa.shift(),u,$a);u=S.expr?G.filter(S.expr,S.set)[0]:S.set[0]}if(u){S=K?{expr:xa.pop(),set:Ha(K)}:G.find(xa.pop(),xa.length===1&&(xa[0]==="~"||xa[0]==="+")&&u.parentNode?u.parentNode:u,$a);ea=S.expr?G.filter(S.expr,S.set):S.set;if(xa.length>0)da=Ha(ea);else Sa=false;for(;xa.length;){S=Wa=xa.pop();if(P.relative[Wa])S=xa.pop();else Wa="";if(S==null)S=u;P.relative[Wa](da,S,$a)}}else da=[]}da||(da=ea);da||G.error(Wa||p);if(m.call(da)==="[object Array]")if(Sa)if(u&&
u.nodeType===1)for(p=0;da[p]!=null;p++){if(da[p]&&(da[p]===true||da[p].nodeType===1&&G.contains(u,da[p])))L.push(ea[p])}else for(p=0;da[p]!=null;p++)da[p]&&da[p].nodeType===1&&L.push(ea[p]);else L.push.apply(L,da);else Ha(da,L);if(wa){G(wa,N,L,K);G.uniqueSort(L)}return L};G.uniqueSort=function(p){if(Va){o=s;p.sort(Va);if(o)for(var u=1;u<p.length;u++)p[u]===p[u-1]&&p.splice(u--,1)}return p};G.matches=function(p,u){return G(p,null,null,u)};G.matchesSelector=function(p,u){return G(u,null,null,[p]).length>
0};G.find=function(p,u,L){var K;if(!p)return[];for(var N=0,S=P.order.length;N<S;N++){var ea,da=P.order[N];if(ea=P.leftMatch[da].exec(p)){var wa=ea[1];ea.splice(1,1);if(wa.substr(wa.length-1)!=="\\"){ea[1]=(ea[1]||"").replace(B,"");K=P.find[da](ea,u,L);if(K!=null){p=p.replace(P.match[da],"");break}}}}K||(K=typeof u.getElementsByTagName!=="undefined"?u.getElementsByTagName("*"):[]);return{set:K,expr:p}};G.filter=function(p,u,L,K){for(var N,S,ea=p,da=[],wa=u,Wa=u&&u[0]&&G.isXML(u[0]);p&&u.length;){for(var Sa in P.filter)if((N=
P.leftMatch[Sa].exec(p))!=null&&N[2]){var $a,xa,A=P.filter[Sa];xa=N[1];S=false;N.splice(1,1);if(xa.substr(xa.length-1)!=="\\"){if(wa===da)da=[];if(P.preFilter[Sa])if(N=P.preFilter[Sa](N,wa,L,da,K,Wa)){if(N===true)continue}else S=$a=true;if(N)for(var X=0;(xa=wa[X])!=null;X++)if(xa){$a=A(xa,N,X,wa);var ga=K^!!$a;if(L&&$a!=null)if(ga)S=true;else wa[X]=false;else if(ga){da.push(xa);S=true}}if($a!==a){L||(wa=da);p=p.replace(P.match[Sa],"");if(!S)return[];break}}}if(p===ea)if(S==null)G.error(p);else break;
ea=p}return wa};G.error=function(p){throw"Syntax error, unrecognized expression: "+p;};var P=G.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(p){return p.getAttribute("href")},type:function(p){return p.getAttribute("type")}},relative:{"+":function(p,u){var L=typeof u==="string",K=L&&!F.test(u);L=L&&!K;if(K)u=u.toLowerCase();K=0;for(var N=p.length,S;K<N;K++)if(S=p[K]){for(;(S=S.previousSibling)&&S.nodeType!==
1;);p[K]=L||S&&S.nodeName.toLowerCase()===u?S||false:S===u}L&&G.filter(u,p,true)},">":function(p,u){var L,K=typeof u==="string",N=0,S=p.length;if(K&&!F.test(u))for(u=u.toLowerCase();N<S;N++){if(L=p[N]){L=L.parentNode;p[N]=L.nodeName.toLowerCase()===u?L:false}}else{for(;N<S;N++)if(L=p[N])p[N]=K?L.parentNode:L.parentNode===u;K&&G.filter(u,p,true)}},"":function(p,u,L){var K,N=k++,S=e;if(typeof u==="string"&&!F.test(u)){K=u=u.toLowerCase();S=b}S("parentNode",u,N,p,K,L)},"~":function(p,u,L){var K,N=k++,
S=e;if(typeof u==="string"&&!F.test(u)){K=u=u.toLowerCase();S=b}S("previousSibling",u,N,p,K,L)}},find:{ID:function(p,u,L){if(typeof u.getElementById!=="undefined"&&!L)return(p=u.getElementById(p[1]))&&p.parentNode?[p]:[]},NAME:function(p,u){if(typeof u.getElementsByName!=="undefined"){var L=[];u=u.getElementsByName(p[1]);for(var K=0,N=u.length;K<N;K++)u[K].getAttribute("name")===p[1]&&L.push(u[K]);return L.length===0?null:L}},TAG:function(p,u){if(typeof u.getElementsByTagName!=="undefined")return u.getElementsByTagName(p[1])}},
preFilter:{CLASS:function(p,u,L,K,N,S){p=" "+p[1].replace(B,"")+" ";if(S)return p;S=0;for(var ea;(ea=u[S])!=null;S++)if(ea)if(N^(ea.className&&(" "+ea.className+" ").replace(/[\t\n\r]/g," ").indexOf(p)>=0))L||K.push(ea);else if(L)u[S]=false;return false},ID:function(p){return p[1].replace(B,"")},TAG:function(p){return p[1].replace(B,"").toLowerCase()},CHILD:function(p){if(p[1]==="nth"){p[2]||G.error(p[0]);p[2]=p[2].replace(/^\+|\s*/g,"");var u=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(p[2]==="even"&&"2n"||
p[2]==="odd"&&"2n+1"||!/\D/.test(p[2])&&"0n+"+p[2]||p[2]);p[2]=u[1]+(u[2]||1)-0;p[3]=u[3]-0}else p[2]&&G.error(p[0]);p[0]=k++;return p},ATTR:function(p,u,L,K,N,S){u=p[1]=p[1].replace(B,"");if(!S&&P.attrMap[u])p[1]=P.attrMap[u];p[4]=(p[4]||p[5]||"").replace(B,"");if(p[2]==="~=")p[4]=" "+p[4]+" ";return p},PSEUDO:function(p,u,L,K,N){if(p[1]==="not")if((g.exec(p[3])||"").length>1||/^\w/.test(p[3]))p[3]=G(p[3],null,null,u);else{p=G.filter(p[3],u,L,true^N);L||K.push.apply(K,p);return false}else if(P.match.POS.test(p[0])||
P.match.CHILD.test(p[0]))return true;return p},POS:function(p){p.unshift(true);return p}},filters:{enabled:function(p){return p.disabled===false&&p.type!=="hidden"},disabled:function(p){return p.disabled===true},checked:function(p){return p.checked===true},selected:function(p){return p.selected===true},parent:function(p){return!!p.firstChild},empty:function(p){return!p.firstChild},has:function(p,u,L){return!!G(L[3],p).length},header:function(p){return/h\d/i.test(p.nodeName)},text:function(p){var u=
p.getAttribute("type"),L=p.type;return p.nodeName.toLowerCase()==="input"&&"text"===L&&(u===L||u===null)},radio:function(p){return p.nodeName.toLowerCase()==="input"&&"radio"===p.type},checkbox:function(p){return p.nodeName.toLowerCase()==="input"&&"checkbox"===p.type},file:function(p){return p.nodeName.toLowerCase()==="input"&&"file"===p.type},password:function(p){return p.nodeName.toLowerCase()==="input"&&"password"===p.type},submit:function(p){var u=p.nodeName.toLowerCase();return(u==="input"||
u==="button")&&"submit"===p.type},image:function(p){return p.nodeName.toLowerCase()==="input"&&"image"===p.type},reset:function(p){var u=p.nodeName.toLowerCase();return(u==="input"||u==="button")&&"reset"===p.type},button:function(p){var u=p.nodeName.toLowerCase();return u==="input"&&"button"===p.type||u==="button"},input:function(p){return/input|select|textarea|button/i.test(p.nodeName)},focus:function(p){return p===p.ownerDocument.activeElement}},setFilters:{first:function(p,u){return u===0},last:function(p,
u,L,K){return u===K.length-1},even:function(p,u){return u%2===0},odd:function(p,u){return u%2===1},lt:function(p,u,L){return u<L[3]-0},gt:function(p,u,L){return u>L[3]-0},nth:function(p,u,L){return L[3]-0===u},eq:function(p,u,L){return L[3]-0===u}},filter:{PSEUDO:function(p,u,L,K){var N=u[1],S=P.filters[N];if(S)return S(p,L,u,K);else if(N==="contains")return(p.textContent||p.innerText||G.getText([p])||"").indexOf(u[3])>=0;else if(N==="not"){u=u[3];L=0;for(K=u.length;L<K;L++)if(u[L]===p)return false;
return true}else G.error(N)},CHILD:function(p,u){var L=u[1],K=p;switch(L){case "only":case "first":for(;K=K.previousSibling;)if(K.nodeType===1)return false;if(L==="first")return true;K=p;case "last":for(;K=K.nextSibling;)if(K.nodeType===1)return false;return true;case "nth":L=u[2];var N=u[3];if(L===1&&N===0)return true;u=u[0];var S=p.parentNode;if(S&&(S.sizcache!==u||!p.nodeIndex)){var ea=0;for(K=S.firstChild;K;K=K.nextSibling)if(K.nodeType===1)K.nodeIndex=++ea;S.sizcache=u}p=p.nodeIndex-N;return L===
0?p===0:p%L===0&&p/L>=0}},ID:function(p,u){return p.nodeType===1&&p.getAttribute("id")===u},TAG:function(p,u){return u==="*"&&p.nodeType===1||p.nodeName.toLowerCase()===u},CLASS:function(p,u){return(" "+(p.className||p.getAttribute("class"))+" ").indexOf(u)>-1},ATTR:function(p,u){var L=u[1];p=P.attrHandle[L]?P.attrHandle[L](p):p[L]!=null?p[L]:p.getAttribute(L);L=p+"";var K=u[2];u=u[4];return p==null?K==="!=":K==="="?L===u:K==="*="?L.indexOf(u)>=0:K==="~="?(" "+L+" ").indexOf(u)>=0:!u?L&&p!==false:
K==="!="?L!==u:K==="^="?L.indexOf(u)===0:K==="$="?L.substr(L.length-u.length)===u:K==="|="?L===u||L.substr(0,u.length+1)===u+"-":false},POS:function(p,u,L,K){var N=P.setFilters[u[2]];if(N)return N(p,L,u,K)}}},ka=P.match.POS,qa=function(p,u){return"\\"+(u-0+1)};for(var va in P.match){P.match[va]=new RegExp(P.match[va].source+/(?![^\[]*\])(?![^\(]*\))/.source);P.leftMatch[va]=new RegExp(/(^(?:.|\r|\n)*?)/.source+P.match[va].source.replace(/\\(\d+)/g,qa))}var Ha=function(p,u){p=Array.prototype.slice.call(p,
0);if(u){u.push.apply(u,p);return u}return p};try{Array.prototype.slice.call(aa.documentElement.childNodes,0)}catch(Cb){Ha=function(p,u){var L=0;u=u||[];if(m.call(p)==="[object Array]")Array.prototype.push.apply(u,p);else if(typeof p.length==="number")for(var K=p.length;L<K;L++)u.push(p[L]);else for(;p[L];L++)u.push(p[L]);return u}}var Va,gb;if(aa.documentElement.compareDocumentPosition)Va=function(p,u){if(p===u){o=true;return 0}if(!p.compareDocumentPosition||!u.compareDocumentPosition)return p.compareDocumentPosition?
-1:1;return p.compareDocumentPosition(u)&4?-1:1};else{Va=function(p,u){if(p===u){o=true;return 0}else if(p.sourceIndex&&u.sourceIndex)return p.sourceIndex-u.sourceIndex;var L,K,N=[],S=[];L=p.parentNode;K=u.parentNode;var ea=L;if(L===K)return gb(p,u);else if(L){if(!K)return 1}else return-1;for(;ea;){N.unshift(ea);ea=ea.parentNode}for(ea=K;ea;){S.unshift(ea);ea=ea.parentNode}L=N.length;K=S.length;for(ea=0;ea<L&&ea<K;ea++)if(N[ea]!==S[ea])return gb(N[ea],S[ea]);return ea===L?gb(p,S[ea],-1):gb(N[ea],
u,1)};gb=function(p,u,L){if(p===u)return L;for(p=p.nextSibling;p;){if(p===u)return-1;p=p.nextSibling}return 1}}G.getText=function(p){for(var u="",L,K=0;p[K];K++){L=p[K];if(L.nodeType===3||L.nodeType===4)u+=L.nodeValue;else if(L.nodeType!==8)u+=G.getText(L.childNodes)}return u};(function(){var p=aa.createElement("div"),u="script"+(new Date).getTime(),L=aa.documentElement;p.innerHTML="<a name='"+u+"'/>";L.insertBefore(p,L.firstChild);if(aa.getElementById(u)){P.find.ID=function(K,N,S){if(typeof N.getElementById!==
"undefined"&&!S)return(N=N.getElementById(K[1]))?N.id===K[1]||typeof N.getAttributeNode!=="undefined"&&N.getAttributeNode("id").nodeValue===K[1]?[N]:a:[]};P.filter.ID=function(K,N){var S=typeof K.getAttributeNode!=="undefined"&&K.getAttributeNode("id");return K.nodeType===1&&S&&S.nodeValue===N}}L.removeChild(p);L=p=null})();(function(){var p=aa.createElement("div");p.appendChild(aa.createComment(""));if(p.getElementsByTagName("*").length>0)P.find.TAG=function(u,L){L=L.getElementsByTagName(u[1]);if(u[1]===
"*"){u=[];for(var K=0;L[K];K++)L[K].nodeType===1&&u.push(L[K]);L=u}return L};p.innerHTML="<a href='#'></a>";if(p.firstChild&&typeof p.firstChild.getAttribute!=="undefined"&&p.firstChild.getAttribute("href")!=="#")P.attrHandle.href=function(u){return u.getAttribute("href",2)};p=null})();aa.querySelectorAll&&function(){var p=G,u=aa.createElement("div");u.innerHTML="<p class='TEST'></p>";if(!(u.querySelectorAll&&u.querySelectorAll(".TEST").length===0)){G=function(K,N,S,ea){N=N||aa;if(!ea&&!G.isXML(N)){var da=
/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(K);if(da&&(N.nodeType===1||N.nodeType===9))if(da[1])return Ha(N.getElementsByTagName(K),S);else if(da[2]&&P.find.CLASS&&N.getElementsByClassName)return Ha(N.getElementsByClassName(da[2]),S);if(N.nodeType===9){if(K==="body"&&N.body)return Ha([N.body],S);else if(da&&da[3]){var wa=N.getElementById(da[3]);if(wa&&wa.parentNode){if(wa.id===da[3])return Ha([wa],S)}else return Ha([],S)}try{return Ha(N.querySelectorAll(K),S)}catch(Wa){}}else if(N.nodeType===1&&N.nodeName.toLowerCase()!==
"object"){da=N;var Sa=(wa=N.getAttribute("id"))||"__sizzle__",$a=N.parentNode,xa=/^\s*[+~]/.test(K);if(wa)Sa=Sa.replace(/'/g,"\\$&");else N.setAttribute("id",Sa);if(xa&&$a)N=N.parentNode;try{if(!xa||$a)return Ha(N.querySelectorAll("[id='"+Sa+"'] "+K),S)}catch(A){}finally{wa||da.removeAttribute("id")}}}return p(K,N,S,ea)};for(var L in p)G[L]=p[L];u=null}}();(function(){var p=aa.documentElement,u=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.msMatchesSelector;if(u){var L=!u.call(aa.createElement("div"),
"div"),K=false;try{u.call(aa.documentElement,"[test!='']:sizzle")}catch(N){K=true}G.matchesSelector=function(S,ea){ea=ea.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!G.isXML(S))try{if(K||!P.match.PSEUDO.test(ea)&&!/!=/.test(ea)){var da=u.call(S,ea);if(da||!L||S.document&&S.document.nodeType!==11)return da}}catch(wa){}return G(ea,null,null,[S]).length>0}}})();(function(){var p=aa.createElement("div");p.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!p.getElementsByClassName||
p.getElementsByClassName("e").length===0)){p.lastChild.className="e";if(p.getElementsByClassName("e").length!==1){P.order.splice(1,0,"CLASS");P.find.CLASS=function(u,L,K){if(typeof L.getElementsByClassName!=="undefined"&&!K)return L.getElementsByClassName(u[1])};p=null}}})();G.contains=aa.documentElement.contains?function(p,u){return p!==u&&(p.contains?p.contains(u):true)}:aa.documentElement.compareDocumentPosition?function(p,u){return!!(p.compareDocumentPosition(u)&16)}:function(){return false};
G.isXML=function(p){return(p=(p?p.ownerDocument||p:0).documentElement)?p.nodeName!=="HTML":false};var kb=function(p,u){var L,K=[],N="";for(u=u.nodeType?[u]:u;L=P.match.PSEUDO.exec(p);){N+=L[0];p=p.replace(P.match.PSEUDO,"")}p=P.relative[p]?p+"*":p;L=0;for(var S=u.length;L<S;L++)G(p,u[L],K);return G.filter(N,K)};f.find=G;f.expr=G.selectors;f.expr[":"]=f.expr.filters;f.unique=G.uniqueSort;f.text=G.getText;f.isXMLDoc=G.isXML;f.contains=G.contains})();var Ka=/Until$/,lb=/^(?:parents|prevUntil|prevAll)/,
Lb=/,/,tb=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,ra=f.expr.match.POS,la={children:true,contents:true,next:true,prev:true};f.fn.extend({find:function(b){var e=this,g,k;if(typeof b!=="string")return f(b).filter(function(){g=0;for(k=e.length;g<k;g++)if(f.contains(e[g],this))return true});var m=this.pushStack("","find",b),o,s,B;g=0;for(k=this.length;g<k;g++){o=m.length;f.find(b,this[g],m);if(g>0)for(s=o;s<m.length;s++)for(B=0;B<o;B++)if(m[B]===m[s]){m.splice(s--,1);break}}return m},has:function(b){var e=
f(b);return this.filter(function(){for(var g=0,k=e.length;g<k;g++)if(f.contains(this,e[g]))return true})},not:function(b){return this.pushStack(E(this,b,false),"not",b)},filter:function(b){return this.pushStack(E(this,b,true),"filter",b)},is:function(b){return!!b&&(typeof b==="string"?f.filter(b,this).length>0:this.filter(b).length>0)},closest:function(b,e){var g=[],k,m,o=this[0];if(f.isArray(b)){var s,B={},F=1;if(o&&b.length){k=0;for(m=b.length;k<m;k++){s=b[k];B[s]||(B[s]=ra.test(s)?f(s,e||this.context):
s)}for(;o&&o.ownerDocument&&o!==e;){for(s in B){b=B[s];if(b.jquery?b.index(o)>-1:f(o).is(b))g.push({selector:s,elem:o,level:F})}o=o.parentNode;F++}}return g}s=ra.test(b)||typeof b!=="string"?f(b,e||this.context):0;k=0;for(m=this.length;k<m;k++)for(o=this[k];o;)if(s?s.index(o)>-1:f.find.matchesSelector(o,b)){g.push(o);break}else{o=o.parentNode;if(!o||!o.ownerDocument||o===e||o.nodeType===11)break}g=g.length>1?f.unique(g):g;return this.pushStack(g,"closest",b)},index:function(b){if(!b)return this[0]&&
this[0].parentNode?this.prevAll().length:-1;if(typeof b==="string")return f.inArray(this[0],f(b));return f.inArray(b.jquery?b[0]:b,this)},add:function(b,e){b=typeof b==="string"?f(b,e):f.makeArray(b&&b.nodeType?[b]:b);e=f.merge(this.get(),b);return this.pushStack(t(b[0])||t(e[0])?e:f.unique(e))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(b){return(b=b.parentNode)&&b.nodeType!==11?b:null},parents:function(b){return f.dir(b,"parentNode")},parentsUntil:function(b,
e,g){return f.dir(b,"parentNode",g)},next:function(b){return f.nth(b,2,"nextSibling")},prev:function(b){return f.nth(b,2,"previousSibling")},nextAll:function(b){return f.dir(b,"nextSibling")},prevAll:function(b){return f.dir(b,"previousSibling")},nextUntil:function(b,e,g){return f.dir(b,"nextSibling",g)},prevUntil:function(b,e,g){return f.dir(b,"previousSibling",g)},siblings:function(b){return f.sibling(b.parentNode.firstChild,b)},children:function(b){return f.sibling(b.firstChild)},contents:function(b){return f.nodeName(b,
"iframe")?b.contentDocument||b.contentWindow.document:f.makeArray(b.childNodes)}},function(b,e){f.fn[b]=function(g,k){var m=f.map(this,e,g),o=Q.call(arguments);Ka.test(b)||(k=g);if(k&&typeof k==="string")m=f.filter(k,m);m=this.length>1&&!la[b]?f.unique(m):m;if((this.length>1||Lb.test(k))&&lb.test(b))m=m.reverse();return this.pushStack(m,b,o.join(","))}});f.extend({filter:function(b,e,g){if(g)b=":not("+b+")";return e.length===1?f.find.matchesSelector(e[0],b)?[e[0]]:[]:f.find.matches(b,e)},dir:function(b,
e,g){var k=[];for(b=b[e];b&&b.nodeType!==9&&(g===a||b.nodeType!==1||!f(b).is(g));){b.nodeType===1&&k.push(b);b=b[e]}return k},nth:function(b,e,g){e=e||1;for(var k=0;b;b=b[g])if(b.nodeType===1&&++k===e)break;return b},sibling:function(b,e){for(var g=[];b;b=b.nextSibling)b.nodeType===1&&b!==e&&g.push(b);return g}});var ta=/ jQuery\d+="(?:\d+|null)"/g,Ba=/^\s+/,Na=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ga=/<([\w:]+)/,Aa=/<tbody/i,eb=/<|&#?\w+;/,fb=/<(?:script|object|embed|option|style)/i,
na=/checked\s*(?:[^=]|=\s*.checked.)/i,ha=/\/(java|ecma)script/i,Ia=/^\s*<!(?:\[CDATA\[|\-\-)/,pa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=
pa.td;if(!f.support.htmlSerialize)pa._default=[1,"div<div>","</div>"];f.fn.extend({text:function(b){if(f.isFunction(b))return this.each(function(e){var g=f(this);g.text(b.call(this,e,g.text()))});if(typeof b!=="object"&&b!==a)return this.empty().append((this[0]&&this[0].ownerDocument||aa).createTextNode(b));return f.text(this)},wrapAll:function(b){if(f.isFunction(b))return this.each(function(g){f(this).wrapAll(b.call(this,g))});if(this[0]){var e=f(b,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&
e.insertBefore(this[0]);e.map(function(){for(var g=this;g.firstChild&&g.firstChild.nodeType===1;)g=g.firstChild;return g}).append(this)}return this},wrapInner:function(b){if(f.isFunction(b))return this.each(function(e){f(this).wrapInner(b.call(this,e))});return this.each(function(){var e=f(this),g=e.contents();g.length?g.wrapAll(b):e.append(b)})},wrap:function(b){return this.each(function(){f(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.insertBefore(b,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this)});else if(arguments.length){var b=f(arguments[0]);b.push.apply(b,this.toArray());return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this.nextSibling)});else if(arguments.length){var b=this.pushStack(this,"after",arguments);b.push.apply(b,f(arguments[0]).toArray());return b}},remove:function(b,e){for(var g=0,k;(k=this[g])!=null;g++)if(!b||f.filter(b,[k]).length){if(!e&&k.nodeType===1){f.cleanData(k.getElementsByTagName("*"));f.cleanData([k])}k.parentNode&&k.parentNode.removeChild(k)}return this},empty:function(){for(var b=0,e;(e=
this[b])!=null;b++)for(e.nodeType===1&&f.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(b,e){b=b==null?false:b;e=e==null?b:e;return this.map(function(){return f.clone(this,b,e)})},html:function(b){if(b===a)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ta,""):null;else if(typeof b==="string"&&!fb.test(b)&&(f.support.leadingWhitespace||!Ba.test(b))&&!pa[(Ga.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(Na,"<$1></$2>");
try{for(var e=0,g=this.length;e<g;e++)if(this[e].nodeType===1){f.cleanData(this[e].getElementsByTagName("*"));this[e].innerHTML=b}}catch(k){this.empty().append(b)}}else f.isFunction(b)?this.each(function(m){var o=f(this);o.html(b.call(this,m,o.html()))}):this.empty().append(b);return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(f.isFunction(b))return this.each(function(e){var g=f(this),k=g.html();g.replaceWith(b.call(this,e,k))});if(typeof b!=="string")b=f(b).detach();return this.each(function(){var e=
this.nextSibling,g=this.parentNode;f(this).remove();e?f(e).before(b):f(g).append(b)})}else return this.length?this.pushStack(f(f.isFunction(b)?b():b),"replaceWith",b):this},detach:function(b){return this.remove(b,true)},domManip:function(b,e,g){var k,m,o,s=b[0],B=[];if(!f.support.checkClone&&arguments.length===3&&typeof s==="string"&&na.test(s))return this.each(function(){f(this).domManip(b,e,g,true)});if(f.isFunction(s))return this.each(function(ka){var qa=f(this);b[0]=s.call(this,ka,e?qa.html():
a);qa.domManip(b,e,g)});if(this[0]){k=s&&s.parentNode;k=f.support.parentNode&&k&&k.nodeType===11&&k.childNodes.length===this.length?{fragment:k}:f.buildFragment(b,this,B);o=k.fragment;if(m=o.childNodes.length===1?(o=o.firstChild):o.firstChild){e=e&&f.nodeName(m,"tr");for(var F=0,G=this.length,P=G-1;F<G;F++)g.call(e?T(this[F],m):this[F],k.cacheable||G>1&&F<P?f.clone(o,true,true):o)}B.length&&f.each(B,D)}return this}});f.buildFragment=function(b,e,g){var k,m,o,s;if(e&&e[0])s=e[0].ownerDocument||e[0];
s.createDocumentFragment||(s=aa);if(b.length===1&&typeof b[0]==="string"&&b[0].length<512&&s===aa&&b[0].charAt(0)==="<"&&!fb.test(b[0])&&(f.support.checkClone||!na.test(b[0]))){m=true;if((o=f.fragments[b[0]])&&o!==1)k=o}if(!k){k=s.createDocumentFragment();f.clean(b,s,k,g)}if(m)f.fragments[b[0]]=o?k:1;return{fragment:k,cacheable:m}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,e){f.fn[b]=function(g){var k=
[];g=f(g);var m=this.length===1&&this[0].parentNode;if(m&&m.nodeType===11&&m.childNodes.length===1&&g.length===1){g[e](this[0]);return this}else{m=0;for(var o=g.length;m<o;m++){var s=(m>0?this.clone(true):this).get();f(g[m])[e](s);k=k.concat(s)}return this.pushStack(k,b,g.selector)}}});f.extend({clone:function(b,e,g){var k=b.cloneNode(true),m,o,s;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(b.nodeType===1||b.nodeType===11)&&!f.isXMLDoc(b)){C(b,k);m=R(b);o=R(k);for(s=0;m[s];++s)o[s]&&
C(m[s],o[s])}if(e){H(b,k);if(g){m=R(b);o=R(k);for(s=0;m[s];++s)H(m[s],o[s])}}return k},clean:function(b,e,g,k){e=e||aa;if(typeof e.createElement==="undefined")e=e.ownerDocument||e[0]&&e[0].ownerDocument||aa;for(var m=[],o,s=0,B;(B=b[s])!=null;s++){if(typeof B==="number")B+="";if(B){if(typeof B==="string")if(eb.test(B)){B=B.replace(Na,"<$1></$2>");o=(Ga.exec(B)||["",""])[1].toLowerCase();var F=pa[o]||pa._default,G=F[0],P=e.createElement("div");for(P.innerHTML=F[1]+B+F[2];G--;)P=P.lastChild;if(!f.support.tbody){G=
Aa.test(B);F=o==="table"&&!G?P.firstChild&&P.firstChild.childNodes:F[1]==="<table>"&&!G?P.childNodes:[];for(o=F.length-1;o>=0;--o)f.nodeName(F[o],"tbody")&&!F[o].childNodes.length&&F[o].parentNode.removeChild(F[o])}!f.support.leadingWhitespace&&Ba.test(B)&&P.insertBefore(e.createTextNode(Ba.exec(B)[0]),P.firstChild);B=P.childNodes}else B=e.createTextNode(B);var ka;if(!f.support.appendChecked)if(B[0]&&typeof(ka=B.length)==="number")for(o=0;o<ka;o++)q(B[o]);else q(B);if(B.nodeType)m.push(B);else m=
f.merge(m,B)}}if(g){b=function(qa){return!qa.type||ha.test(qa.type)};for(s=0;m[s];s++)if(k&&f.nodeName(m[s],"script")&&(!m[s].type||m[s].type.toLowerCase()==="text/javascript"))k.push(m[s].parentNode?m[s].parentNode.removeChild(m[s]):m[s]);else{if(m[s].nodeType===1){e=f.grep(m[s].getElementsByTagName("script"),b);m.splice.apply(m,[s+1,0].concat(e))}g.appendChild(m[s])}}return m},cleanData:function(b){for(var e,g,k=f.cache,m=f.expando,o=f.event.special,s=f.support.deleteExpando,B=0,F;(F=b[B])!=null;B++)if(!(F.nodeName&&
f.noData[F.nodeName.toLowerCase()]))if(g=F[f.expando]){if((e=k[g]&&k[g][m])&&e.events){for(var G in e.events)o[G]?f.event.remove(F,G):f.removeEvent(F,G,e.handle);if(e.handle)e.handle.elem=null}if(s)delete F[f.expando];else F.removeAttribute&&F.removeAttribute(f.expando);delete k[g]}}});var mb=/alpha\([^)]*\)/i,nb=/opacity=([^)]*)/,ba=/([A-Z]|^ms)/g,za=/^-?\d+(?:px)?$/i,cb=/^-?\d/,hb=/^([\-+])=([\-+.\de]+)/,ob={position:"absolute",visibility:"hidden",display:"block"},sa=["Left","Right"],ua=["Top",
"Bottom"],Ua,Jb,oa;f.fn.css=function(b,e){if(arguments.length===2&&e===a)return this;return f.access(this,b,e,true,function(g,k,m){return m!==a?f.style(g,k,m):f.css(g,k)})};f.extend({cssHooks:{opacity:{get:function(b,e){if(e){b=Ua(b,"opacity","opacity");return b===""?"1":b}else return b.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,
e,g,k){if(!(!b||b.nodeType===3||b.nodeType===8||!b.style)){var m,o=f.camelCase(e),s=b.style,B=f.cssHooks[o];e=f.cssProps[o]||o;if(g!==a){k=typeof g;if(k==="string"&&(m=hb.exec(g))){g=+(m[1]+1)*+m[2]+parseFloat(f.css(b,e));k="number"}if(!(g==null||k==="number"&&isNaN(g))){if(k==="number"&&!f.cssNumber[o])g+="px";if(!B||!("set"in B)||(g=B.set(b,g))!==a)try{s[e]=g}catch(F){}}}else{if(B&&"get"in B&&(m=B.get(b,false,k))!==a)return m;return s[e]}}},css:function(b,e,g){var k,m;e=f.camelCase(e);m=f.cssHooks[e];
e=f.cssProps[e]||e;if(e==="cssFloat")e="float";if(m&&"get"in m&&(k=m.get(b,true,g))!==a)return k;else if(Ua)return Ua(b,e)},swap:function(b,e,g){var k={};for(var m in e){k[m]=b.style[m];b.style[m]=e[m]}g.call(b);for(m in e)b.style[m]=k[m]}});f.curCSS=f.css;f.each(["height","width"],function(b,e){f.cssHooks[e]={get:function(g,k,m){var o;if(k){if(g.offsetWidth!==0)return J(g,e,m);else f.swap(g,ob,function(){o=J(g,e,m)});return o}},set:function(g,k){if(za.test(k)){k=parseFloat(k);if(k>=0)return k+"px"}else return k}}});
if(!f.support.opacity)f.cssHooks.opacity={get:function(b,e){return nb.test((e&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(b,e){var g=b.style;b=b.currentStyle;var k=f.isNaN(e)?"":"alpha(opacity="+e*100+")",m=b&&b.filter||g.filter||"";g.zoom=1;if(e>=1&&f.trim(m.replace(mb,""))===""){g.removeAttribute("filter");if(b&&!b.filter)return}g.filter=mb.test(m)?m.replace(mb,k):m+" "+k}};f(function(){if(!f.support.reliableMarginRight)f.cssHooks.marginRight=
{get:function(b,e){var g;f.swap(b,{display:"inline-block"},function(){g=e?Ua(b,"margin-right","marginRight"):b.style.marginRight});return g}}});if(aa.defaultView&&aa.defaultView.getComputedStyle)Jb=function(b,e){var g,k;e=e.replace(ba,"-$1").toLowerCase();if(!(k=b.ownerDocument.defaultView))return a;if(k=k.getComputedStyle(b,null)){g=k.getPropertyValue(e);if(g===""&&!f.contains(b.ownerDocument.documentElement,b))g=f.style(b,e)}return g};if(aa.documentElement.currentStyle)oa=function(b,e){var g,k=
b.currentStyle&&b.currentStyle[e],m=b.runtimeStyle&&b.runtimeStyle[e],o=b.style;if(!za.test(k)&&cb.test(k)){g=o.left;if(m)b.runtimeStyle.left=b.currentStyle.left;o.left=e==="fontSize"?"1em":k||0;k=o.pixelLeft+"px";o.left=g;if(m)b.runtimeStyle.left=m}return k===""?"auto":k};Ua=Jb||oa;if(f.expr&&f.expr.filters){f.expr.filters.hidden=function(b){var e=b.offsetHeight;return b.offsetWidth===0&&e===0||!f.support.reliableHiddenOffsets&&(b.style.display||f.css(b,"display"))==="none"};f.expr.filters.visible=
function(b){return!f.expr.filters.hidden(b)}}var La=/%20/g,zb=/\[\]$/,vb=/\r?\n/g,Tb=/#.*$/,cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,Xb=/\?/,gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,hc=/^(?:select|textarea)/i,Vb=/\s+/,ic=/([?&])_=[^&]*/,Yb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Zb=f.fn.load,Qb={},$b={},Fb,Gb,ac=["*/"]+["*"];try{Fb=
Z.href}catch(oc){Fb=aa.createElement("a");Fb.href="";Fb=Fb.href}Gb=Yb.exec(Fb.toLowerCase())||[];f.fn.extend({load:function(b,e,g){if(typeof b!=="string"&&Zb)return Zb.apply(this,arguments);else if(!this.length)return this;var k=b.indexOf(" ");if(k>=0){var m=b.slice(k,b.length);b=b.slice(0,k)}k="GET";if(e)if(f.isFunction(e)){g=e;e=a}else if(typeof e==="object"){e=f.param(e,f.ajaxSettings.traditional);k="POST"}var o=this;f.ajax({url:b,type:k,dataType:"html",data:e,complete:function(s,B,F){F=s.responseText;
if(s.isResolved()){s.done(function(G){F=G});o.html(m?f("<div>").append(F.replace(gc,"")).find(m):F)}g&&o.each(g,[F,B,s])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||hc.test(this.nodeName)||dc.test(this.type))}).map(function(b,e){b=f(this).val();return b==null?null:f.isArray(b)?f.map(b,function(g){return{name:e.name,
value:g.replace(vb,"\r\n")}}):{name:e.name,value:b.replace(vb,"\r\n")}}).get()}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,e){f.fn[e]=function(g){return this.bind(e,g)}});f.each(["get","post"],function(b,e){f[e]=function(g,k,m,o){if(f.isFunction(k)){o=o||m;m=k;k=a}return f.ajax({type:e,url:g,data:k,success:m,dataType:o})}});f.extend({getScript:function(b,e){return f.get(b,a,e,"script")},getJSON:function(b,e,g){return f.get(b,e,g,"json")},ajaxSetup:function(b,
e){if(e)V(b,f.ajaxSettings);else{e=b;b=f.ajaxSettings}V(b,e);return b},ajaxSettings:{url:Fb,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Gb[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ac},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":d.String,
"text html":true,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:W(Qb),ajaxTransport:W($b),ajax:function(b,e){function g(K,N,S,ea){if(Va!==2){Va=2;Cb&&clearTimeout(Cb);Ha=a;qa=ea||"";p.readyState=K>0?4:0;var da,wa,Wa;ea=N;S=S?O(k,p,S):a;var Sa;if(K>=200&&K<300||K===304){if(k.ifModified){if(Sa=p.getResponseHeader("Last-Modified"))f.lastModified[G]=Sa;if(Sa=p.getResponseHeader("Etag"))f.etag[G]=Sa}if(K===304){ea="notmodified";da=true}else try{wa=Y(k,
S);ea="success";da=true}catch($a){ea="parsererror";Wa=$a}}else{Wa=ea;if(!ea||K){ea="error";if(K<0)K=0}}p.status=K;p.statusText=""+(N||ea);da?s.resolveWith(m,[wa,ea,p]):s.rejectWith(m,[p,ea,Wa]);p.statusCode(F);F=a;if(gb)o.trigger("ajax"+(da?"Success":"Error"),[p,k,da?wa:Wa]);B.resolveWith(m,[p,ea]);if(gb){o.trigger("ajaxComplete",[p,k]);--f.active||f.event.trigger("ajaxStop")}}}if(typeof b==="object"){e=b;b=a}e=e||{};var k=f.ajaxSetup({},e),m=k.context||k,o=m!==k&&(m.nodeType||m instanceof f)?f(m):
f.event,s=f.Deferred(),B=f._Deferred(),F=k.statusCode||{},G,P={},ka={},qa,va,Ha,Cb,Va=0,gb,kb,p={readyState:0,setRequestHeader:function(K,N){if(!Va){var S=K.toLowerCase();K=ka[S]=ka[S]||K;P[K]=N}return this},getAllResponseHeaders:function(){return Va===2?qa:null},getResponseHeader:function(K){var N;if(Va===2){if(!va)for(va={};N=cc.exec(qa);)va[N[1].toLowerCase()]=N[2];N=va[K.toLowerCase()]}return N===a?null:N},overrideMimeType:function(K){if(!Va)k.mimeType=K;return this},abort:function(K){K=K||"abort";
Ha&&Ha.abort(K);g(0,K);return this}};s.promise(p);p.success=p.done;p.error=p.fail;p.complete=B.done;p.statusCode=function(K){if(K){var N;if(Va<2)for(N in K)F[N]=[F[N],K[N]];else{N=K[p.status];p.then(N,N)}}return this};k.url=((b||k.url)+"").replace(Tb,"").replace(fc,Gb[1]+"//");k.dataTypes=f.trim(k.dataType||"*").toLowerCase().split(Vb);if(k.crossDomain==null){b=Yb.exec(k.url.toLowerCase());k.crossDomain=!!(b&&(b[1]!=Gb[1]||b[2]!=Gb[2]||(b[3]||(b[1]==="http:"?80:443))!=(Gb[3]||(Gb[1]==="http:"?80:
443))))}if(k.data&&k.processData&&typeof k.data!=="string")k.data=f.param(k.data,k.traditional);ca(Qb,k,e,p);if(Va===2)return false;gb=k.global;k.type=k.type.toUpperCase();k.hasContent=!ec.test(k.type);gb&&f.active++===0&&f.event.trigger("ajaxStart");if(!k.hasContent){if(k.data){k.url+=(Xb.test(k.url)?"&":"?")+k.data;delete k.data}G=k.url;if(k.cache===false){b=f.now();var u=k.url.replace(ic,"$1_="+b);k.url=u+(u===k.url?(Xb.test(k.url)?"&":"?")+"_="+b:"")}}if(k.data&&k.hasContent&&k.contentType!==
false||e.contentType)p.setRequestHeader("Content-Type",k.contentType);if(k.ifModified){G=G||k.url;f.lastModified[G]&&p.setRequestHeader("If-Modified-Since",f.lastModified[G]);f.etag[G]&&p.setRequestHeader("If-None-Match",f.etag[G])}p.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+ac+"; q=0.01":""):k.accepts["*"]);for(kb in k.headers)p.setRequestHeader(kb,k.headers[kb]);if(k.beforeSend&&(k.beforeSend.call(m,p,k)===false||Va===
2)){p.abort();return false}for(kb in{success:1,error:1,complete:1})p[kb](k[kb]);if(Ha=ca($b,k,e,p)){p.readyState=1;gb&&o.trigger("ajaxSend",[p,k]);if(k.async&&k.timeout>0)Cb=setTimeout(function(){p.abort("timeout")},k.timeout);try{Va=1;Ha.send(P,g)}catch(L){Va<2?g(-1,L):f.error(L)}}else g(-1,"No Transport");return p},param:function(b,e){var g=[],k=function(o,s){s=f.isFunction(s)?s():s;g[g.length]=encodeURIComponent(o)+"="+encodeURIComponent(s)};if(e===a)e=f.ajaxSettings.traditional;if(f.isArray(b)||
b.jquery&&!f.isPlainObject(b))f.each(b,function(){k(this.name,this.value)});else for(var m in b)I(m,b[m],e,k);return g.join("&").replace(La,"+")}});f.extend({active:0,lastModified:{},etag:{}});var jc=f.now(),Ob=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+jc++}});f.ajaxPrefilter("json jsonp",function(b,e,g){e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(Ob.test(b.url)||
e&&Ob.test(b.data))){var k,m=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,o=d[m],s=b.url,B=b.data,F="$1"+m+"$2";if(b.jsonp!==false){s=s.replace(Ob,F);if(b.url===s){if(e)B=B.replace(Ob,F);if(b.data===B)s+=(/\?/.test(s)?"&":"?")+b.jsonp+"="+m}}b.url=s;b.data=B;d[m]=function(G){k=[G]};g.always(function(){d[m]=o;k&&f.isFunction(o)&&d[m](k[0])});b.converters["script json"]=function(){k||f.error(m+" was not called");return k[0]};b.dataTypes[0]="json";return"script"}});
f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){f.globalEval(b);return b}}});f.ajaxPrefilter("script",function(b){if(b.cache===a)b.cache=false;if(b.crossDomain){b.type="GET";b.global=false}});f.ajaxTransport("script",function(b){if(b.crossDomain){var e,g=aa.head||aa.getElementsByTagName("head")[0]||aa.documentElement;return{send:function(k,m){e=
aa.createElement("script");e.async="async";if(b.scriptCharset)e.charset=b.scriptCharset;e.src=b.url;e.onload=e.onreadystatechange=function(o,s){if(s||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;g&&e.parentNode&&g.removeChild(e);e=a;s||m(200,"success")}};g.insertBefore(e,g.firstChild)},abort:function(){e&&e.onload(0,1)}}}});var Ub=d.ActiveXObject?function(){for(var b in Kb)Kb[b](0,1)}:false,kc=0,Kb;f.ajaxSettings.xhr=d.ActiveXObject?function(){return!this.isLocal&&
ma()||ya()}:ma;(function(b){f.extend(f.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(b){if(!b.crossDomain||f.support.cors){var e;return{send:function(g,k){var m=b.xhr(),o,s;b.username?m.open(b.type,b.url,b.async,b.username,b.password):m.open(b.type,b.url,b.async);if(b.xhrFields)for(s in b.xhrFields)m[s]=b.xhrFields[s];b.mimeType&&m.overrideMimeType&&m.overrideMimeType(b.mimeType);if(!b.crossDomain&&!g["X-Requested-With"])g["X-Requested-With"]=
"XMLHttpRequest";try{for(s in g)m.setRequestHeader(s,g[s])}catch(B){}m.send(b.hasContent&&b.data||null);e=function(F,G){var P,ka,qa,va,Ha;try{if(e&&(G||m.readyState===4)){e=a;if(o){m.onreadystatechange=f.noop;Ub&&delete Kb[o]}if(G)m.readyState!==4&&m.abort();else{P=m.status;qa=m.getAllResponseHeaders();va={};if((Ha=m.responseXML)&&Ha.documentElement)va.xml=Ha;va.text=m.responseText;try{ka=m.statusText}catch(Cb){ka=""}if(!P&&b.isLocal&&!b.crossDomain)P=va.text?200:404;else if(P===1223)P=204}}}catch(Va){G||
k(-1,Va)}va&&k(P,ka,va,qa)};if(!b.async||m.readyState===4)e();else{o=++kc;if(Ub){if(!Kb){Kb={};f(d).unload(Ub)}Kb[o]=e}m.onreadystatechange=e}},abort:function(){e&&e(0,1)}}}});var Rb={},qb,Ib,lc=/^(?:toggle|show|hide)$/,mc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Pb,Wb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Mb;f.fn.extend({show:function(b,e,g){if(b||b===0)return this.animate(Qa("show",3),b,e,g);else{g=
0;for(var k=this.length;g<k;g++){b=this[g];if(b.style){e=b.style.display;if(!f._data(b,"olddisplay")&&e==="none")e=b.style.display="";e===""&&f.css(b,"display")==="none"&&f._data(b,"olddisplay",Hb(b.nodeName))}}for(g=0;g<k;g++){b=this[g];if(b.style){e=b.style.display;if(e===""||e==="none")b.style.display=f._data(b,"olddisplay")||""}}return this}},hide:function(b,e,g){if(b||b===0)return this.animate(Qa("hide",3),b,e,g);else{b=0;for(e=this.length;b<e;b++)if(this[b].style){g=f.css(this[b],"display");
g!=="none"&&!f._data(this[b],"olddisplay")&&f._data(this[b],"olddisplay",g)}for(b=0;b<e;b++)if(this[b].style)this[b].style.display="none";return this}},_toggle:f.fn.toggle,toggle:function(b,e,g){var k=typeof b==="boolean";if(f.isFunction(b)&&f.isFunction(e))this._toggle.apply(this,arguments);else b==null||k?this.each(function(){var m=k?b:f(this).is(":hidden");f(this)[m?"show":"hide"]()}):this.animate(Qa("toggle",3),b,e,g);return this},fadeTo:function(b,e,g,k){return this.filter(":hidden").css("opacity",
0).show().end().animate({opacity:e},b,g,k)},animate:function(b,e,g,k){var m=f.speed(e,g,k);if(f.isEmptyObject(b))return this.each(m.complete,[false]);b=f.extend({},b);return this[m.queue===false?"each":"queue"](function(){m.queue===false&&f._mark(this);var o=f.extend({},m),s=this.nodeType===1,B=s&&f(this).is(":hidden"),F,G,P,ka,qa;o.animatedProperties={};for(P in b){F=f.camelCase(P);if(P!==F){b[F]=b[P];delete b[P]}G=b[F];if(f.isArray(G)){o.animatedProperties[F]=G[1];G=b[F]=G[0]}else o.animatedProperties[F]=
o.specialEasing&&o.specialEasing[F]||o.easing||"swing";if(G==="hide"&&B||G==="show"&&!B)return o.complete.call(this);if(s&&(F==="height"||F==="width")){o.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(f.css(this,"display")==="inline"&&f.css(this,"float")==="none")if(f.support.inlineBlockNeedsLayout){G=Hb(this.nodeName);if(G==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(o.overflow!=
null)this.style.overflow="hidden";for(P in b){s=new f.fx(this,o,P);G=b[P];if(lc.test(G))s[G==="toggle"?B?"show":"hide":G]();else{F=mc.exec(G);ka=s.cur();if(F){G=parseFloat(F[2]);qa=F[3]||(f.cssNumber[P]?"":"px");if(qa!=="px"){f.style(this,P,(G||1)+qa);ka=(G||1)/s.cur()*ka;f.style(this,P,ka+qa)}if(F[1])G=(F[1]==="-="?-1:1)*G+ka;s.custom(ka,G,qa)}else s.custom(ka,G,"")}}return true})},stop:function(b,e){b&&this.queue([]);this.each(function(){var g=f.timers,k=g.length;for(e||f._unmark(true,this);k--;)if(g[k].elem===
this){e&&g[k](true);g.splice(k,1)}});e||this.dequeue();return this}});f.each({slideDown:Qa("show",1),slideUp:Qa("hide",1),slideToggle:Qa("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,e){f.fn[b]=function(g,k,m){return this.animate(e,g,k,m)}});f.extend({speed:function(b,e,g){var k=b&&typeof b==="object"?f.extend({},b):{complete:g||!g&&e||f.isFunction(b)&&b,duration:b,easing:g&&e||e&&!f.isFunction(e)&&e};k.duration=f.fx.off?0:typeof k.duration===
"number"?k.duration:k.duration in f.fx.speeds?f.fx.speeds[k.duration]:f.fx.speeds._default;k.old=k.complete;k.complete=function(m){f.isFunction(k.old)&&k.old.call(this);if(k.queue!==false)f.dequeue(this);else m!==false&&f._unmark(this)};return k},easing:{linear:function(b,e,g,k){return g+k*b},swing:function(b,e,g,k){return(-Math.cos(b*Math.PI)/2+0.5)*k+g}},timers:[],fx:function(b,e,g){this.options=e;this.elem=b;this.prop=g;e.orig=e.orig||{}}});f.fx.prototype={update:function(){this.options.step&&
this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var b,e=f.css(this.elem,this.prop);return isNaN(b=parseFloat(e))?!e||e==="auto"?0:e:b},custom:function(b,e,g){function k(s){return m.step(s)}var m=this,o=f.fx;this.startTime=Mb||Pa();this.start=b;this.end=e;this.unit=g||this.unit||(f.cssNumber[this.prop]?"":"px");this.now=this.start;
this.pos=this.state=0;k.elem=this.elem;if(k()&&f.timers.push(k)&&!Pb)Pb=setInterval(o.tick,o.interval)},show:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(b){var e=Mb||Pa(),g=true,k=this.elem,m=this.options,o;if(b||e>=m.duration+
this.startTime){this.now=this.end;this.pos=this.state=1;this.update();m.animatedProperties[this.prop]=true;for(o in m.animatedProperties)if(m.animatedProperties[o]!==true)g=false;if(g){m.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(B,F){k.style["overflow"+F]=m.overflow[B]});m.hide&&f(k).hide();if(m.hide||m.show)for(var s in m.animatedProperties)f.style(k,s,m.orig[s]);m.complete.call(k)}return false}else{if(m.duration==Infinity)this.now=e;else{b=e-this.startTime;this.state=
b/m.duration;this.pos=f.easing[m.animatedProperties[this.prop]](this.state,b,0,1,m.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};f.extend(f.fx,{tick:function(){for(var b=f.timers,e=0;e<b.length;++e)b[e]()||b.splice(e--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(Pb);Pb=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){f.style(b.elem,"opacity",b.now)},_default:function(b){if(b.elem.style&&b.elem.style[b.prop]!=
null)b.elem.style[b.prop]=(b.prop==="width"||b.prop==="height"?Math.max(0,b.now):b.now)+b.unit;else b.elem[b.prop]=b.now}}});if(f.expr&&f.expr.filters)f.expr.filters.animated=function(b){return f.grep(f.timers,function(e){return b===e.elem}).length};var nc=/^t(?:able|d|h)$/i,bc=/^(?:body|html)$/i;f.fn.offset="getBoundingClientRect"in aa.documentElement?function(b){var e=this[0],g;if(b)return this.each(function(s){f.offset.setOffset(this,b,s)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return f.offset.bodyOffset(e);
try{g=e.getBoundingClientRect()}catch(k){}var m=e.ownerDocument,o=m.documentElement;if(!g||!f.contains(o,e))return g?{top:g.top,left:g.left}:{top:0,left:0};e=m.body;m=Ab(m);return{top:g.top+(m.pageYOffset||f.support.boxModel&&o.scrollTop||e.scrollTop)-(o.clientTop||e.clientTop||0),left:g.left+(m.pageXOffset||f.support.boxModel&&o.scrollLeft||e.scrollLeft)-(o.clientLeft||e.clientLeft||0)}}:function(b){var e=this[0];if(b)return this.each(function(P){f.offset.setOffset(this,b,P)});if(!e||!e.ownerDocument)return null;
if(e===e.ownerDocument.body)return f.offset.bodyOffset(e);f.offset.initialize();var g,k=e.offsetParent,m=e,o=e.ownerDocument,s=o.documentElement,B=o.body;g=(o=o.defaultView)?o.getComputedStyle(e,null):e.currentStyle;for(var F=e.offsetTop,G=e.offsetLeft;(e=e.parentNode)&&e!==B&&e!==s;){if(f.offset.supportsFixedPosition&&g.position==="fixed")break;g=o?o.getComputedStyle(e,null):e.currentStyle;F-=e.scrollTop;G-=e.scrollLeft;if(e===k){F+=e.offsetTop;G+=e.offsetLeft;if(f.offset.doesNotAddBorder&&!(f.offset.doesAddBorderForTableAndCells&&
nc.test(e.nodeName))){F+=parseFloat(g.borderTopWidth)||0;G+=parseFloat(g.borderLeftWidth)||0}m=k;k=e.offsetParent}if(f.offset.subtractsBorderForOverflowNotVisible&&g.overflow!=="visible"){F+=parseFloat(g.borderTopWidth)||0;G+=parseFloat(g.borderLeftWidth)||0}g=g}if(g.position==="relative"||g.position==="static"){F+=B.offsetTop;G+=B.offsetLeft}if(f.offset.supportsFixedPosition&&g.position==="fixed"){F+=Math.max(s.scrollTop,B.scrollTop);G+=Math.max(s.scrollLeft,B.scrollLeft)}return{top:F,left:G}};f.offset=
{initialize:function(){var b=aa.body,e=aa.createElement("div"),g,k,m,o=parseFloat(f.css(b,"marginTop"))||0;f.extend(e.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});e.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
b.insertBefore(e,b.firstChild);g=e.firstChild;k=g.firstChild;m=g.nextSibling.firstChild.firstChild;this.doesNotAddBorder=k.offsetTop!==5;this.doesAddBorderForTableAndCells=m.offsetTop===5;k.style.position="fixed";k.style.top="20px";this.supportsFixedPosition=k.offsetTop===20||k.offsetTop===15;k.style.position=k.style.top="";g.style.overflow="hidden";g.style.position="relative";this.subtractsBorderForOverflowNotVisible=k.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=b.offsetTop!==o;b.removeChild(e);
f.offset.initialize=f.noop},bodyOffset:function(b){var e=b.offsetTop,g=b.offsetLeft;f.offset.initialize();if(f.offset.doesNotIncludeMarginInBodyOffset){e+=parseFloat(f.css(b,"marginTop"))||0;g+=parseFloat(f.css(b,"marginLeft"))||0}return{top:e,left:g}},setOffset:function(b,e,g){var k=f.css(b,"position");if(k==="static")b.style.position="relative";var m=f(b),o=m.offset(),s=f.css(b,"top"),B=f.css(b,"left"),F={},G={};if((k==="absolute"||k==="fixed")&&f.inArray("auto",[s,B])>-1){G=m.position();k=G.top;
B=G.left}else{k=parseFloat(s)||0;B=parseFloat(B)||0}if(f.isFunction(e))e=e.call(b,g,o);if(e.top!=null)F.top=e.top-o.top+k;if(e.left!=null)F.left=e.left-o.left+B;"using"in e?e.using.call(b,F):m.css(F)}};f.fn.extend({position:function(){if(!this[0])return null;var b=this[0],e=this.offsetParent(),g=this.offset(),k=bc.test(e[0].nodeName)?{top:0,left:0}:e.offset();g.top-=parseFloat(f.css(b,"marginTop"))||0;g.left-=parseFloat(f.css(b,"marginLeft"))||0;k.top+=parseFloat(f.css(e[0],"borderTopWidth"))||0;
k.left+=parseFloat(f.css(e[0],"borderLeftWidth"))||0;return{top:g.top-k.top,left:g.left-k.left}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||aa.body;b&&!bc.test(b.nodeName)&&f.css(b,"position")==="static";)b=b.offsetParent;return b})}});f.each(["Left","Top"],function(b,e){var g="scroll"+e;f.fn[g]=function(k){var m,o;if(k===a){m=this[0];if(!m)return null;return(o=Ab(m))?"pageXOffset"in o?o[b?"pageYOffset":"pageXOffset"]:f.support.boxModel&&o.document.documentElement[g]||
o.document.body[g]:m[g]}return this.each(function(){if(o=Ab(this))o.scrollTo(!b?k:f(o).scrollLeft(),b?k:f(o).scrollTop());else this[g]=k})}});f.each(["Height","Width"],function(b,e){var g=e.toLowerCase();f.fn["inner"+e]=function(){var k=this[0];return k&&k.style?parseFloat(f.css(k,g,"padding")):null};f.fn["outer"+e]=function(k){var m=this[0];return m&&m.style?parseFloat(f.css(m,g,k?"margin":"border")):null};f.fn[g]=function(k){var m=this[0];if(!m)return k==null?null:this;if(f.isFunction(k))return this.each(function(B){var F=
f(this);F[g](k.call(this,B,F[g]()))});if(f.isWindow(m)){var o=m.document.documentElement["client"+e],s=m.document.body;return m.document.compatMode==="CSS1Compat"&&o||s&&s["client"+e]||o}else if(m.nodeType===9)return Math.max(m.documentElement["client"+e],m.body["scroll"+e],m.documentElement["scroll"+e],m.body["offset"+e],m.documentElement["offset"+e]);else if(k===a){m=f.css(m,g);o=parseFloat(m);return f.isNaN(o)?m:o}else return this.css(g,typeof k==="string"?k:k+"px")}});d.jQuery=d.$=f})(window);
steal.loaded("jquery/jquery.js");steal("jquery");steal.loaded("jquery/event/event.js");
steal.then(function(){if(!window.OpenAjax){OpenAjax=new (function(){var d={};this.hub=d;d.implementer="http://openajax.org";d.implVersion="2.0";d.specVersion="2.0";d.implExtraData={};var a={};d.libraries=a;d.registerLibrary=function(j,c,i,n){a[j]={prefix:j,namespaceURI:c,version:i,extraData:n};this.publish("org.openajax.hub.registerLibrary",a[j])};d.unregisterLibrary=function(j){this.publish("org.openajax.hub.unregisterLibrary",a[j]);delete a[j]};d._subscriptions={c:{},s:[]};d._cleanup=[];d._subIndex=
0;d._pubDepth=0;d.subscribe=function(j,c,i,n,l){i||(i=window);var r=j+"."+this._subIndex;c={scope:i,cb:c,fcb:l,data:n,sid:this._subIndex++,hdl:r};this._subscribe(this._subscriptions,j.split("."),0,c);return r};d.publish=function(j,c){var i=j.split(".");this._pubDepth++;this._publish(this._subscriptions,i,0,j,c);this._pubDepth--;if(this._cleanup.length>0&&this._pubDepth==0){for(j=0;j<this._cleanup.length;j++)this.unsubscribe(this._cleanup[j].hdl);delete this._cleanup;this._cleanup=[]}};d.unsubscribe=
function(j){j=j.split(".");var c=j.pop();this._unsubscribe(this._subscriptions,j,0,c)};d._subscribe=function(j,c,i,n){var l=c[i];if(i==c.length)j.s.push(n);else{if(typeof j.c=="undefined")j.c={};if(typeof j.c[l]=="undefined")j.c[l]={c:{},s:[]};this._subscribe(j.c[l],c,i+1,n)}};d._publish=function(j,c,i,n,l,r){if(typeof j!="undefined"){if(i==c.length)j=j;else{this._publish(j.c[c[i]],c,i+1,n,l,r);this._publish(j.c["*"],c,i+1,n,l,r);j=j.c["**"]}if(typeof j!="undefined"){j=j.s;c=j.length;for(i=0;i<c;i++)if(j[i].cb){var v=
j[i].scope,z=j[i].cb,t=j[i].fcb,E=j[i].data;if(typeof z=="string")z=v[z];if(typeof t=="string")t=v[t];if(!t||t.call(v,n,l,E))z.call(v,n,l,E,r)}}}};d._unsubscribe=function(j,c,i,n){if(typeof j!="undefined")if(i<c.length){var l=j.c[c[i]];this._unsubscribe(l,c,i+1,n);if(l.s.length==0){for(var r in l.c)return;delete j.c[c[i]]}}else{j=j.s;c=j.length;for(i=0;i<c;i++)if(n==j[i].sid){if(this._pubDepth>0){j[i].cb=null;this._cleanup.push(j[i])}else j.splice(i,1);return}}};d.reinit=function(){for(var j in OpenAjax.hub.libraries)delete OpenAjax.hub.libraries[j];
OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{});delete OpenAjax._subscriptions;OpenAjax._subscriptions={c:{},s:[]};delete OpenAjax._cleanup;OpenAjax._cleanup=[];OpenAjax._subIndex=0;OpenAjax._pubDepth=0}});OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{})}OpenAjax.hub.registerLibrary("JavaScriptMVC","http://JavaScriptMVC.com","3.1",{})});steal.loaded("jquery/lang/openajax/openajax.js");
steal("jquery").then(function(d){var a=function(q){return q.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},j=1,c,i,n,l=function(q){return q&&d.isFunction(q.always)},r=function(q){var D=[];if(l(q))return[q];else for(var J in q)l(q[J])&&D.push(q[J]);return D},v=function(q){return d.isArray(q)&&q.length===3&&q[1]==="success"?q[0]:q};c=d.View=function(q,D,J,W){if(typeof J==="function"){W=J;J=undefined}var ca=r(D);if(ca.length){var V=d.Deferred();ca.push(n(q,true));d.when.apply(d,ca).then(function(O){var Y=
d.makeArray(arguments),ma=Y.pop()[0];if(l(D))D=v(O);else for(var ya in D)if(l(D[ya]))D[ya]=v(Y.shift());Y=ma(D,J);V.resolve(Y);W&&W(Y)});return V.promise()}else{var I;ca=typeof W==="function";V=n(q,ca);if(ca){I=V;V.done(function(O){W(O(D,J))})}else V.done(function(O){I=O(D,J)});return I}};i=function(q,D){if(!q.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+D;};n=function(q,D){return d.ajax({url:q,dataType:"view",async:D})};d.ajaxTransport("view",function(q,D){q=
D.url;var J=q.match(/\.[\w\d]+$/),W,ca,V,I=q,O,Y=function(ma){ma=W.renderer(V,ma);if(c.cache)c.cached[V]=ma;return{view:ma}};if(ca=document.getElementById(q))J=ca.type.match(/\/[\d\w]+$/)[0].replace(/^\//,".");if(!J){J=c.ext;I+=c.ext}V=a(I);if(I.match(/^\/\//))I=typeof steal==="undefined"?"/"+I.substr(2):steal.root.mapJoin(I.substr(2));W=c.types[J];return{send:function(ma,ya){if(c.cached[V])return ya(200,"success",{view:c.cached[V]});else if(ca)ya(200,"success",Y(ca.innerHTML));else O=d.ajax({async:D.async,
url:I,dataType:"text",error:function(){i("",I);ya(404)},success:function(Pa){i(Pa,I);ya(200,"success",Y(Pa))}})},abort:function(){O&&O.abort()}}});d.extend(c,{hookups:{},hookup:function(q){var D=++j;c.hookups[D]=q;return D},cached:{},cache:true,register:function(q){this.types["."+q.suffix]=q;window.steal&&steal.type(q.suffix+" view js",function(D,J,W){J=c.types["."+D.type];var ca=a(D.rootSrc);D.text=J.script(ca,D.text);W()})},types:{},ext:".ejs",registerScript:function(q,D,J){return"$.View.preload('"+
D+"',"+c.types["."+q].script(D,J)+");"},preload:function(q,D){c.cached[q]=function(J,W){return D.call(J,J,W)}}});window.steal&&steal.type("view js",function(q,D,J){D=c.types["."+q.type];var W=a(q.rootSrc);q.text="steal('"+(D.plugin||"jquery/view/"+q.type)+"').then(function($){$.View.preload('"+W+"',"+q.text+");\n})";J()});var z,t,E,T,H,C,R;z=function(q){var D=d.fn[q];d.fn[q]=function(){var J=d.makeArray(arguments),W,ca,V=this;if(l(J[0])){J[0].done(function(I){t.call(V,[I],D)});return this}else if(E(J)){if(W=
H(J)){ca=J[W];J[W]=function(I){t.call(V,[I],D);ca.call(V,I)};c.apply(c,J);return this}J=c.apply(c,J);if(l(J)){J.done(function(I){t.call(V,[I],D)});return this}else J=[J]}return t.call(this,J,D)}};t=function(q,D){var J;for(var W in c.hookups)break;if(W&&q[0]&&T(q[0])){J=c.hookups;c.hookups={};q[0]=d(q[0])}D=D.apply(this,q);J&&C(q[0],J);return D};E=function(q){var D=typeof q[1];return typeof q[0]=="string"&&(D=="object"||D=="function")&&!q[1].nodeType&&!q[1].jquery};T=function(q){if(q.jquery||q.nodeType===
1)return true;else if(typeof q==="string"){q=d.trim(q);return q.substr(0,1)==="<"&&q.substr(q.length-1,1)===">"&&q.length>=3}else return false};H=function(q){return typeof q[3]==="function"?3:typeof q[2]==="function"&&2};C=function(q,D){var J,W=0,ca,V;q=q.filter(function(){return this.nodeType!=3});q=q.add("[data-view-id]",q);for(J=q.length;W<J;W++)if(q[W].getAttribute&&(ca=q[W].getAttribute("data-view-id"))&&(V=D[ca])){V(q[W],ca);delete D[ca];q[W].removeAttribute("data-view-id")}d.extend(c.hookups,
D)};d.fn.hookup=function(){var q=c.hookups;c.hookups={};C(this,q);return this};R=["prepend","append","after","before","text","html","replaceWith","val"];for(var fa=0;fa<R.length;fa++)z(R[fa])});steal.loaded("jquery/view/view.js");steal("jquery/lang/string",function(d){d.String.rsplit=function(a,j){for(var c=j.exec(a),i=[],n;c!==null;){n=c.index;if(n!==0){i.push(a.substring(0,n));a=a.slice(n)}i.push(c[0]);a=a.slice(c[0].length);c=j.exec(a)}a!==""&&i.push(a);return i}});steal.loaded("jquery/lang/string/rsplit/rsplit.js");
steal("jquery");steal.loaded("jquery/dom/dom.js");
steal("jquery/event").then(function(){var d=jQuery.event,a=function(j,c,i){var n,l,r,v,z,t,E;for(n=0;n<c.length;n++){l=c[n];v=l.indexOf(".")<0;if(!v){r=l.split(".");l=r.shift();E=new RegExp("(^|\\.)"+r.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}r=(j[l]||[]).slice(0);for(z=0;z<r.length;z++){t=r[z];if(!t.selector&&(v||E.test(t.namespace)))i(l,t.origHandler||t.handler)}}};d.find=function(j,c,i){j=$.data(j,"events");var n=[],l,r;if(!j)return n;if(i){if(!j.live)return[];r=j.live;for(j=0;j<r.length;j++){l=
r[j];if(l.selector===i&&$.inArray(l.origType,c)!==-1)n.push(l.origHandler||l.handler)}}else a(j,c,function(v,z){n.push(z)});return n};d.findBySelector=function(j,c){j=$.data(j,"events");var i={},n=function(l,r,v){l=i[l]||(i[l]={});(l[r]||(l[r]=[])).push(v)};if(!j)return i;$.each(j.live||[],function(l,r){if($.inArray(r.origType,c)!==-1)n(r.selector,r.origType,r.origHandler||r.handler)});a(j,c,function(l,r){n("",l,r)});return i};d.supportTouch="ontouchend"in document;$.fn.respondsTo=function(j){return this.length?
d.find(this[0],$.isArray(j)?j:[j]).length>0:false};$.fn.triggerHandled=function(j,c){j=typeof j=="string"?$.Event(j):j;this.trigger(j,c);return j.handled};d.setupHelper=function(j,c,i){if(!i){i=c;c=null}var n=function(r){var v=r.selector||"";if(v){r=d.find(this,j,v);r.length||$(this).delegate(v,c,i)}else d.find(this,j,v).length||d.add(this,c,i,{selector:v,delegate:this})},l=function(r){var v=r.selector||"";if(v){r=d.find(this,j,v);r.length||$(this).undelegate(v,c,i)}else d.find(this,j,v).length||
d.remove(this,c,i,{selector:v,delegate:this})};$.each(j,function(){d.special[this]={add:n,remove:l,setup:function(){},teardown:function(){}}})}});steal.loaded("jquery/event/livehack/livehack.js");
steal("jquery/model","jquery/model/list","jquery/model/validations").then("./form","./form_item").then("./data_item","./input_item").then("./static_text_item","./title_item","./image_item","./dynamic_text_item","./dynamic_link_item","./html_field","./audio_item","./text_field","./text_area","./radio_button","./check_box","./list_field","./image_tagging").then("./segmented_text_area");steal.loaded("wizard_form_builder/models/models.js");
steal.options.env=="test"&&steal("jquery/dom/fixture",function(){$.fixture("/forms/1","fixtures/form.json.get")});steal.loaded("wizard_form_builder/fixtures/fixtures.js");
steal("./views/main.ejs",function(d){d.Controller("WizardFormBuilder.Main",{},{init:function(){d("#factory-builder").html(this.view("main"));d("#cl-title").form_builder_component_library({models:[WizardFormBuilder.Models.TitleItem,WizardFormBuilder.Models.StaticTextItem]});d("#cl-data-source").form_builder_component_library({models:[WizardFormBuilder.Models.ImageItem,WizardFormBuilder.Models.DynamicTextItem,WizardFormBuilder.Models.DynamicLinkItem,WizardFormBuilder.Models.HtmlField,WizardFormBuilder.Models.AudioItem]});d("#cl-task").form_builder_component_library({models:[WizardFormBuilder.Models.TextField,
WizardFormBuilder.Models.TextArea,WizardFormBuilder.Models.CheckBox,WizardFormBuilder.Models.RadioButton,WizardFormBuilder.Models.ListField]});d("#job-form").form_builder_form(window.form_options);d("#inspector").form_builder_inspector();d("#tabs").form_builder_tabs();d(".side-column").hide();d("#template-name").editInPlace({callback:function(a,j){d.ajax({type:"POST",url:"/templates/"+template_id+"/update_title",data:"new_title="+j,success:function(){}});return j}});d(function(){d("a[rel=fancybox]").fancybox()});this.mode=
"preview";this.load_iframe_preview=function(){this.mode="preview";if(d("#form-preview-frame-wrapper").length<1){d("#job-form").height(600);d("#job-form").width(800);d("#job-form").html("<div id='form-preview-frame-wrapper'><iframe id='form-preview-frame' src='/forms/"+form_options.form_id+"/preview'></iframe></div>")}};typeof activateVimeoTracking=="function"&&activateVimeoTracking()},"#edit-link click":function(){d(".side-column").show();d("#job-form .explainer").hide();d("#main-container").addClass("wide");
d("li#library-tab").click()},".edit-tab click":function(){if(this.mode=="preview"){d("#job-form").form_builder_form({mode:"editable"});this.mode="editable"}},".preview-tab click":function(){this.load_iframe_preview()},".custom-html-tab click":function(){this.load_iframe_preview()},"a#save-form click":function(){d("#job-form").controller().saveForm()},"form_item.saving subscribe":function(){d("#save-form").addClass("active").removeClass("error").text("saving...")},"form_item.saved subscribe":function(){d("#save-form").removeClass("active").text("saved")},
"form_item.saveFailed subscribe":function(){d("#save-form").removeClass("active").addClass("error").text("save failed! click here to save.")},"form_item.createFailed subscribe":function(){d("#save-form").removeClass("active").addClass("error").text("save failed! please try again.")},"form_item.destroyFailed subscribe":function(){d("#save-form").removeClass("active").addClass("error").text("remove failed! please try again.")}})});steal.loaded("wizard_form_builder/main/main.js");
$.Controller("WizardFormBuilder.Accordion",{},{init:function(){this.activate(this.element.children(".accordion-item:first"))},click:function(){OpenAjax.hub.publish("fields.deactivate_all")},".accordion-header click":function(d,a){a.preventDefault();d.parent().hasClass("active")||this.activate(d.parent())},activate:function(d){var a=this.element.find(".active").removeClass("active").find(".accordion-content");this.slide({widget:this,toShow:d.addClass("active").find(".accordion-content"),toHide:a,complete:function(){OpenAjax.hub.publish("accordion.item-changed",
d.attr("id"))},easing:"swing",duration:300})},slide:function(d,a){if(d.prevShow||d.prevHide){d.prevHide.stop(true,true);d.toHide=d.prevShow}var j=d.toShow.css("overflow"),c=d.toHide.css("overflow"),i=0,n={},l={},r;d=$.extend({easing:"swing",duration:300},d,a);d.widget.lastToggle=d;if(d.toHide.size())if(d.toShow.size()){a=d.toShow;r=a[0].style.width;a.width(parseInt(a.parent().width(),10)-parseInt(a.css("paddingLeft"),10)-parseInt(a.css("paddingRight"),10)-(parseInt(a.css("borderLeftWidth"),10)||0)-
(parseInt(a.css("borderRightWidth"),10)||0));$.each(["height","paddingTop","paddingBottom"],function(v,z){l[z]="hide";v=(""+$.css(d.toShow[0],z)).match(/^([\d+-.]+)(.*)$/);n[z]={value:z==="height"&&v[1]==="0"?1:v[1],unit:v[2]||"px"}});d.toShow.css({height:0,overflow:"hidden"}).show();d.toHide.filter(":hidden").each(d.complete).end().filter(":visible").animate(l,{step:function(v,z){if(z.prop=="height"||z.prop=="paddingTop"||z.prop=="paddingBottom")i=z.end-z.start===0?0:(z.now-z.start)/(z.end-z.start);
d.toShow[0].style[z.prop]=i*n[z.prop].value+n[z.prop].unit},duration:d.duration,easing:d.easing,complete:function(){d.toShow.css({width:r,overflow:j});d.toHide.css("overflow",c);d.complete()}})}else d.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},d);else{r=d.toShow[0].style.width;d.toShow.show().width(d.toShow.width()).hide().animate({height:"show",paddingTop:"show",paddingBottom:"show"},{duration:d.duration,easing:d.easing,complete:function(){d.toShow.width(r);d.complete()}})}}});
steal.loaded("wizard_form_builder/accordion/accordion.js");$.Controller("WizardFormBuilder.ComponentLibrary",{listensTo:["dragstart"]},{init:function(){var d=this.element;$.each(this.options.models,function(a,j){d.append(j.asDraggable())})},".form-draggable dragstart":function(d,a){d=a.originalEvent.dataTransfer;d.dragEffect="copy";d.setData("text/html",$("<div/>").append($(a.target).clone()).html())},".form-draggable click":function(d){OpenAjax.hub.publish("form_item.do_add",d.data("class"))}});steal.loaded("wizard_form_builder/component_library/component_library.js");
$.Controller("WizardFormBuilder.Inspector",{},{field:null,appear:function(){$("li#inspector-tab").click()},disappear:function(d){this.element.find("#property_sheet").html(d);$("li#library-tab").click()},".close click":function(){OpenAjax.hub.publish("fields.deactivate_all")},load_property_sheet:function(d){var a=$.String.underscore(d.Class.shortName),j=this;this.element.find("#property_sheet").html("//wizard_form_builder/form_item/"+a+"/views/properties.ejs",{field:d},function(){this.append($("<input/>").addClass("remove button").attr("type",
"submit").val("\u2716 Remove Item"));j.field=d});this.element.find("#fieldtype").text(d.Class.displayName);this.appear()},"fields.active subscribe":function(d,a){if(a.length==1)this.load_property_sheet(a[0]);else a.length==0?this.disappear("No field selected."):this.disappear("Multiple fields selected.")},"select focus":function(d){var a=d.val(),j=d.attr("name");this.field.attr(j,a,function(){d.val(this.attr(j));this.save()},function(){d.val(this.attr(j))})},"input,textarea,select change":function(d){var a=
d.val(),j=d.attr("name");if(d.attr("type")=="checkbox")a=d.is(":checked");else if(/\[.*?\]$/.test(d.attr("name"))){a=d.closest("div:not(.content-area)").controller().value();j=d.attr("name").replace(/\[.*?\]$/g,"")}this.field.attr(j,a,function(){!/\[.*?\]/.test(d.attr("name"))&&d.attr("type")!="radio"&&d.val(this.attr(j));this.save()},function(){!/\[.*?\]/.test(d.attr("name"))&&d.attr("type")!="radio"&&d.val(this.attr(j))})},"form_item.updated subscribe":function(d,a){if(a.field==this.field){d=this.element.find("input[name="+
a.name+"]").add("textarea[name="+a.name+"]");d.attr("type")!=="radio"&&d.val(a.val)}},".remove click":function(){this.field.destroy()},"form keypress":function(d,a){if(a.charCode==13&&!$(a.target).is("textarea")){a.preventDefault();$(a.target).nextAll("input").first().focus();return false}},"form submit":function(d,a){a.preventDefault();return false}});steal.loaded("wizard_form_builder/inspector/inspector.js");
steal("./views/error.ejs","./views/good.ejs").then(function(d){d.Controller("WizardFormBuilder.ErrorCheck",{},{init:function(){this.show()},"form_item.updated subscribe":function(){this.show()},"accordion.item-changed subscribe":function(){this.show()},show:function(){var a=this.options.form.controller().form;if(a){this.element.height("");a=a.items.grep(function(j){return j.Class.TYPE=="task"||j.Class.TYPE=="data"}).grep(function(j){return typeof j.attr("name")!="string"||j.attr("name").match(/^\s*$/)});
a.length>0?this.element.html(this.view("error",{elements:a})):this.element.html(this.view("good"))}}})});steal.loaded("wizard_form_builder/error_check/error_check.js");
$.Controller("WizardFormBuilder.Tabs",{},{init:function(){this.activate(this.element.children("li:first"));var d=this.tab;this.element.children("li:gt(0)").each(function(){d($(this)).hide()})},tab:function(d){return $(d.find("a").attr("href"))},"li click":function(d,a){a.preventDefault();this.activate(d)},activate:function(d){this.tab(this.find(".active").removeClass("active")).hide();this.tab(d.addClass("active")).show()}});steal.loaded("wizard_form_builder/tabs/tabs.js");
$.Controller("WizardFormBuilder.Form",{listensTo:["dragover","dragenter","drop","submit"],defaults:{jobtype:"content",mode:"editable"},REVIEW_INSTRUCTIONS:"<div class='review-instructions'><h2>Extra Instructions (read carefully!):</h2><p>Another worker has completed this task. Please review their work and <strong style='color: red'>click on any answer that you judge to be wrong</strong>, based on your best interpretation of the instructions. For multiple choice and checkboxes, count both wrongly selected and missed answers as wrong.<p><ul><li><strong>Read</strong> the instructions given to the original worker</li><li>Answers that are clickable will appear raised.</li><li>If an item is highlighted orange, extra instructions apply. Click on each part that is answered wrong.</li></ul></div>",
CONTENT_INSTRUCTIONS:"<div class='review-instructions'><h2>Extra Instructions (read carefully!):</h2><p>Complete this task according to the instructions given.</p><ul><li>If a field is grayed-out or disabled, other workers have determined the answer already. You do not need to edit it.</li><li>If a field has highlighted items, other workers have marked them incorrect. Please correct them.</li></ul></div>"},{form:null,activeItems:[],shiftActive:false,init:function(){this.originalContents=this.element.contents(":not(script)");
this.loadForm(this.options.form_id).done(this.proxy("show"))},update:function(d){this._super(d);this.show()},show:function(){var d=this;this.element.empty().append(this.originalContents).removeClass("empty editable preview");$(".review-instructions").remove();this.element.model(this.form).addClass(this.form.identity());if(this.options.jobtype=="review")this.element.before(this.Class.REVIEW_INSTRUCTIONS).append($("<input/>").attr("type","hidden").attr("name","flagged_items"));else this.options.jobtype==
"content"&&this.options.field_states&&this.element.before(this.Class.CONTENT_INSTRUCTIONS);if(this.options.mode=="editable")this.element.addClass("editable");else this.options.mode=="preview"&&this.element.addClass("preview");if(this.form.items.length==0)this.element.addClass("empty");else{this.element.removeClass("empty");this.form.items.each(function(){d.renderItem(this)})}this.options.mode=="performable"&&this.element.append($("<input/>").attr("type","submit").attr("name","submit").val("Submit").addClass("action-button large btn btn-primary").css("position",
"absolute").css("right","20px").css("bottom","20px"));if(typeof show_explainer!="undefined"&&show_explainer){this.element.find(".explainer").show().height(this.element.height()-parseInt(this.element.find(".explainer").css("padding-top").match(/\d+/)[0]));show_explainer=false}},loadForm:function(d){var a=this;d=WizardFormBuilder.Models.Form.findOne({id:d});d.done(function(j){a.form=j});return d},renderItem:function(d){var a=this.createBaseElement(d);this.element.append(a);var j=new WizardFormBuilder.FormItem[d.type](a,
{jobtype:this.options.jobtype});if(this.options.mode!="editable"&&this.options.data)if(d.attr("name")in this.options.data&&this.options.data[d.attr("name")]!==null)j.value(this.options.data[d.attr("name")]);else typeof j.value=="function"&&j.value("");if(this.options.mode!="editable"&&this.options.field_states){var c=this.options.field_states,i=c.frozen;c=c.highlighted;typeof i=="object"&&i.indexOf(d.attr("name"))!==-1&&j.freeze();typeof c=="object"&&c[d.attr("name")]&&j.highlight(c[d.attr("name")])}if(this.options.mode!=
"editable"&&this.options.jobtype=="review"&&this.options.data.flagged_items&&this.options.data.flagged_items[d.attr("name")]){i=this.options.data.flagged_items[d.attr("name")];if(d.subFlag)typeof j.setFlags=="function"&&j.setFlags(i);else i.status=="flagged"&&j.toggleFlag()}d.constraints().highY+70>=this.form.inner_constraints().highY&&this.element.height(d.constraints().highY+70);return a},createBaseElement:function(d){var a=$("<div/>").addClass("form-item").model(d).attr("tabindex","-1").append($("<div/>").addClass("content-area")).append($("<div/>").addClass("hider"));
$(d.Class.resizable).each(function(j,c){a.append($("<div/>").addClass("resize").addClass(c))});d.Class.textEditable&&a.append($("<div/>").addClass("edit-text"));if(this.options.jobtype=="review"&&d.reviewable){a.addClass("review");d.subFlag&&a.addClass("subFlag")}return a},saveForm:function(){this.form.items.each(function(){this.save()})},keydown:function(d,a){if(this.options.mode=="editable")if(!($(a.target).is("input")||$(a.target).is("textarea")||$(a.target).prop("contentEditable")=="true"))if(a.keyCode==
16)this.shiftActive=true;else if(a.keyCode==8||a.keyCode==46){a.preventDefault();d=this.activeItems.slice(0);this.setActiveItem(null);$.each(d,function(j,c){c.destroy()})}},keyup:function(d,a){if(this.options.mode=="editable"&&a.keyCode==16)this.shiftActive=false},keypress:function(d,a){this.options.mode=="performable"&&a.ctrlKey&&a.which==61&&this.element.find("input[type=submit]").click()},mousedown:function(d,a){if(this.options.mode=="editable"){this.element.focus();if(a.target===this.element.get(0)){a.preventDefault();
var j=(this.element.outerWidth()-this.element.width())/2,c=a.layerX-j,i=a.layerY-j,n=0,l=0,r=this.form,v=this,z=$("<div/>").attr("id","drag-selection").css("top",i).css("left",c).width(n).height(l);this.element.append(z);a=new MouseMoveTracker(a);a.mousemove=function(t,E){t=Math.min(Math.max(0,c+t),d.width());E=Math.min(Math.max(0,i+E),d.height());n=t-c;l=E-i;E=c;t=i;var T=n,H=l;if(n<0){E=c+n;T=-n}if(l<0){t=i+l;H=-l}z.width(T).css("left",E).height(H).css("top",t)};a.mouseup=function(){v.setActiveItem(null);
if(n<0){n=-n;c-=n}if(l<0){l=-l;i-=l}var t=[];$.each(r.items,function(E,T){E=T.constraints();E.lowX>=c&&E.lowY>=i&&E.highX<=c+n&&E.highY<=i+l&&t.push(T)});v.setActiveItems(t);z.remove()}}}},".form-item mousedown":function(d,a){if(this.options.mode=="editable"){a.preventDefault();if(!d.hasClass("disabled")){if(this.shiftActive)this.addOrRemoveActiveItem(d.model());else d.hasClass("active")||this.setActiveItem(d.model());if(d.hasClass("active")){var j=-100000,c=-100000,i=1E5,n=1E5,l=this.form,r=this.form.inner_constraints(),
v=this.activeItems;$(v).each(function(){var z=this.constraints();this.beforeDragX=this.attr("x");this.beforeDragY=this.attr("y");var t=-z.lowX,E=-z.lowY,T=r.highX-z.highX;z=r.highY-z.highY;if(t>j)j=t;if(E>c)c=E;if(T<i)i=T;if(z<n)n=z});d=new MouseMoveTracker(a);d.mousemove=function(z,t){if(z<j)z=j;if(t<c)t=c;if(z>i)z=i;if(t>n)t=n;$(v).each(function(){this.attrs({x:this.beforeDragX+z,y:this.beforeDragY+t})})};d.mouseup=function(){var z=Math.min.apply(null,$(v).map(function(R,fa){return fa.constraints().lowX}).toArray()),
t=Math.min.apply(null,$(v).map(function(R,fa){return fa.constraints().lowY}).toArray()),E=Math.max.apply(null,$(v).map(function(R,fa){return fa.constraints().highX}).toArray()),T=Math.max.apply(null,$(v).map(function(R,fa){return fa.constraints().highY}).toArray()),H=WizardFormBuilder.Util.newCoordSnapped(z,20)-z,C=WizardFormBuilder.Util.newCoordSnapped(t,20)-t;if(H+E>l.inner_constraints().highX)H=l.inner_constraints().highX-E;if(C+T>l.inner_constraints().highY)C=l.inner_constraints().highY-T;$(v).each(function(){this.attrs({x:this.attr("x")+
H,y:this.attr("y")+C});if(this.attr("x")!==this.beforeDragX||this.attr("y")!==this.beforeDragY)this.save()})}}}}},addOrRemoveActiveItem:function(d){var a=this.activeItems.indexOf(d);if(a==-1){d.activate();this.activeItems.push(d)}else{d.deactivate();this.activeItems.splice(a,1)}OpenAjax.hub.publish("fields.active",this.activeItems)},setActiveItems:function(d){$.each(this.activeItems,function(){this.deactivate()});this.activeItems=d;$.each(d,function(){this.activate()});OpenAjax.hub.publish("fields.active",
this.activeItems)},setActiveItem:function(d){this.setActiveItems(d==null?[]:[d])},"fields.deactivate_all subscribe":function(){this.setActiveItems([])},calculateDropCoordinates:function(d,a){var j=a.layerX,c=a.layerY;if(d.get(0)!=a.target)if($(a.target).parents("#prodder").length==0){j+=$(a.target).offset().left-d.offset().left;c+=$(a.target).offset().top-d.offset().top}if(c<0)c=0;if(j<0)j=0;j=WizardFormBuilder.Util.newCoordSnapped(j,20);c=WizardFormBuilder.Util.newCoordSnapped(c,20);return{x:j,y:c}},dragover:function(d,
a){if(this.options.mode=="editable"){a.preventDefault();return false}},dragenter:function(d,a){if(this.options.mode=="editable"){a.preventDefault();return false}},createItem:function(d,a){var j=$.String.getObject(d),c=j.displayName.replace(/ /g,""),i=this.form.items.grep(function(r){return r.Class.fullName==d}).map(function(r){if(typeof r.name=="undefined")return 0;return(r=r.name.match(new RegExp("^"+c+"(\\d+)$")))?parseInt(r[1]):0});i=i.sort(function(r,v){return r<v?-1:r==v?0:1});var n=0;if(i.length>
0)n=i[i.length-1];a=new j({x:a.x,y:a.y,form_id:this.form.id,name:c+(n+1)});this.form.addItem(a);var l=this.renderItem(a);a.constraints().highX>this.form.inner_constraints().highX&&a.attr("x",a.attr("x")-(a.constraints().highX-this.form.inner_constraints().highX));l.addClass("disabled").append($("<div/>").addClass("spinner").width(l.width()).height(l.height()));a.save(function(){l.addClass(this.identity()).removeClass("disabled").removeClass(this.identity().replace(this.attr("id"),"undefined"))});
this.element.focus().removeClass("empty")},"form_item.do_add subscribe":function(d,a){var j=0;this.form.items.each(function(c,i){if(i.constraints().highY>j)j=i.constraints().highY});this.createItem(a,{x:0,y:j+20})},drop:function(d,a){if(this.options.mode=="editable"){a.preventDefault();d=a.originalEvent.dataTransfer;d.effectAllowed="copy";if(!(d.files.length>0)){a=this.calculateDropCoordinates(this.element,a);d=d.getData("text/html").replace(/<meta.*?>/g,"");d=$(d).data("class");typeof d!=="undefined"&&
this.createItem(d,a)}}},"form_item.destroyed subscribe":function(d,a){this.form.removeItem(a);a.elements().remove();d=this.activeItems.indexOf(a);if(d!==-1){this.activeItems.splice(d,1);OpenAjax.hub.publish("fields.active",this.activeItems)}this.form.items.length==0&&this.element.addClass("empty")},".s-resize mousedown":function(d,a){a.preventDefault();var j=this.element.height();d=this.element;var c=Math.max.apply(null,this.form.items.map(function(i){return i.constraints().highY}));(new MouseMoveTracker(a)).mousemove=
function(i,n){d.height(Math.max(c,j+n))}},submit:function(){this.form.items.each(function(){var a=this.elements().first().controller();a.beforeSubmit&&a.beforeSubmit()});if(this.options.jobtype=="review"){var d={};this.form.items.match("reviewable",true).each(function(){var a=this.elements().first().controller();d[this.attr("name")]=a.flagState()});this.element.find("input[name=flagged_items]").val($.toJSON(d))}}});steal.loaded("wizard_form_builder/form/form.js");
$.Controller("WizardFormBuilder.FormItem",{listensTo:["needs_redraw"]},{init:function(){this.model=this.element.model();this.contentArea=this.element.find("div.content-area");this.element.trigger("needs_redraw");if(this.model.reviewable){this._flagState={status:"unflagged"};if(this.model.subFlag===true){this._flagState.status="subflagged";this._flagState.flaggedIndices=[]}}},_show:function(){this.contentArea.html(this.view("show"));typeof this.redraw!=="undefined"&&this.redraw();this.element.css("top",
this.model.attr("y")).css("left",this.model.attr("x")).find(".hider").height(this.element.outerHeight()).width(this.element.outerWidth()).end().find(".resize.e, .resize.w").css("top",this.element.outerHeight()/2)},needs_redraw:function(){this._show()},flagState:function(){return this._flagState},toggleFlag:function(){var d=this._flagState.status;if(d=="flagged"){this.element.removeClass("flagged");this._flagState.status="unflagged"}else if(d=="unflagged"){this.element.addClass("flagged");this._flagState.status=
"flagged"}},click:function(d,a){this.options.jobtype=="review"&&this.model.reviewable&&this._flagState.status!="frozen"&&this.toggleFlag(d,a)},".resize mousedown":function(d,a){a.preventDefault();a.stopImmediatePropagation();var j=this.model.attr("width"),c=this.model.attr("height"),i=this.model.attr("x"),n=this.model.attr("y"),l=this.model.form.inner_constraints(),r=this.model.constraints(),v=l.lowX-r.lowX,z=l.lowY-r.lowY,t=l.highX-r.highX,E=l.highY-r.highY,T=this.model,H=this,C=d.attr("class").replace(/\s*resize\s*/,
"");$("body").add(this.element.find(".hider")).css("cursor",d.css("cursor"));d=new MouseMoveTracker(a);d.mousemove=function(R,fa){var q=i,D=n,J=j,W=c;if(C.indexOf("e")!==-1)J=Math.max(j+Math.min(R,t),30);if(C.indexOf("w")!==-1){J=Math.max(j-Math.max(R,v),30);q=i-(J-j)}if(C.indexOf("s")!==-1)W=Math.max(c+Math.min(fa,E),30);if(C.indexOf("n")!==-1){W=Math.max(c-Math.max(fa,z),30);D=n-(W-c)}T.attrs({x:q,y:D,width:J,height:W})};d.mouseup=function(){T.save();$("body").add(H.element.find(".hider")).css("cursor",
"")}},enableInPlaceEdits:function(d,a){if(this.element.hasClass("active")&&this.element.find(".text-editable").length>0){a.stopPropagation();if(!this.element.hasClass("editing")){this.element.addClass("editing");this.element.find(".hider").css("z-index","-10");var j=this.element.find(".text-editable");d=j.hasClass("text-area")?"textarea":"input";j.remove();j=$("<"+d+"/>").val(this.model.attr(this.model.Class.textEditable));this.contentArea.append(j);d=="textarea"&&j.height(this.model.attr("height")-
20);j.focus();j.val()==this.model.Class.defaults[this.model.Class.textEditable]&&j.select();a.preventDefault()}}},".edit-text click":function(d,a){this.element.hasClass("disabled")||this.enableInPlaceEdits(d,a)},dblclick:function(d,a){this.element.hasClass("disabled")||this.enableInPlaceEdits(d,a)},"input,textarea mousedown":function(d,a){a.stopPropagation()},"input keypress":function(d,a){this.element.hasClass("editing")&&a.keyCode==13&&d.blur()},"input,textarea blur":function(d){if(this.element.hasClass("editing")){this.element.removeClass("editing");
this.model.attr(this.model.Class.textEditable,d.val());this.model.save();this.element.find(".hider").css("z-index","");this.element.trigger("needs_redraw")}}});steal.loaded("wizard_form_builder/form_item/form_item.js");
(function(d,a){d.fn.jPlayer=function(c){var i=typeof c==="string",n=Array.prototype.slice.call(arguments,1),l=this;c=!i&&n.length?d.extend.apply(null,[true,c].concat(n)):c;if(i&&c.charAt(0)==="_")return l;i?this.each(function(){var r=d.data(this,"jPlayer"),v=r&&d.isFunction(r[c])?r[c].apply(r,n):r;if(v!==r&&v!==a)return l=v,false}):this.each(function(){var r=d.data(this,"jPlayer");r?r.option(c||{}):d.data(this,"jPlayer",new d.jPlayer(c,this))});return l};d.jPlayer=function(c,i){if(arguments.length){this.element=
d(i);this.options=d.extend(true,{},this.options,c);var n=this;this.element.bind("remove.jPlayer",function(){n.destroy()});this._init()}};d.jPlayer.emulateMethods="load play pause";d.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";d.jPlayer.emulateOptions="muted volume";d.jPlayer.reservedEvent="ready flashreset resize repeat error warning";d.jPlayer.event={ready:"jPlayer_ready",flashreset:"jPlayer_flashreset",resize:"jPlayer_resize",repeat:"jPlayer_repeat",
click:"jPlayer_click",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",
timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"};d.jPlayer.htmlEvent="loadstart,abort,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,ratechange".split(",");d.jPlayer.pause=function(){d.each(d.jPlayer.prototype.instances,function(c,i){i.data("jPlayer").status.srcSet&&i.jPlayer("pause")})};d.jPlayer.timeFormat={showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,
padSec:true,sepHour:":",sepMin:":",sepSec:""};d.jPlayer.convertTime=function(c){var i=new Date(c*1E3),n=i.getUTCHours();c=i.getUTCMinutes();i=i.getUTCSeconds();n=d.jPlayer.timeFormat.padHour&&n<10?"0"+n:n;c=d.jPlayer.timeFormat.padMin&&c<10?"0"+c:c;i=d.jPlayer.timeFormat.padSec&&i<10?"0"+i:i;return(d.jPlayer.timeFormat.showHour?n+d.jPlayer.timeFormat.sepHour:"")+(d.jPlayer.timeFormat.showMin?c+d.jPlayer.timeFormat.sepMin:"")+(d.jPlayer.timeFormat.showSec?i+d.jPlayer.timeFormat.sepSec:"")};d.jPlayer.uaBrowser=
function(c){c=c.toLowerCase();var i=/(opera)(?:.*version)?[ \/]([\w.]+)/,n=/(msie) ([\w.]+)/,l=/(mozilla)(?:.*? rv:([\w.]+))?/;c=/(webkit)[ \/]([\w.]+)/.exec(c)||i.exec(c)||n.exec(c)||c.indexOf("compatible")<0&&l.exec(c)||[];return{browser:c[1]||"",version:c[2]||"0"}};d.jPlayer.uaPlatform=function(c){var i=c.toLowerCase(),n=/(android)/,l=/(mobile)/;c=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(i)||[];i=/(ipad|playbook)/.exec(i)||!l.exec(i)&&n.exec(i)||[];c[1]&&(c[1]=c[1].replace(/\s/g,
"_"));return{platform:c[1]||"",tablet:i[1]||""}};d.jPlayer.browser={};d.jPlayer.platform={};var j=d.jPlayer.uaBrowser(navigator.userAgent);if(j.browser){d.jPlayer.browser[j.browser]=true;d.jPlayer.browser.version=j.version}j=d.jPlayer.uaPlatform(navigator.userAgent);if(j.platform){d.jPlayer.platform[j.platform]=true;d.jPlayer.platform.mobile=!j.tablet;d.jPlayer.platform.tablet=!!j.tablet}d.jPlayer.prototype={count:0,version:{script:"2.1.0",needFlash:"2.1.0",flash:"unknown"},options:{swfPath:"js",
solution:"html, flash",supplied:"mp3",preload:"metadata",volume:0.8,muted:false,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",
restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},fullScreen:false,autohide:{restored:false,full:true,fadeIn:200,fadeOut:600,hold:1E3},loop:false,repeat:function(c){c.jPlayer.options.loop?d(this).unbind(".jPlayerRepeat").bind(d.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){d(this).jPlayer("play")}):d(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullScreen:{msie:/msie [0-6]/,ipad:/ipad.*?os [0-4]/,iphone:/iphone/,
ipod:/ipod/,android_pad:/android [0-3](?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/,playbook:/playbook/},verticalVolume:false,idPrefix:"jp",noConflict:"jQuery",emulateHtml:false,errorAlerts:false,warningAlerts:false},optionsAudio:{size:{width:"0px",height:"0px",
cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:true,format:{},formatType:"",waitForPlay:true,waitForLoad:true,srcSet:false,video:false,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:false},solution:{html:true,
flash:true},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:true,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:false,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:true,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',
flashCanPlay:true,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:true,media:"video"}},_init:function(){var c=this;this.element.empty();this.status=d.extend({},this.status);this.internal=d.extend({},this.internal);this.internal.domNode=this.element.get(0);this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html=
{};this.html.audio={};this.html.video={};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);d.each(this.options.supplied.toLowerCase().split(","),function(r,v){var z=v.replace(/^\s+|\s+$/g,"");if(c.format[z]){var t=false;d.each(c.formats,function(E,T){if(z===T)return t=true,false});t||c.formats.push(z)}});d.each(this.options.solution.toLowerCase().split(","),function(r,v){var z=v.replace(/^\s+|\s+$/g,"");if(c.solution[z]){var t=
false;d.each(c.solutions,function(E,T){if(z===T)return t=true,false});t||c.solutions.push(z)}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);this.internal.self=d.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=d.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:a});this.internal.video=d.extend({},{id:this.options.idPrefix+
"_video_"+this.count,jq:a});this.internal.flash=d.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:a,swf:this.options.swfPath+(this.options.swfPath.toLowerCase().slice(-4)!==".swf"?(this.options.swfPath&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf":"")});this.internal.poster=d.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:a});d.each(d.jPlayer.event,function(r,v){c.options[r]!==a&&(c.element.bind(v+".jPlayer",c.options[r]),c.options[r]=a)});this.require.audio=
false;this.require.video=false;d.each(this.formats,function(r,v){c.require[c.format[v].media]=true});this.options=this.require.video?d.extend(true,{},this.optionsVideo,this.options):d.extend(true,{},this.optionsAudio,this.options);this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._restrictNativeVideoControls();this.htmlElement.poster=
document.createElement("img");this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){(!c.status.video||c.status.waitForPlay)&&c.internal.poster.jq.show()};this.element.append(this.htmlElement.poster);this.internal.poster.jq=d("#"+this.internal.poster.id);this.internal.poster.jq.css({width:this.status.width,height:this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.bind("click.jPlayer",function(){c._trigger(d.jPlayer.event.click)});this.html.audio.available=
false;if(this.require.audio){this.htmlElement.audio=document.createElement("audio");this.htmlElement.audio.id=this.internal.audio.id;this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)}this.html.video.available=false;if(this.require.video){this.htmlElement.video=document.createElement("video");this.htmlElement.video.id=this.internal.video.id;this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)}this.flash.available=
this._checkForFlash(10);this.html.canPlay={};this.flash.canPlay={};d.each(this.formats,function(r,v){c.html.canPlay[v]=c.html[c.format[v].media].available&&""!==c.htmlElement[c.format[v].media].canPlayType(c.format[v].codec);c.flash.canPlay[v]=c.format[v].flashCanPlay&&c.flash.available});this.html.desired=false;this.flash.desired=false;d.each(this.solutions,function(r,v){if(r===0)c[v].desired=true;else{var z=false,t=false;d.each(c.formats,function(E,T){c[c.solutions[0]].canPlay[T]&&(c.format[T].media===
"video"?(t=true):(z=true))});c[v].desired=c.require.audio&&!z||c.require.video&&!t}});this.html.support={};this.flash.support={};d.each(this.formats,function(r,v){c.html.support[v]=c.html.canPlay[v]&&c.html.desired;c.flash.support[v]=c.flash.canPlay[v]&&c.flash.desired});this.html.used=false;this.flash.used=false;d.each(this.solutions,function(r,v){d.each(c.formats,function(z,t){if(c[v].support[t])return c[v].used=true,false})});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);
!this.html.used&&!this.flash.used?(this._error({type:d.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:d.jPlayer.errorMsg.NO_SOLUTION,hint:d.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()):this.css.jq.noSolution.length&&this.css.jq.noSolution.hide();if(this.flash.used){var i,n="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+
"&muted="+this.options.muted;if(d.browser.msie&&Number(d.browser.version)<=8){n=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+n+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>');
for(var l=0;l<n.length;l++)i.appendChild(document.createElement(n[l]))}else{l=function(r,v,z){var t=document.createElement("param");t.setAttribute("name",v);t.setAttribute("value",z);r.appendChild(t)};i=document.createElement("object");i.setAttribute("id",this.internal.flash.id);i.setAttribute("data",this.internal.flash.swf);i.setAttribute("type","application/x-shockwave-flash");i.setAttribute("width","1");i.setAttribute("height","1");l(i,"flashvars",n);l(i,"allowscriptaccess","always");l(i,"bgcolor",
this.options.backgroundColor);l(i,"wmode",this.options.wmode)}this.element.append(i);this.internal.flash.jq=d(i)}if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);this.element.append(this.htmlElement.audio);this.internal.audio.jq=d("#"+this.internal.audio.id)}if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);this.element.append(this.htmlElement.video);this.internal.video.jq=d("#"+this.internal.video.id);
this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"});this.internal.video.jq.bind("click.jPlayer",function(){c._trigger(d.jPlayer.event.click)})}}this.options.emulateHtml&&this._emulateHtmlBridge();this.html.used&&!this.flash.used&&setTimeout(function(){c.internal.ready=true;c.version.flash="n/a";c._trigger(d.jPlayer.event.repeat);c._trigger(d.jPlayer.event.ready)},100);this._updateNativeVideoControls();
this._updateInterface();this._updateButtons(false);this._updateAutohide();this._updateVolume(this.options.volume);this._updateMute(this.options.muted);this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();d.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");d.each(this.css.jq,function(c,i){i.length&&i.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");
this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(c){try{return c.canPlayType(this.format.mp3.codec),true}catch(i){return false}},_uaBlocklist:function(c){var i=navigator.userAgent.toLowerCase(),n=false;d.each(c,function(l,r){if(r&&
r.test(i))return n=true,false});return n},_restrictNativeVideoControls:function(){if(this.require.audio&&this.status.nativeVideoControls){this.status.nativeVideoControls=false;this.status.noFullScreen=true}},_updateNativeVideoControls:function(){if(this.html.video.available&&this.html.used){this.htmlElement.video.controls=this.status.nativeVideoControls;this._updateAutohide();this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,
height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"}))}},_addHtmlEventListeners:function(c,i){var n=this;c.preload=this.options.preload;c.muted=this.options.muted;c.volume=this.options.volume;c.addEventListener("progress",function(){i.gate&&(n._getHtmlStatus(c),n._updateInterface(),n._trigger(d.jPlayer.event.progress))},false);c.addEventListener("timeupdate",function(){i.gate&&(n._getHtmlStatus(c),
n._updateInterface(),n._trigger(d.jPlayer.event.timeupdate))},false);c.addEventListener("durationchange",function(){if(i.gate){n.status.duration=this.duration;n._getHtmlStatus(c);n._updateInterface();n._trigger(d.jPlayer.event.durationchange)}},false);c.addEventListener("play",function(){i.gate&&(n._updateButtons(true),n._html_checkWaitForPlay(),n._trigger(d.jPlayer.event.play))},false);c.addEventListener("playing",function(){i.gate&&(n._updateButtons(true),n._seeked(),n._trigger(d.jPlayer.event.playing))},
false);c.addEventListener("pause",function(){i.gate&&(n._updateButtons(false),n._trigger(d.jPlayer.event.pause))},false);c.addEventListener("waiting",function(){i.gate&&(n._seeking(),n._trigger(d.jPlayer.event.waiting))},false);c.addEventListener("seeking",function(){i.gate&&(n._seeking(),n._trigger(d.jPlayer.event.seeking))},false);c.addEventListener("seeked",function(){i.gate&&(n._seeked(),n._trigger(d.jPlayer.event.seeked))},false);c.addEventListener("volumechange",function(){if(i.gate){n.options.volume=
c.volume;n.options.muted=c.muted;n._updateMute();n._updateVolume();n._trigger(d.jPlayer.event.volumechange)}},false);c.addEventListener("suspend",function(){i.gate&&(n._seeked(),n._trigger(d.jPlayer.event.suspend))},false);c.addEventListener("ended",function(){if(i.gate){if(!d.jPlayer.browser.webkit)n.htmlElement.media.currentTime=0;n.htmlElement.media.pause();n._updateButtons(false);n._getHtmlStatus(c,true);n._updateInterface();n._trigger(d.jPlayer.event.ended)}},false);c.addEventListener("error",
function(){if(i.gate&&(n._updateButtons(false),n._seeked(),n.status.srcSet)){clearTimeout(n.internal.htmlDlyCmdId);n.status.waitForLoad=true;n.status.waitForPlay=true;n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"});n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show();n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show();n._error({type:d.jPlayer.error.URL,context:n.status.src,message:d.jPlayer.errorMsg.URL,
hint:d.jPlayer.errorHint.URL})}},false);d.each(d.jPlayer.htmlEvent,function(l,r){c.addEventListener(this,function(){i.gate&&n._trigger(d.jPlayer.event[r])},false)})},_getHtmlStatus:function(c,i){var n=0,l=0,r=0,v=0;if(c.duration)this.status.duration=c.duration;n=c.currentTime;l=this.status.duration>0?100*n/this.status.duration:0;typeof c.seekable==="object"&&c.seekable.length>0?(r=this.status.duration>0?100*c.seekable.end(c.seekable.length-1)/this.status.duration:100,v=100*c.currentTime/c.seekable.end(c.seekable.length-
1)):(r=100,v=l);i&&(l=v=n=0);this.status.seekPercent=r;this.status.currentPercentRelative=v;this.status.currentPercentAbsolute=l;this.status.currentTime=n;this.status.readyState=c.readyState;this.status.networkState=c.networkState;this.status.playbackRate=c.playbackRate;this.status.ended=c.ended},_resetStatus:function(){this.status=d.extend({},this.status,d.jPlayer.prototype.status)},_trigger:function(c,i,n){c=d.Event(c);c.jPlayer={};c.jPlayer.version=d.extend({},this.version);c.jPlayer.options=d.extend(true,
{},this.options);c.jPlayer.status=d.extend(true,{},this.status);c.jPlayer.html=d.extend(true,{},this.html);c.jPlayer.flash=d.extend(true,{},this.flash);if(i)c.jPlayer.error=d.extend({},i);if(n)c.jPlayer.warning=d.extend({},n);this.element.trigger(c)},jPlayerFlashEvent:function(c,i){if(c===d.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var n=this.status.currentTime,l=this.status.paused;this.setMedia(this.status.media);n>0&&(l?this.pause(n):this.play(n))}this._trigger(d.jPlayer.event.flashreset)}}else{this.internal.ready=
true;this.internal.flash.jq.css({width:"0px",height:"0px"});this.version.flash=i.version;this.version.needFlash!==this.version.flash&&this._error({type:d.jPlayer.error.VERSION,context:this.version.flash,message:d.jPlayer.errorMsg.VERSION+this.version.flash,hint:d.jPlayer.errorHint.VERSION});this._trigger(d.jPlayer.event.repeat);this._trigger(c)}if(this.flash.gate)switch(c){case d.jPlayer.event.progress:this._getFlashStatus(i);this._updateInterface();this._trigger(c);break;case d.jPlayer.event.timeupdate:this._getFlashStatus(i);
this._updateInterface();this._trigger(c);break;case d.jPlayer.event.play:this._seeked();this._updateButtons(true);this._trigger(c);break;case d.jPlayer.event.pause:this._updateButtons(false);this._trigger(c);break;case d.jPlayer.event.ended:this._updateButtons(false);this._trigger(c);break;case d.jPlayer.event.click:this._trigger(c);break;case d.jPlayer.event.error:this.status.waitForLoad=true;this.status.waitForPlay=true;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&
this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(false);this._error({type:d.jPlayer.error.URL,context:i.src,message:d.jPlayer.errorMsg.URL,hint:d.jPlayer.errorHint.URL});break;case d.jPlayer.event.seeking:this._seeking();this._trigger(c);break;case d.jPlayer.event.seeked:this._seeked();this._trigger(c);break;case d.jPlayer.event.ready:break;
default:this._trigger(c)}return false},_getFlashStatus:function(c){this.status.seekPercent=c.seekPercent;this.status.currentPercentRelative=c.currentPercentRelative;this.status.currentPercentAbsolute=c.currentPercentAbsolute;this.status.currentTime=c.currentTime;this.status.duration=c.duration;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false},_updateButtons:function(c){if(c!==a){this.status.paused=!c;this.css.jq.play.length&&this.css.jq.pause.length&&
(c?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()))}this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullScreen?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullScreen?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),
this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&this.css.jq.playBar.width(this.status.currentPercentRelative+"%");this.css.jq.currentTime.length&&this.css.jq.currentTime.text(d.jPlayer.convertTime(this.status.currentTime));this.css.jq.duration.length&&this.css.jq.duration.text(d.jPlayer.convertTime(this.status.duration))},
_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=false;this.html.video.gate=false;this.flash.gate=false},_resetActive:function(){this.html.active=false;this.flash.active=false},setMedia:function(c){var i=this,n=false,l=this.status.media.poster!==c.poster;this._resetMedia();this._resetGate();this._resetActive();d.each(this.formats,
function(r,v){var z=i.format[v].media==="video";d.each(i.solutions,function(t,E){if(i[E].support[v]&&i._validString(c[v])){t=E==="html";z?(t?(i.html.video.gate=true,i._html_setVideo(c),i.html.active=true):(i.flash.gate=true,i._flash_setVideo(c),i.flash.active=true),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i.status.video=true):(t?(i.html.audio.gate=true,i._html_setAudio(c),i.html.active=true):(i.flash.gate=true,i._flash_setAudio(c),i.flash.active=true),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.hide(),
i.status.video=false);n=true;return false}});if(n)return false});if(n){if((!this.status.nativeVideoControls||!this.html.video.gate)&&this._validString(c.poster))l?(this.htmlElement.poster.src=c.poster):this.internal.poster.jq.show();this.status.srcSet=true;this.status.media=d.extend({},c);this._updateButtons(false);this._updateInterface()}else this._error({type:d.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:d.jPlayer.errorMsg.NO_SUPPORT,hint:d.jPlayer.errorHint.NO_SUPPORT})},
_resetMedia:function(){this._resetStatus();this._updateButtons(false);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():
this.flash.active&&this._flash_load():this._urlNotSetError("load")},play:function(c){c=typeof c==="number"?c:NaN;this.status.srcSet?this.html.active?this._html_play(c):this.flash.active&&this._flash_play(c):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(c){c=typeof c==="number"?c:NaN;this.status.srcSet?this.html.active?this._html_pause(c):this.flash.active&&this._flash_pause(c):this._urlNotSetError("pause")},pauseOthers:function(){var c=this;d.each(this.instances,function(i,
n){c.element!==n&&n.data("jPlayer").status.srcSet&&n.jPlayer("pause")})},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(c){c=this._limitValue(c,0,100);this.status.srcSet?this.html.active?this._html_playHead(c):this.flash.active&&this._flash_playHead(c):this._urlNotSetError("playHead")},_muted:function(c){this.options.muted=c;this.html.used&&this._html_mute(c);this.flash.used&&this._flash_mute(c);
!this.html.video.gate&&!this.html.audio.gate&&(this._updateMute(c),this._updateVolume(this.options.volume),this._trigger(d.jPlayer.event.volumechange))},mute:function(c){c=c===a?true:!!c;this._muted(c)},unmute:function(c){c=c===a?true:!!c;this._muted(!c)},_updateMute:function(c){if(c===a)c=this.options.muted;this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):c?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),
this.css.jq.unmute.hide()))},volume:function(c){c=this._limitValue(c,0,1);this.options.volume=c;this.html.used&&this._html_volume(c);this.flash.used&&this._flash_volume(c);!this.html.video.gate&&!this.html.audio.gate&&(this._updateVolume(c),this._trigger(d.jPlayer.event.volumechange))},volumeBar:function(c){if(this.css.jq.volumeBar.length){var i=this.css.jq.volumeBar.offset(),n=c.pageX-i.left,l=this.css.jq.volumeBar.width();c=this.css.jq.volumeBar.height()-c.pageY+i.top;i=this.css.jq.volumeBar.height();
this.options.verticalVolume?this.volume(c/i):this.volume(n/l)}this.options.muted&&this._muted(false)},volumeBarValue:function(c){this.volumeBar(c)},_updateVolume:function(c){if(c===a)c=this.options.volume;c=this.options.muted?0:c;this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&
(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](c*100+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);this.options.muted&&this._muted(false)},_cssSelectorAncestor:function(c){var i=this;this.options.cssSelectorAncestor=c;this._removeUiClass();this.ancestorJq=c?d(c):[];c&&this.ancestorJq.length!==1&&this._warning({type:d.jPlayer.warning.CSS_SELECTOR_COUNT,context:c,message:d.jPlayer.warningMsg.CSS_SELECTOR_COUNT+
this.ancestorJq.length+" found for cssSelectorAncestor.",hint:d.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();d.each(this.options.cssSelector,function(n,l){i._cssSelector(n,l)})},_cssSelector:function(c,i){var n=this;typeof i==="string"?d.jPlayer.prototype.options.cssSelector[c]?(this.css.jq[c]&&this.css.jq[c].length&&this.css.jq[c].unbind(".jPlayer"),this.options.cssSelector[c]=i,this.css.cs[c]=this.options.cssSelectorAncestor+" "+i,this.css.jq[c]=i?d(this.css.cs[c]):[],this.css.jq[c].length&&
this.css.jq[c].bind("click.jPlayer",function(l){n[c](l);d(this).blur();return false}),i&&this.css.jq[c].length!==1&&this._warning({type:d.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[c],message:d.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[c].length+" found for "+c+" method.",hint:d.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:d.jPlayer.warning.CSS_SELECTOR_METHOD,context:c,message:d.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:d.jPlayer.warningHint.CSS_SELECTOR_METHOD}):
this._warning({type:d.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:d.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:d.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(c){if(this.css.jq.seekBar){var i=this.css.jq.seekBar.offset();c=c.pageX-i.left;i=this.css.jq.seekBar.width();this.playHead(100*c/i)}},playBar:function(c){this.seekBar(c)},repeat:function(){this._loop(true)},repeatOff:function(){this._loop(false)},_loop:function(c){if(this.options.loop!==c){this.options.loop=c;this._updateButtons();
this._trigger(d.jPlayer.event.repeat)}},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(c,i){var n=c;if(arguments.length===0)return d.extend(true,{},this.options);if(typeof c==="string"){var l=c.split(".");if(i===a){n=d.extend(true,{},this.options);for(var r=0;r<l.length;r++)if(n[l[r]]!==a)n=n[l[r]];else return this._warning({type:d.jPlayer.warning.OPTION_KEY,context:c,message:d.jPlayer.warningMsg.OPTION_KEY,hint:d.jPlayer.warningHint.OPTION_KEY}),
a;return n}r=n={};for(var v=0;v<l.length;v++)v<l.length-1?(r[l[v]]={},r=r[l[v]]):(r[l[v]]=i)}this._setOptions(n);return this},_setOptions:function(c){var i=this;d.each(c,function(n,l){i._setOption(n,l)});return this},_setOption:function(c,i){var n=this;switch(c){case "volume":this.volume(i);break;case "muted":this._muted(i);break;case "cssSelectorAncestor":this._cssSelectorAncestor(i);break;case "cssSelector":d.each(i,function(l,r){n._cssSelector(l,r)});break;case "fullScreen":this.options[c]!==i&&
(this._removeUiClass(),this.options[c]=i,this._refreshSize());break;case "size":!this.options.fullScreen&&this.options[c].cssClass!==i.cssClass&&this._removeUiClass();this.options[c]=d.extend({},this.options[c],i);this._refreshSize();break;case "sizeFull":this.options.fullScreen&&this.options[c].cssClass!==i.cssClass&&this._removeUiClass();this.options[c]=d.extend({},this.options[c],i);this._refreshSize();break;case "autohide":this.options[c]=d.extend({},this.options[c],i);this._updateAutohide();
break;case "loop":this._loop(i);break;case "nativeVideoControls":this.options[c]=d.extend({},this.options[c],i);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case "noFullScreen":this.options[c]=d.extend({},this.options[c],i);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);this._restrictNativeVideoControls();
this._updateButtons();break;case "noVolume":this.options[c]=d.extend({},this.options[c],i);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case "emulateHtml":this.options[c]!==i&&((this.options[c]=i)?this._emulateHtmlBridge():this._destroyHtmlBridge())}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(d.jPlayer.event.resize)},_setSize:function(){this.options.fullScreen?
(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},
_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var c=this,
i=function(){c.css.jq.gui.fadeIn(c.options.autohide.fadeIn,function(){clearTimeout(c.internal.autohideId);c.internal.autohideId=setTimeout(function(){c.css.jq.gui.fadeOut(c.options.autohide.fadeOut)},c.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(true,true),clearTimeout(this.internal.autohideId),this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullScreen&&this.options.autohide.full||
!this.options.fullScreen&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",i),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",i),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",true)},restoreScreen:function(){this._setOption("fullScreen",false)},_html_initMedia:function(){this.htmlElement.media.src=this.status.src;this.options.preload!=="none"&&this._html_load();this._trigger(d.jPlayer.event.timeupdate)},
_html_setAudio:function(c){var i=this;d.each(this.formats,function(n,l){if(i.html.support[l]&&c[l])return i.status.src=c[l],i.status.format[l]=true,i.status.formatType=l,false});this.htmlElement.media=this.htmlElement.audio;this._html_initMedia()},_html_setVideo:function(c){var i=this;d.each(this.formats,function(n,l){if(i.html.support[l]&&c[l])return i.status.src=c[l],i.status.format[l]=true,i.status.formatType=l,false});if(this.status.nativeVideoControls)this.htmlElement.video.poster=this._validString(c.poster)?
c.poster:"";this.htmlElement.media=this.htmlElement.video;this._html_initMedia()},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){if(this.htmlElement.media){this.htmlElement.media.src="";this.htmlElement.media.load()}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;
this.htmlElement.media.load()}clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(c){var i=this;this._html_load();this.htmlElement.media.play();if(!isNaN(c))try{this.htmlElement.media.currentTime=c}catch(n){this.internal.htmlDlyCmdId=setTimeout(function(){i.play(c)},100);return}this._html_checkWaitForPlay()},_html_pause:function(c){var i=this;c>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId);this.htmlElement.media.pause();if(!isNaN(c))try{this.htmlElement.media.currentTime=
c}catch(n){this.internal.htmlDlyCmdId=setTimeout(function(){i.pause(c)},100);return}c>0&&this._html_checkWaitForPlay()},_html_playHead:function(c){var i=this;this._html_load();try{if(typeof this.htmlElement.media.seekable==="object"&&this.htmlElement.media.seekable.length>0)this.htmlElement.media.currentTime=c*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100;else if(this.htmlElement.media.duration>0&&!isNaN(this.htmlElement.media.duration))this.htmlElement.media.currentTime=
c*this.htmlElement.media.duration/100;else throw"e";}catch(n){this.internal.htmlDlyCmdId=setTimeout(function(){i.playHead(c)},100);return}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height}))}},_html_volume:function(c){if(this.html.audio.available)this.htmlElement.audio.volume=
c;if(this.html.video.available)this.htmlElement.video.volume=c},_html_mute:function(c){if(this.html.audio.available)this.htmlElement.audio.muted=c;if(this.html.video.available)this.htmlElement.video.muted=c},_flash_setAudio:function(c){var i=this;try{if(d.each(this.formats,function(l,r){if(i.flash.support[r]&&c[r]){switch(r){case "m4a":case "fla":i._getMovie().fl_setAudio_m4a(c[r]);break;case "mp3":i._getMovie().fl_setAudio_mp3(c[r])}i.status.src=c[r];i.status.format[r]=true;i.status.formatType=r;
return false}}),this.options.preload==="auto"){this._flash_load();this.status.waitForLoad=false}}catch(n){this._flashError(n)}},_flash_setVideo:function(c){var i=this;try{if(d.each(this.formats,function(l,r){if(i.flash.support[r]&&c[r]){switch(r){case "m4v":case "flv":i._getMovie().fl_setVideo_m4v(c[r])}i.status.src=c[r];i.status.format[r]=true;i.status.formatType=r;return false}}),this.options.preload==="auto"){this._flash_load();this.status.waitForLoad=false}}catch(n){this._flashError(n)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",
height:"0px"});this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(c){this._flashError(c)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(c){this._flashError(c)}this.status.waitForLoad=false},_flash_play:function(c){try{this._getMovie().fl_play(c)}catch(i){this._flashError(i)}this.status.waitForLoad=false;this._flash_checkWaitForPlay()},_flash_pause:function(c){try{this._getMovie().fl_pause(c)}catch(i){this._flashError(i)}if(c>0){this.status.waitForLoad=
false;this._flash_checkWaitForPlay()}},_flash_playHead:function(c){try{this._getMovie().fl_play_head(c)}catch(i){this._flashError(i)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height}))}},_flash_volume:function(c){try{this._getMovie().fl_volume(c)}catch(i){this._flashError(i)}},
_flash_mute:function(c){try{this._getMovie().fl_mute(c)}catch(i){this._flashError(i)}},_getMovie:function(){return document[this.internal.flash.id]},_checkForFlash:function(c){var i=false;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);i=true}catch(n){}else navigator.plugins&&navigator.mimeTypes.length>0&&navigator.plugins["Shockwave Flash"]&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=c&&(i=true);return i},_validString:function(c){return c&&
typeof c==="string"},_limitValue:function(c,i,n){return c<i?i:c>n?n:c},_urlNotSetError:function(c){this._error({type:d.jPlayer.error.URL_NOT_SET,context:c,message:d.jPlayer.errorMsg.URL_NOT_SET,hint:d.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(c){var i;i=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:d.jPlayer.error[i],context:this.internal.flash.swf,message:d.jPlayer.errorMsg[i]+c.message,hint:d.jPlayer.errorHint[i]});this.internal.flash.jq.css({width:"1px",height:"1px"})},
_error:function(c){this._trigger(d.jPlayer.event.error,c);this.options.errorAlerts&&this._alert("Error!"+(c.message?"\n\n"+c.message:"")+(c.hint?"\n\n"+c.hint:"")+"\n\nContext: "+c.context)},_warning:function(c){this._trigger(d.jPlayer.event.warning,a,c);this.options.warningAlerts&&this._alert("Warning!"+(c.message?"\n\n"+c.message:"")+(c.hint?"\n\n"+c.hint:"")+"\n\nContext: "+c.context)},_alert:function(c){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+c)},_emulateHtmlBridge:function(){var c=
this;d.each(d.jPlayer.emulateMethods.split(/\s+/g),function(i,n){c.internal.domNode[n]=function(l){c[n](l)}});d.each(d.jPlayer.event,function(i,n){var l=true;d.each(d.jPlayer.reservedEvent.split(/\s+/g),function(r,v){if(v===i)return l=false});l&&c.element.bind(n+".jPlayer.jPlayerHtml",function(){c._emulateHtmlUpdate();var r=document.createEvent("Event");r.initEvent(i,false,true);c.internal.domNode.dispatchEvent(r)})})},_emulateHtmlUpdate:function(){var c=this;d.each(d.jPlayer.emulateStatus.split(/\s+/g),
function(i,n){c.internal.domNode[n]=c.status[n]});d.each(d.jPlayer.emulateOptions.split(/\s+/g),function(i,n){c.internal.domNode[n]=c.options[n]})},_destroyHtmlBridge:function(){var c=this;this.element.unbind(".jPlayerHtml");d.each((d.jPlayer.emulateMethods+" "+d.jPlayer.emulateStatus+" "+d.jPlayer.emulateOptions).split(/\s+/g),function(i,n){delete c.internal.domNode[n]})}};d.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",
URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};d.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",
URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+d.jPlayer.prototype.version.script+" needs Jplayer.swf version "+d.jPlayer.prototype.version.needFlash+" but found "};d.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",
URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};d.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};d.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",
OPTION_KEY:"The option requested in jPlayer('option') is undefined."};d.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})(jQuery);steal.loaded("wizard_form_builder/resources/jplayer-2.1.0/jquery.jplayer.min.js");
var guiders=function(d){var a={version:"1.1.3",_defaultSettings:{attachTo:null,buttons:[{name:"Close"}],buttonCustomHTML:"",classString:null,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
isHashable:true,offset:{top:null,left:null},onShow:null,overlay:false,position:0,title:"Sample title goes here",width:400,xButton:false},_htmlSkeleton:"<div class='guider'>  <div class='guider_content'>    <h1 class='guider_title'></h1>    <div class='guider_close'></div>    <p class='guider_description'></p>    <div class='guider_buttons'>    </div>  </div>  <div class='guider_arrow'>  </div></div>",_arrowSize:42,_closeButtonTitle:"Close",_currentGuiderID:null,_guiders:{},_lastCreatedGuiderID:null,
_nextButtonTitle:"Next",_zIndexForHilight:101,_addButtons:function(j){var c=j.elem.find(".guider_buttons");if(j.buttons===null||j.buttons.length===0)c.remove();else{for(var i=j.buttons.length-1;i>=0;i--){var n=j.buttons[i],l=d("<a></a>",{"class":"guider_button",text:n.name});typeof n.classString!=="undefined"&&n.classString!==null&&l.addClass(n.classString);c.append(l);if(n.onclick)l.bind("click",n.onclick);else if(!n.onclick&&n.name.toLowerCase()===a._closeButtonTitle.toLowerCase())l.bind("click",
function(){a.hideAll()});else!n.onclick&&n.name.toLowerCase()===a._nextButtonTitle.toLowerCase()&&l.bind("click",function(){a.next()})}if(j.buttonCustomHTML!==""){i=d(j.buttonCustomHTML);j.elem.find(".guider_buttons").append(i)}j.buttons.length==0&&c.remove()}},_addXButton:function(j){j=j.elem.find(".guider_close");var c=d("<div></div>",{"class":"x_button",role:"button"});j.append(c);c.click(function(){a.hideAll()})},_attach:function(j){if(j!==null){var c=j.elem.innerHeight(),i=j.elem.innerWidth();
if(j.position===0||j.attachTo===null){j.elem.css("position","absolute");j.elem.css("top",(d(window).height()-c)/3+d(window).scrollTop()+"px");j.elem.css("left",(d(window).width()-i)/2+d(window).scrollLeft()+"px")}else{j.attachTo=d(j.attachTo);var n=j.attachTo.offset(),l=j.attachTo.innerHeight(),r=j.attachTo.innerWidth(),v=n.top;n=n.left;var z=0.9*a._arrowSize;offset={1:[-z-c,r-i],2:[0,z+r],3:[l/2-c/2,z+r],4:[l-c,z+r],5:[z+l,r-i],6:[z+l,r/2-i/2],7:[z+l,0],8:[l-c,-i-z],9:[l/2-c/2,-i-z],10:[0,-i-z],
11:[-z-c,0],12:[-z-c,r/2-i/2]}[j.position];v+=offset[0];n+=offset[1];if(j.offset.top!==null)v+=j.offset.top;if(j.offset.left!==null)n+=j.offset.left;j.elem.css({position:"absolute",top:v,left:n})}}},_guiderById:function(j){if(typeof a._guiders[j]==="undefined")throw"Cannot find guider with id "+j;return a._guiders[j]},_showOverlay:function(){d("#guider_overlay").fadeIn("fast",function(){this.style.removeAttribute&&this.style.removeAttribute("filter")})},_highlightElement:function(j){d(j).css({"z-index":a._zIndexForHilight})},
_dehighlightElement:function(j){d(j).css({"z-index":1})},_hideOverlay:function(){d("#guider_overlay").fadeOut("fast")},_initializeOverlay:function(){d("#guider_overlay").length===0&&d('<div id="guider_overlay"></div>').hide().appendTo("body")},_styleArrow:function(j){var c=j.position||0;if(c){var i=d(j.elem.find(".guider_arrow"));i.addClass({1:"guider_arrow_down",2:"guider_arrow_left",3:"guider_arrow_left",4:"guider_arrow_left",5:"guider_arrow_up",6:"guider_arrow_up",7:"guider_arrow_up",8:"guider_arrow_right",
9:"guider_arrow_right",10:"guider_arrow_right",11:"guider_arrow_down",12:"guider_arrow_down"}[c]);c=j.elem.innerHeight();var n=j.elem.innerWidth(),l=a._arrowSize/2;c={1:["right",l],2:["top",l],3:["top",c/2-l],4:["bottom",l],5:["right",l],6:["left",n/2-l],7:["left",l],8:["bottom",l],9:["top",c/2-l],10:["top",l],11:["left",l],12:["left",n/2-l]}[j.position];i.css(c[0],c[1]+"px")}},_showIfHashed:function(j){var c=window.location.hash.indexOf("guider=");if(c!==-1){c=window.location.hash.substr(c+7);j.id.toLowerCase()===
c.toLowerCase()&&a.show(j.id)}},next:function(){var j=a._guiders[a._currentGuiderID];if(typeof j!=="undefined"){var c=j.next||null;if(c!==null&&c!==""){var i=a._guiderById(c).overlay?true:false;a.hideAll(i);j.highlight&&a._dehighlightElement(j.highlight);a.show(c)}}},createGuider:function(j){if(j===null||j===undefined)j={};myGuider=d.extend({},a._defaultSettings,j);myGuider.id=myGuider.id||String(Math.floor(Math.random()*1E3));j=d(a._htmlSkeleton);myGuider.elem=j;typeof myGuider.classString!=="undefined"&&
myGuider.classString!==null&&myGuider.elem.addClass(myGuider.classString);myGuider.elem.css("width",myGuider.width+"px");j.find(".guider_title").html(myGuider.title);j.find(".guider_description").html(myGuider.description);a._addButtons(myGuider);myGuider.xButton&&a._addXButton(myGuider);j.hide();j.appendTo("body");j.attr("id",myGuider.id);if(typeof myGuider.attachTo!=="undefined"&&myGuider!==null){a._attach(myGuider);a._styleArrow(myGuider)}a._initializeOverlay();a._guiders[myGuider.id]=myGuider;
a._lastCreatedGuiderID=myGuider.id;myGuider.isHashable&&a._showIfHashed(myGuider);return a},hideAll:function(j){d(".guider").fadeOut("fast");typeof j!=="undefined"&&j===true||a._hideOverlay();return a},show:function(j){if(!j&&a._lastCreatedGuiderID)j=a._lastCreatedGuiderID;var c=a._guiderById(j);if(c.overlay){a._showOverlay();c.highlight&&a._highlightElement(c.highlight)}a._attach(c);c.onShow&&c.onShow(c);c.elem.fadeIn("fast");var i=d(window).height(),n=d(window).scrollTop(),l=c.elem.offset();c=c.elem.height();
if(l.top-n<0||l.top+c+40>n+i)window.scrollTo(0,Math.max(l.top+c/2-i/2,0));a._currentGuiderID=j;return a}};return a}.call(this,jQuery);steal.loaded("wizard_form_builder/resources/guiders/guiders-1.1.4.js");
(function(d){d.Jcrop=function(a,j){function c(Q){return parseInt(Q,10)+"px"}function i(Q){return parseInt(Q,10)+"%"}function n(Q){return Z.baseClass+"-"+Q}function l(){return d.fx.step.hasOwnProperty("backgroundColor")}function r(Q){Q=d(Q).offset();return[Q.left,Q.top]}function v(Q){return[Q.pageX-f[0],Q.pageY-f[1]]}function z(Q){if(typeof Q!=="object")Q={};Z=d.extend(Z,Q);if(typeof Z.onChange!=="function")Z.onChange=function(){};if(typeof Z.onSelect!=="function")Z.onSelect=function(){};if(typeof Z.onRelease!==
"function")Z.onRelease=function(){}}function t(Q){if(Q!==rb){lb.setCursor(Q);rb=Q}}function E(Q,ra){f=r(Ca);lb.setCursor(Q==="move"?Q:Q+"-resize");if(Q==="move")return lb.activateHandlers(H(ra),D);ra=Ja.getFixed();var la=C(Q),ta=Ja.getCorner(C(la));Ja.setPressed(Ja.getCorner(la));Ja.setCurrent(ta);lb.activateHandlers(T(Q,ra),D)}function T(Q,ra){return function(la){if(Z.aspectRatio)switch(Q){case "e":la[1]=ra.y+1;break;case "w":la[1]=ra.y+1;break;case "n":la[0]=ra.x+1;break;case "s":la[0]=ra.x+1;break}else switch(Q){case "e":la[1]=
ra.y2;break;case "w":la[1]=ra.y2;break;case "n":la[0]=ra.x2;break;case "s":la[0]=ra.x2;break}Ja.setCurrent(la);Ka.update()}}function H(Q){var ra=Q;Lb.watchKeys();return function(la){Ja.moveOffset([la[0]-ra[0],la[1]-ra[1]]);ra=la;Ka.update()}}function C(Q){switch(Q){case "n":return"sw";case "s":return"nw";case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function R(Q){return function(ra){if(Z.disabled)return false;if(Q==="move"&&
!Z.allowMove)return false;ub=true;E(Q,v(ra));ra.stopPropagation();ra.preventDefault();return false}}function fa(Q,ra,la){var ta=Q.width(),Ba=Q.height();if(ta>ra&&ra>0){ta=ra;Ba=ra/Q.width()*Q.height()}if(Ba>la&&la>0){Ba=la;ta=la/Q.height()*Q.width()}Za=Q.width()/ta;bb=Q.height()/Ba;Q.width(ta).height(Ba)}function q(Q){return{x:parseInt(Q.x*Za,10),y:parseInt(Q.y*bb,10),x2:parseInt(Q.x2*Za,10),y2:parseInt(Q.y2*bb,10),w:parseInt(Q.w*Za,10),h:parseInt(Q.h*bb,10)}}function D(){var Q=Ja.getFixed();if(Q.w>
Z.minSelect[0]&&Q.h>Z.minSelect[1]){Ka.enableHandles();Ka.done()}else Ka.release();lb.setCursor(Z.allowSelect?"crosshair":"default")}function J(Q){if(Z.disabled)return false;if(!Z.allowSelect)return false;ub=true;f=r(Ca);Ka.disableHandles();t("crosshair");var ra=v(Q);Ja.setPressed(ra);Ka.update();lb.activateHandlers(W,D);Lb.watchKeys();Q.stopPropagation();Q.preventDefault();return false}function W(Q){Ja.setCurrent(Q);Ka.update()}function ca(){var Q=d("<div></div>").addClass(n("tracker"));d.browser.msie&&
Q.css({opacity:0,backgroundColor:"white"});return Q}function V(Q){db.removeClass().addClass(n("holder")).addClass(Q)}function I(Q,ra){function la(){window.setTimeout(nb,eb)}var ta=parseInt(Q[0],10)/Za,Ba=parseInt(Q[1],10)/bb,Na=parseInt(Q[2],10)/Za,Ga=parseInt(Q[3],10)/bb;if(!yb){Q=Ja.flipCoords(ta,Ba,Na,Ga);ta=Ja.getFixed();var Aa=[ta.x,ta.y,ta.x2,ta.y2],eb=Z.animationDelay,fb=Q[0]-Aa[0],na=Q[1]-Aa[1],ha=Q[2]-Aa[2],Ia=Q[3]-Aa[3],pa=0,mb=Z.swingSpeed;x=Aa[0];y=Aa[1];Na=Aa[2];Ga=Aa[3];Ka.animMode(true);
var nb=function(){return function(){pa+=(100-pa)/mb;Aa[0]=x+pa/100*fb;Aa[1]=y+pa/100*na;Aa[2]=Na+pa/100*ha;Aa[3]=Ga+pa/100*Ia;if(pa>=99.8)pa=100;if(pa<100){Y(Aa);la()}else{Ka.done();typeof ra==="function"&&ra.call(tb)}}}();la()}}function O(Q){Y([parseInt(Q[0],10)/Za,parseInt(Q[1],10)/bb,parseInt(Q[2],10)/Za,parseInt(Q[3],10)/bb])}function Y(Q){Ja.setPressed([Q[0],Q[1]]);Ja.setCurrent([Q[2],Q[3]]);Ka.update()}function ma(){return q(Ja.getFixed())}function ya(){return Ja.getFixed()}function Pa(Q){z(Q);
Bb()}function sb(){Z.disabled=true;Ka.disableHandles();Ka.setCursor("default");lb.setCursor("default")}function Qa(){Z.disabled=false;Bb()}function Hb(){Ka.done();lb.activateHandlers(null,null)}function Ab(){db.remove();ib.show();d(a).removeData("Jcrop")}function aa(Q,ra){Ka.release();sb();var la=new Image;la.onload=function(){var ta=la.height,Ba=Z.boxWidth,Na=Z.boxHeight;Ca.width(la.width).height(ta);Ca.attr("src",Q);xb.attr("src",Q);fa(Ca,Ba,Na);Ea=Ca.width();Fa=Ca.height();xb.width(Ea).height(Fa);
Ma.width(Ea+ja*2).height(Fa+ja*2);db.width(Ea).height(Fa);Qa();typeof ra==="function"&&ra.call(tb)};la.src=Q}function Bb(Q){if(Z.allowResize)Q?Ka.enableOnly():Ka.enableHandles();else Ka.disableHandles();lb.setCursor(Z.allowSelect?"crosshair":"default");Ka.setCursor(Z.allowMove?"move":"default");if(Z.hasOwnProperty("setSelect")){O(Z.setSelect);Ka.done();delete Z.setSelect}if(Z.hasOwnProperty("trueSize")){Za=Z.trueSize[0]/Ea;bb=Z.trueSize[1]/Fa}if(Z.hasOwnProperty("bgColor")){l()&&Z.fadeTime?db.animate({backgroundColor:Z.bgColor},
{queue:false,duration:Z.fadeTime}):db.css("backgroundColor",Z.bgColor);delete Z.bgColor}if(Z.hasOwnProperty("bgOpacity")){Ta=Z.bgOpacity;if(Ka.isAwake())Z.fadeTime?Ca.fadeTo(Z.fadeTime,Ta):db.css("opacity",Z.opacity);delete Z.bgOpacity}ab=Z.maxSize[0]||0;Ra=Z.maxSize[1]||0;pb=Z.minSize[0]||0;Eb=Z.minSize[1]||0;if(Z.hasOwnProperty("outerImage")){Ca.attr("src",Z.outerImage);delete Z.outerImage}Ka.refresh()}var Z=d.extend({},d.Jcrop.defaults),f,rb,wb=false;if(d.browser.msie&&d.browser.version.split(".")[0]===
"6")wb=true;if(typeof a!=="object")a=d(a)[0];if(typeof j!=="object")j={};z(j);j={border:"none",margin:0,padding:0,position:"absolute"};var ib=d(a),Ca=ib.clone().removeAttr("id").css(j);Ca.width(ib.width());Ca.height(ib.height());ib.after(Ca).hide();fa(Ca,Z.boxWidth,Z.boxHeight);var Ea=Ca.width(),Fa=Ca.height(),db=d("<div />").width(Ea).height(Fa).addClass(n("holder")).css({position:"relative",backgroundColor:Z.bgColor}).insertAfter(ib).append(Ca);delete Z.bgColor;Z.addClass&&db.addClass(Z.addClass);
var xb=d("<img />").attr("src",Ca.attr("src")).css(j).width(Ea).height(Fa),Db=d("<div />").width(i(100)).height(i(100)).css({zIndex:310,position:"absolute",overflow:"hidden"}).append(xb),M=d("<div />").width(i(100)).height(i(100)).css("zIndex",320),U=d("<div />").css({position:"absolute",zIndex:300}).insertBefore(Ca).append(Db,M);wb&&U.css({overflowY:"hidden"});var ja=Z.boundary,Ma=ca().width(Ea+ja*2).height(Fa+ja*2).css({position:"absolute",top:c(-ja),left:c(-ja),zIndex:290}).mousedown(J),Ta=Z.bgOpacity,
ab,Ra,pb,Eb,Za,bb,ub,yb,Nb;f=r(Ca);var jb=function(){function Q(){var la={},ta=["touchstart","touchmove","touchend"],Ba=document.createElement("div"),Na;try{for(Na=0;Na<ta.length;Na++){var Ga=ta[Na];Ga="on"+Ga;var Aa=Ga in Ba;if(!Aa){Ba.setAttribute(Ga,"return;");Aa=typeof Ba[Ga]=="function"}la[ta[Na]]=Aa}return la.touchstart&&la.touchend&&la.touchmove}catch(eb){return false}}function ra(){return Z.touchSupport===true||Z.touchSupport===false?Z.touchSupport:Q()}return{createDragger:function(la){return function(ta){ta.pageX=
ta.originalEvent.changedTouches[0].pageX;ta.pageY=ta.originalEvent.changedTouches[0].pageY;if(Z.disabled)return false;if(la==="move"&&!Z.allowMove)return false;ub=true;E(la,v(ta));ta.stopPropagation();ta.preventDefault();return false}},newSelection:function(la){la.pageX=la.originalEvent.changedTouches[0].pageX;la.pageY=la.originalEvent.changedTouches[0].pageY;return J(la)},isSupported:Q,support:ra()}}(),Ja=function(){function Q(ba){ba=Ga(ba);Ia=na=ba[0];pa=ha=ba[1]}function ra(ba){ba=Ga(ba);mb=ba[0]-
Ia;nb=ba[1]-pa;Ia=ba[0];pa=ba[1]}function la(){return[mb,nb]}function ta(ba){var za=ba[0];ba=ba[1];if(0>na+za)za-=za+na;if(0>ha+ba)ba-=ba+ha;if(Fa<pa+ba)ba+=Fa-(pa+ba);if(Ea<Ia+za)za+=Ea-(Ia+za);na+=za;Ia+=za;ha+=ba;pa+=ba}function Ba(ba){var za=Na();switch(ba){case "ne":return[za.x2,za.y];case "nw":return[za.x,za.y];case "se":return[za.x2,za.y2];case "sw":return[za.x,za.y2]}}function Na(){if(!Z.aspectRatio)return eb();var ba=Z.aspectRatio,za=Z.minSize[0]/Za,cb=Z.maxSize[0]/Za,hb=Ia-na,ob=pa-ha,sa=
Math.abs(hb),ua=Math.abs(ob),Ua=sa/ua;if(cb===0)cb=Ea*10;if(Ua<ba){sa=pa;w=ua*ba;ua=hb<0?na-w:w+na;if(ua<0){ua=0;h=Math.abs((ua-na)/ba);sa=ob<0?ha-h:h+ha}else if(ua>Ea){ua=Ea;h=Math.abs((ua-na)/ba);sa=ob<0?ha-h:h+ha}}else{ua=Ia;h=sa/ba;sa=ob<0?ha-h:ha+h;if(sa<0){sa=0;w=Math.abs((sa-ha)*ba);ua=hb<0?na-w:w+na}else if(sa>Fa){sa=Fa;w=Math.abs(sa-ha)*ba;ua=hb<0?na-w:w+na}}if(ua>na){if(ua-na<za)ua=na+za;else if(ua-na>cb)ua=na+cb;sa=sa>ha?ha+(ua-na)/ba:ha-(ua-na)/ba}else if(ua<na){if(na-ua<za)ua=na-za;else if(na-
ua>cb)ua=na-cb;sa=sa>ha?ha+(na-ua)/ba:ha-(na-ua)/ba}if(ua<0){na-=ua;ua=0}else if(ua>Ea){na-=ua-Ea;ua=Ea}if(sa<0){ha-=sa;sa=0}else if(sa>Fa){ha-=sa-Fa;sa=Fa}return fb(Aa(na,ha,ua,sa))}function Ga(ba){if(ba[0]<0)ba[0]=0;if(ba[1]<0)ba[1]=0;if(ba[0]>Ea)ba[0]=Ea;if(ba[1]>Fa)ba[1]=Fa;return[ba[0],ba[1]]}function Aa(ba,za,cb,hb){var ob=ba,sa=cb,ua=za,Ua=hb;if(cb<ba){ob=cb;sa=ba}if(hb<za){ua=hb;Ua=za}return[Math.round(ob),Math.round(ua),Math.round(sa),Math.round(Ua)]}function eb(){var ba=Ia-na,za=pa-ha;if(ab&&
Math.abs(ba)>ab)Ia=ba>0?na+ab:na-ab;if(Ra&&Math.abs(za)>Ra)pa=za>0?ha+Ra:ha-Ra;if(Eb/bb&&Math.abs(za)<Eb/bb)pa=za>0?ha+Eb/bb:ha-Eb/bb;if(pb/Za&&Math.abs(ba)<pb/Za)Ia=ba>0?na+pb/Za:na-pb/Za;if(na<0){Ia-=na;na-=na}if(ha<0){pa-=ha;ha-=ha}if(Ia<0){na-=Ia;Ia-=Ia}if(pa<0){ha-=pa;pa-=pa}if(Ia>Ea){ba=Ia-Ea;na-=ba;Ia-=ba}if(pa>Fa){ba=pa-Fa;ha-=ba;pa-=ba}if(na>Ea){ba=na-Fa;pa-=ba;ha-=ba}if(ha>Fa){ba=ha-Fa;pa-=ba;ha-=ba}return fb(Aa(na,ha,Ia,pa))}function fb(ba){return{x:ba[0],y:ba[1],x2:ba[2],y2:ba[3],w:ba[2]-
ba[0],h:ba[3]-ba[1]}}var na=0,ha=0,Ia=0,pa=0,mb,nb;return{flipCoords:Aa,setPressed:Q,setCurrent:ra,getOffset:la,moveOffset:ta,getCorner:Ba,getFixed:Na}}(),Ka=function(){function Q(oa){oa=d("<div />").css({position:"absolute",opacity:Z.borderOpacity}).addClass(n(oa));Db.append(oa);return oa}function ra(oa,La){La=d("<div />").mousedown(R(oa)).css({cursor:oa+"-resize",position:"absolute",zIndex:La});jb.support&&La.bind("touchstart",jb.createDragger(oa));M.append(La);return La}function la(oa){return ra(oa,
hb++).css({top:c(-Ua+1),left:c(-Ua+1),opacity:Z.handleOpacity}).addClass(n("handle"))}function ta(oa){var La=Z.handleSize,zb=La;La=La;var vb=Ua,Tb=Ua;switch(oa){case "n":case "s":La=i(100);break;case "e":case "w":zb=i(100);break}return ra(oa,hb++).width(La).height(zb).css({top:c(-vb+1),left:c(-Tb+1)})}function Ba(oa){var La;for(La=0;La<oa.length;La++)sa[oa[La]]=la(oa[La])}function Na(oa){var La=Math.round(oa.h/2-Ua),zb=Math.round(oa.w/2-Ua),vb=oa.w-Ua;oa=oa.h-Ua;if(sa.e){sa.e.css({top:c(La),left:c(vb)});
sa.w.css({top:c(La)});sa.s.css({top:c(oa),left:c(zb)});sa.n.css({left:c(zb)})}if(sa.ne){sa.ne.css({left:c(vb)});sa.se.css({top:c(oa),left:c(vb)});sa.sw.css({top:c(oa)})}if(sa.b){sa.b.css({top:c(oa)});sa.r.css({left:c(vb)})}}function Ga(oa,La){xb.css({top:c(-La),left:c(-oa)});U.css({top:c(La),left:c(oa)})}function Aa(oa,La){U.width(oa).height(La)}function eb(){var oa=Ja.getFixed();Ja.setPressed([oa.x,oa.y]);Ja.setCurrent([oa.x2,oa.y2]);fb()}function fb(){if(cb)return na()}function na(){var oa=Ja.getFixed();
Aa(oa.w,oa.h);Ga(oa.x,oa.y);ua&&Na(oa);cb||ha();Z.onChange.call(tb,q(oa))}function ha(){U.show();Z.bgFade?Ca.fadeTo(Z.fadeTime,Ta):Ca.css("opacity",Ta);cb=true}function Ia(){nb();U.hide();Z.bgFade?Ca.fadeTo(Z.fadeTime,1):Ca.css("opacity",1);cb=false;Z.onRelease.call(tb)}function pa(){if(ua){Na(Ja.getFixed());M.show()}}function mb(){ua=true;if(Z.allowResize){Na(Ja.getFixed());M.show();return true}}function nb(){ua=false;M.hide()}function ba(oa){yb===oa?nb():mb()}function za(){ba(false);eb()}var cb,
hb=370,ob={},sa={},ua=false,Ua=Z.handleOffset;if(Z.drawBorders)ob={top:Q("hline"),bottom:Q("hline bottom"),left:Q("vline"),right:Q("vline right")};if(Z.dragEdges){sa.t=ta("n");sa.b=ta("s");sa.r=ta("e");sa.l=ta("w")}Z.sideHandles&&Ba(["n","s","e","w"]);Z.cornerHandles&&Ba(["sw","nw","ne","se"]);var Jb=ca().mousedown(R("move")).css({cursor:"move",position:"absolute",zIndex:360});jb.support&&Jb.bind("touchstart.jcrop",jb.createDragger("move"));Db.append(Jb);nb();return{updateVisible:fb,update:na,release:Ia,
refresh:eb,isAwake:function(){return cb},setCursor:function(oa){Jb.css("cursor",oa)},enableHandles:mb,enableOnly:function(){ua=true},showHandles:pa,disableHandles:nb,animMode:ba,done:za}}(),lb=function(){function Q(){Ma.css({zIndex:450});na&&d(document).bind("mousemove",la).bind("mouseup",ta)}function ra(){Ma.css({zIndex:290});na&&d(document).unbind("mousemove",la).unbind("mouseup",ta)}function la(ha){eb(v(ha));return false}function ta(ha){ha.preventDefault();ha.stopPropagation();if(ub){ub=false;
fb(v(ha));Ka.isAwake()&&Z.onSelect.call(tb,q(Ja.getFixed()));ra();eb=function(){};fb=function(){}}return false}function Ba(ha,Ia){ub=true;eb=ha;fb=Ia;Q();return false}function Na(ha){ha.pageX=ha.originalEvent.changedTouches[0].pageX;ha.pageY=ha.originalEvent.changedTouches[0].pageY;return la(ha)}function Ga(ha){ha.pageX=ha.originalEvent.changedTouches[0].pageX;ha.pageY=ha.originalEvent.changedTouches[0].pageY;return ta(ha)}function Aa(ha){Ma.css("cursor",ha)}var eb=function(){},fb=function(){},na=
Z.trackDocument;jb.support&&d(document).bind("touchmove",Na).bind("touchend",Ga);na||Ma.mousemove(la).mouseup(ta).mouseout(ta);Ca.before(Ma);return{activateHandlers:Ba,setCursor:Aa}}(),Lb=function(){function Q(){if(Z.keySupport){Ba.show();Ba.focus()}}function ra(){Ba.hide()}function la(Ga,Aa,eb){if(Z.allowMove){Ja.moveOffset([Aa,eb]);Ka.updateVisible()}Ga.preventDefault();Ga.stopPropagation()}function ta(Ga){if(Ga.ctrlKey)return true;var Aa=(Nb=Ga.shiftKey?true:false)?10:1;switch(Ga.keyCode){case 37:la(Ga,
-Aa,0);break;case 39:la(Ga,Aa,0);break;case 38:la(Ga,0,-Aa);break;case 40:la(Ga,0,Aa);break;case 27:Ka.release();break;case 9:return true}return false}var Ba=d('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}),Na=d("<div />").css({position:"absolute",overflow:"hidden"}).append(Ba);if(Z.keySupport){Ba.keydown(ta).blur(ra);if(wb||!Z.fixedSupport){Ba.css({position:"absolute",left:"-20px"});Na.append(Ba).insertBefore(Ca)}else Ba.insertBefore(Ca)}return{watchKeys:Q}}();jb.support&&
Ma.bind("touchstart",jb.newSelection);M.hide();Bb(true);var tb={setImage:aa,animateTo:I,setSelect:O,setOptions:Pa,tellSelect:ma,tellScaled:ya,setClass:V,disable:sb,enable:Qa,cancel:Hb,release:Ka.release,destroy:Ab,focus:Lb.watchKeys,getBounds:function(){return[Ea*Za,Fa*bb]},getWidgetSize:function(){return[Ea,Fa]},getScaleFactor:function(){return[Za,bb]},ui:{holder:db,selection:U}};d.browser.msie&&db.bind("selectstart",function(){return false});ib.data("Jcrop",tb);return tb};d.fn.Jcrop=function(a,
j){function c(i){var n=typeof a==="object"?a:{},l=n.useImg||i.src,r=new Image;r.onload=function(){function v(){var t=d.Jcrop(i,n);typeof j==="function"&&j.call(t)}function z(){!r.width||!r.height?window.setTimeout(z,50):v()}window.setTimeout(z,50)};r.src=l}this.each(function(){if(d(this).data("Jcrop"))if(a==="api")return d(this).data("Jcrop");else d(this).data("Jcrop").setOptions(a);else c(this)});return this};d.Jcrop.defaults={allowSelect:true,allowMove:true,allowResize:true,trackDocument:true,baseClass:"jcrop",
addClass:null,bgColor:"black",bgOpacity:0.6,bgFade:false,borderOpacity:0.4,handleOpacity:0.5,handleSize:9,handleOffset:5,aspectRatio:0,keySupport:true,cornerHandles:true,sideHandles:true,drawBorders:true,dragEdges:true,fixedSupport:true,touchSupport:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onRelease:function(){}}})(jQuery);steal.loaded("wizard_form_builder/resources/jcrop/js/jquery.Jcrop.min.js");
(function(d){var a,j,c,i,n,l,r,v,z,t=0,E={},T=[],H=0,C={},R=[],fa=null,q=new Image,D=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,J=/[^\.]\.(swf)\s*$/i,W,ca=1,V,I,O=false,Y=d.extend(d("<div/>")[0],{prop:0}),ma=0,ya=!d.support.opacity&&!window.XMLHttpRequest,Pa=function(){j.hide();q.onerror=q.onload=null;fa&&fa.abort();a.empty()},sb=function(){d.fancybox('<p id="fancybox_error">The requested content cannot be loaded.<br />Please try again later.</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})},
Qa=function(){return[d(window).width(),d(window).height(),d(document).scrollLeft(),d(document).scrollTop()]},Hb=function(){var M=Qa(),U={},ja=C.margin,Ma=C.autoScale,Ta=(20+ja)*2,ab=(20+ja)*2,Ra=C.padding*2;if(C.width.toString().indexOf("%")>-1){U.width=M[0]*parseFloat(C.width)/100-40;Ma=false}else U.width=C.width+Ra;if(C.height.toString().indexOf("%")>-1){U.height=M[1]*parseFloat(C.height)/100-40;Ma=false}else U.height=C.height+Ra;if(Ma&&(U.width>M[0]-Ta||U.height>M[1]-ab))if(E.type=="image"||E.type==
"swf"){Ta+=Ra;ab+=Ra;Ma=Math.min(Math.min(M[0]-Ta,C.width)/C.width,Math.min(M[1]-ab,C.height)/C.height);U.width=Math.round(Ma*(U.width-Ra))+Ra;U.height=Math.round(Ma*(U.height-Ra))+Ra}else{U.width=Math.min(U.width,M[0]-Ta);U.height=Math.min(U.height,M[1]-ab)}U.top=M[3]+(M[1]-(U.height+40))*0.5;U.left=M[2]+(M[0]-(U.width+40))*0.5;if(C.autoScale===false){U.top=Math.max(M[3]+ja,U.top);U.left=Math.max(M[2]+ja,U.left)}return U},Ab=function(M){if(M&&M.length)switch(C.titlePosition){case "inside":return M;
case "over":return'<span id="fancybox-title-over">'+M+"</span>";default:return'<span id="fancybox-title-wrap"><span id="fancybox-title-left"></span><span id="fancybox-title-main">'+M+'</span><span id="fancybox-title-right"></span></span>'}return false},aa=function(){var M=C.title,U=I.width-C.padding*2,ja="fancybox-title-"+C.titlePosition;d("#fancybox-title").remove();ma=0;if(C.titleShow!==false){M=d.isFunction(C.titleFormat)?C.titleFormat(M,R,H,C):Ab(M);if(!(!M||M==="")){d('<div id="fancybox-title" class="'+
ja+'" />').css({width:U,paddingLeft:C.padding,paddingRight:C.padding}).html(M).appendTo("body");switch(C.titlePosition){case "inside":ma=d("#fancybox-title").outerHeight(true)-C.padding;I.height+=ma;break;case "over":d("#fancybox-title").css("bottom",C.padding);break;default:d("#fancybox-title").css("bottom",d("#fancybox-title").outerHeight(true)*-1);break}d("#fancybox-title").appendTo(n).hide()}}},Bb=function(){d(document).unbind("keydown.fb").bind("keydown.fb",function(M){if(M.keyCode==27&&C.enableEscapeButton){M.preventDefault();
d.fancybox.close()}else if(M.keyCode==37){M.preventDefault();d.fancybox.prev()}else if(M.keyCode==39){M.preventDefault();d.fancybox.next()}});if(d.fn.mousewheel){i.unbind("mousewheel.fb");R.length>1&&i.bind("mousewheel.fb",function(M,U){M.preventDefault();O||U===0||(U>0?d.fancybox.prev():d.fancybox.next())})}if(C.showNavArrows){if(C.cyclic&&R.length>1||H!==0)v.show();if(C.cyclic&&R.length>1||H!=R.length-1)z.show()}},Z=function(){var M,U;if(R.length-1>H){M=R[H+1].href;if(typeof M!=="undefined"&&M.match(D)){U=
new Image;U.src=M}}if(H>0){M=R[H-1].href;if(typeof M!=="undefined"&&M.match(D)){U=new Image;U.src=M}}},f=function(){l.css("overflow",C.scrolling=="auto"?C.type=="image"||C.type=="iframe"||C.type=="swf"?"hidden":"auto":C.scrolling=="yes"?"auto":"visible");if(!d.support.opacity){l.get(0).style.removeAttribute("filter");i.get(0).style.removeAttribute("filter")}d("#fancybox-title").show();C.hideOnContentClick&&l.one("click",d.fancybox.close);C.hideOnOverlayClick&&c.one("click",d.fancybox.close);C.showCloseButton&&
r.show();Bb();d(window).bind("resize.fb",d.fancybox.center);C.centerOnScroll?d(window).bind("scroll.fb",d.fancybox.center):d(window).unbind("scroll.fb");d.isFunction(C.onComplete)&&C.onComplete(R,H,C);O=false;Z()},rb=function(M){var U=Math.round(V.width+(I.width-V.width)*M),ja=Math.round(V.height+(I.height-V.height)*M),Ma=Math.round(V.top+(I.top-V.top)*M),Ta=Math.round(V.left+(I.left-V.left)*M);i.css({width:U+"px",height:ja+"px",top:Ma+"px",left:Ta+"px"});U=Math.max(U-C.padding*2,0);ja=Math.max(ja-
(C.padding*2+ma*M),0);l.css({width:U+"px",height:ja+"px"});if(typeof I.opacity!=="undefined")i.css("opacity",M<0.5?0.5:M)},wb=function(M){var U=M.offset();U.top+=parseFloat(M.css("paddingTop"))||0;U.left+=parseFloat(M.css("paddingLeft"))||0;U.top+=parseFloat(M.css("border-top-width"))||0;U.left+=parseFloat(M.css("border-left-width"))||0;U.width=M.width();U.height=M.height();return U},ib=function(){var M=E.orig?d(E.orig):false,U={};if(M&&M.length){M=wb(M);U={width:M.width+C.padding*2,height:M.height+
C.padding*2,top:M.top-C.padding-20,left:M.left-C.padding-20}}else{M=Qa();U={width:1,height:1,top:M[3]+M[1]*0.5,left:M[2]+M[0]*0.5}}return U},Ca=function(){j.hide();if(i.is(":visible")&&d.isFunction(C.onCleanup))if(C.onCleanup(R,H,C)===false){d.event.trigger("fancybox-cancel");O=false;return}R=T;H=t;C=E;l.get(0).scrollTop=0;l.get(0).scrollLeft=0;if(C.overlayShow){ya&&d("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",
function(){this.style.visibility="inherit"});c.css({"background-color":C.overlayColor,opacity:C.overlayOpacity}).unbind().show()}I=Hb();aa();if(i.is(":visible")){d(r.add(v).add(z)).hide();var M=i.position(),U;V={top:M.top,left:M.left,width:i.width(),height:i.height()};U=V.width==I.width&&V.height==I.height;l.fadeOut(C.changeFade,function(){var ja=function(){l.html(a.contents()).fadeIn(C.changeFade,f)};d.event.trigger("fancybox-change");l.empty().css("overflow","hidden");if(U){l.css({top:C.padding,
left:C.padding,width:Math.max(I.width-C.padding*2,1),height:Math.max(I.height-C.padding*2-ma,1)});ja()}else{l.css({top:C.padding,left:C.padding,width:Math.max(V.width-C.padding*2,1),height:Math.max(V.height-C.padding*2,1)});Y.prop=0;d(Y).animate({prop:1},{duration:C.changeSpeed,easing:C.easingChange,step:rb,complete:ja})}})}else{i.css("opacity",1);if(C.transitionIn=="elastic"){V=ib();l.css({top:C.padding,left:C.padding,width:Math.max(V.width-C.padding*2,1),height:Math.max(V.height-C.padding*2,1)}).html(a.contents());
i.css(V).show();if(C.opacity)I.opacity=0;Y.prop=0;d(Y).animate({prop:1},{duration:C.speedIn,easing:C.easingIn,step:rb,complete:f})}else{l.css({top:C.padding,left:C.padding,width:Math.max(I.width-C.padding*2,1),height:Math.max(I.height-C.padding*2-ma,1)}).html(a.contents());i.css(I).fadeIn(C.transitionIn=="none"?0:C.speedIn,f)}}},Ea=function(){a.width(E.width);a.height(E.height);if(E.width=="auto")E.width=a.width();if(E.height=="auto")E.height=a.height();Ca()},Fa=function(){O=true;E.width=q.width;
E.height=q.height;d("<img />").attr({id:"fancybox-img",src:q.src,alt:E.title}).appendTo(a);Ca()},db=function(){Pa();var M=T[t],U,ja,Ma,Ta,ab;E=d.extend({},d.fn.fancybox.defaults,typeof d(M).data("fancybox")=="undefined"?E:d(M).data("fancybox"));Ma=M.title||d(M).title||E.title||"";if(M.nodeName&&!E.orig)E.orig=d(M).children("img:first").length?d(M).children("img:first"):d(M);if(Ma===""&&E.orig)Ma=E.orig.attr("alt");U=M.nodeName&&/^(?:javascript|#)/i.test(M.href)?E.href||null:E.href||M.href||null;if(E.type){ja=
E.type;if(!U)U=E.content}else if(E.content)ja="html";else if(U)if(U.match(D))ja="image";else if(U.match(J))ja="swf";else if(d(M).hasClass("iframe"))ja="iframe";else if(U.match(/#/)){M=U.substr(U.indexOf("#"));ja=d(M).length>0?"inline":"ajax"}else ja="ajax";else ja="inline";E.type=ja;E.href=U;E.title=Ma;if(E.autoDimensions&&E.type!=="iframe"&&E.type!=="swf"){E.width="auto";E.height="auto"}if(E.modal){E.overlayShow=true;E.hideOnOverlayClick=false;E.hideOnContentClick=false;E.enableEscapeButton=false;
E.showCloseButton=false}if(d.isFunction(E.onStart))if(E.onStart(T,t,E)===false){O=false;return}a.css("padding",20+E.padding+E.margin);d(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){d(this).replaceWith(l.children())});switch(ja){case "html":a.html(E.content);Ea();break;case "inline":d('<div class="fancybox-inline-tmp" />').hide().insertBefore(d(M)).bind("fancybox-cleanup",function(){d(this).replaceWith(l.children())}).bind("fancybox-cancel",function(){d(this).replaceWith(a.children())});
d(M).appendTo(a);Ea();break;case "image":O=false;d.fancybox.showActivity();q=new Image;q.onerror=function(){sb()};q.onload=function(){q.onerror=null;q.onload=null;Fa()};q.src=U;break;case "swf":Ta='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+E.width+'" height="'+E.height+'"><param name="movie" value="'+U+'"></param>';ab="";d.each(E.swf,function(Ra,pb){Ta+='<param name="'+Ra+'" value="'+pb+'"></param>';ab+=" "+Ra+'="'+pb+'"'});Ta+='<embed src="'+U+'" type="application/x-shockwave-flash" width="'+
E.width+'" height="'+E.height+'"'+ab+"></embed></object>";a.html(Ta);Ea();break;case "ajax":M=U.split("#",2);ja=E.ajax.data||{};if(M.length>1){U=M[0];if(typeof ja=="string")ja+="&selector="+M[1];else ja.selector=M[1]}O=false;d.fancybox.showActivity();fa=d.ajax(d.extend(E.ajax,{url:U,data:ja,error:sb,success:function(Ra){if(fa.status==200){a.html(Ra);Ea()}}}));break;case "iframe":d('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" scrolling="'+E.scrolling+
'" src="'+E.href+'"></iframe>').appendTo(a);Ca();break}},xb=function(){if(j.is(":visible")){d("div",j).css("top",ca*-40+"px");ca=(ca+1)%12}else clearInterval(W)},Db=function(){if(!d("#fancybox-wrap").length){d("body").append(a=d('<div id="fancybox-tmp"></div>'),j=d('<div id="fancybox-loading"><div></div></div>'),c=d('<div id="fancybox-overlay"></div>'),i=d('<div id="fancybox-wrap"></div>'));if(!d.support.opacity){i.addClass("fancybox-ie");j.addClass("fancybox-ie")}n=d('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(i);
n.append(l=d('<div id="fancybox-inner"></div>'),r=d('<a id="fancybox-close"></a>'),v=d('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),z=d('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));r.click(d.fancybox.close);j.click(d.fancybox.cancel);v.click(function(M){M.preventDefault();d.fancybox.prev()});z.click(function(M){M.preventDefault();d.fancybox.next()});if(ya){c.get(0).style.setExpression("height",
"document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'");j.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2 ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'");n.prepend('<iframe id="fancybox-hide-sel-frame" src="javascript:\'\';" scrolling="no" frameborder="0" ></iframe>')}}};
d.fn.fancybox=function(M){d(this).data("fancybox",d.extend({},M,d.metadata?d(this).metadata():{})).unbind("click.fb").bind("click.fb",function(U){U.preventDefault();if(!O){O=true;d(this).blur();T=[];t=0;U=d(this).attr("rel")||"";if(!U||U==""||U==="nofollow")T.push(this);else{T=d("a[rel="+U+"], area[rel="+U+"]");t=T.index(this)}db();return false}});return this};d.fancybox=function(M,U){if(!O){O=true;U=typeof U!=="undefined"?U:{};T=[];t=U.index||0;if(d.isArray(M)){for(var ja=0,Ma=M.length;ja<Ma;ja++)if(typeof M[ja]==
"object")d(M[ja]).data("fancybox",d.extend({},U,M[ja]));else M[ja]=d({}).data("fancybox",d.extend({content:M[ja]},U));T=jQuery.merge(T,M)}else{if(typeof M=="object")d(M).data("fancybox",d.extend({},U,M));else M=d({}).data("fancybox",d.extend({content:M},U));T.push(M)}if(t>T.length||t<0)t=0;db()}};d.fancybox.showActivity=function(){clearInterval(W);j.show();W=setInterval(xb,66)};d.fancybox.hideActivity=function(){j.hide()};d.fancybox.next=function(){return d.fancybox.pos(H+1)};d.fancybox.prev=function(){return d.fancybox.pos(H-
1)};d.fancybox.pos=function(M){if(!O){M=parseInt(M,10);if(M>-1&&R.length>M){t=M;db()}if(C.cyclic&&R.length>1&&M<0){t=R.length-1;db()}if(C.cyclic&&R.length>1&&M>=R.length){t=0;db()}}};d.fancybox.cancel=function(){if(!O){O=true;d.event.trigger("fancybox-cancel");Pa();E&&d.isFunction(E.onCancel)&&E.onCancel(T,t,E);O=false}};d.fancybox.close=function(){function M(){c.fadeOut("fast");i.hide();d.event.trigger("fancybox-cleanup");l.empty();d.isFunction(C.onClosed)&&C.onClosed(R,H,C);R=E=[];H=t=0;C=E={};
O=false}if(!(O||i.is(":hidden"))){O=true;if(C&&d.isFunction(C.onCleanup))if(C.onCleanup(R,H,C)===false){O=false;return}Pa();d(r.add(v).add(z)).hide();d("#fancybox-title").remove();i.add(l).add(c).unbind();d(window).unbind("resize.fb scroll.fb");d(document).unbind("keydown.fb");l.css("overflow","hidden");if(C.transitionOut=="elastic"){V=ib();var U=i.position();I={top:U.top,left:U.left,width:i.width(),height:i.height()};if(C.opacity)I.opacity=1;Y.prop=1;d(Y).animate({prop:0},{duration:C.speedOut,easing:C.easingOut,
step:rb,complete:M})}else i.fadeOut(C.transitionOut=="none"?0:C.speedOut,M)}};d.fancybox.resize=function(){var M,U;if(!(O||i.is(":hidden"))){O=true;M=l.wrapInner("<div style='overflow:auto'></div>").children();U=M.height();i.css({height:U+C.padding*2+ma});l.css({height:U});M.replaceWith(M.children());d.fancybox.center()}};d.fancybox.center=function(){O=true;var M=Qa(),U=C.margin,ja={};ja.top=M[3]+(M[1]-(i.height()-ma+40))*0.5;ja.left=M[2]+(M[0]-(i.width()+40))*0.5;ja.top=Math.max(M[3]+U,ja.top);ja.left=
Math.max(M[2]+U,ja.left);i.css(ja);O=false};d.fn.fancybox.defaults={padding:10,margin:20,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.3,overlayColor:"#666",titleShow:true,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",
easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null};d(document).ready(function(){Db()})})(jQuery);steal.loaded("wizard_form_builder/resources/fancybox/jquery.fancybox-1.3.1.pack.js");
eval(function(d,a,j,c,i,n){i=function(l){return(l<a?"":i(parseInt(l/a)))+((l%=a)>35?String.fromCharCode(l+29):l.toString(36))};if(!"".replace(/^/,String)){for(;j--;)n[i(j)]=c[j]||i(j);c=[function(l){return n[l]}];i=function(){return"\\w+"};j=1}for(;j--;)if(c[j])d=d.replace(new RegExp("\\b"+i(j)+"\\b","g"),c[j]);return d}("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});",
62,74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),
0,{}));steal.loaded("wizard_form_builder/resources/fancybox/jquery.easing-1.3.pack.js");
(function(d){function a(l,r){this.settings=l;this.dom=r;this.originalValue=null;this.shouldDelayReinit=this.didInsertDefaultText=false}function j(l){if(!(l.url||l.callback))throw new Error("Need to set either url: or callback: option for the inline editor to work.");}function c(l){if(""!==l)(new Image).src=l}function i(l){return l.replace(/^\s+/,"").replace(/\s+$/,"")}function n(l){if(undefined===l||null===l)return false;if(0===l.length)return false;return true}d.fn.editInPlace=function(l){var r=
d.extend({},d.fn.editInPlace.defaults,l);j(r);c(r.saving_image);return this.each(function(){var v=d(this);if(!v.data("editInPlace")){v.data("editInPlace",true);(new a(r,v)).init()}})};d.fn.editInPlace.defaults={url:"",bg_over:"#ffc",bg_out:"transparent",hover_class:"",show_buttons:false,save_button:'<button class="inplace_save">Save</button>',cancel_button:'<button class="inplace_cancel">Cancel</button>',params:"",field_type:"text",default_text:"(Click here to add text)",use_html:false,textarea_rows:10,
textarea_cols:25,select_text:"Choose new value",select_options:"",text_size:null,saving_text:undefined,saving_image:"",saving_animation_color:"transparent",value_required:false,element_id:"element_id",update_value:"update_value",original_value:"original_value",original_html:"original_html",save_if_nothing_changed:false,on_blur:"save",cancel:"",callback:null,callback_skip_dom_reset:false,success:null,error:null,error_sink:function(l,r){alert(r)},preinit:null,postclose:null,delegate:null};d.extend(a.prototype,
{init:function(){this.setDefaultTextIfNeccessary();this.connectOpeningEvents()},reinit:function(){if(!this.shouldDelayReinit){this.triggerCallback(this.settings.postclose,this.dom);this.triggerDelegateCall("didCloseEditInPlace");this.markEditorAsInactive();this.connectOpeningEvents()}},setDefaultTextIfNeccessary:function(){if(""===this.dom.html()){this.dom.html(this.settings.default_text);this.didInsertDefaultText=true}},connectOpeningEvents:function(){var l=this;this.dom.bind("mouseenter.editInPlace",
function(){l.addHoverEffect()}).bind("mouseleave.editInPlace",function(){l.removeHoverEffect()}).bind("click.editInPlace",function(r){l.openEditor(r)})},disconnectOpeningEvents:function(){this.dom.unbind(".editInPlace")},addHoverEffect:function(){this.settings.hover_class?this.dom.addClass(this.settings.hover_class):this.dom.css("background-color",this.settings.bg_over)},removeHoverEffect:function(){this.settings.hover_class?this.dom.removeClass(this.settings.hover_class):this.dom.css("background-color",
this.settings.bg_out)},openEditor:function(l){if(this.shouldOpenEditor(l)){this.disconnectOpeningEvents();this.removeHoverEffect();this.removeInsertedDefaultTextIfNeccessary();this.saveOriginalValue();this.markEditorAsActive();this.replaceContentWithEditor();this.setInitialValue();this.workAroundMissingBlurBug();this.connectClosingEventsToEditor();this.triggerDelegateCall("didOpenEditInPlace")}},shouldOpenEditor:function(l){if(this.isClickedObjectCancelled(l.target))return false;if(false===this.triggerCallback(this.settings.preinit,
this.dom))return false;if(false===this.triggerDelegateCall("shouldOpenEditInPlace",true,l))return false;return true},removeInsertedDefaultTextIfNeccessary:function(){if(!(!this.didInsertDefaultText||this.dom.html()!==this.settings.default_text)){this.dom.html("");this.didInsertDefaultText=false}},isClickedObjectCancelled:function(l){if(!this.settings.cancel)return false;return 0!==d(l).parents().andSelf().filter(this.settings.cancel).length},saveOriginalValue:function(){this.originalValue=this.settings.use_html?
this.dom.html():i(this.dom.text())},restoreOriginalValue:function(){this.setClosedEditorContent(this.originalValue)},setClosedEditorContent:function(l){this.settings.use_html?this.dom.html(l):this.dom.text(l)},workAroundMissingBlurBug:function(){var l=this.dom.find(":input");this.dom.parents(":last").find(".editInPlace-active :input").not(l).blur()},replaceContentWithEditor:function(){var l=this.settings.show_buttons?this.settings.save_button+" "+this.settings.cancel_button:"",r=this.createEditorElement();
this.dom.html('<form class="inplace_form" style="display: inline; margin: 0; padding: 0;"></form>').find("form").append(r).append(l)},createEditorElement:function(){if(-1===d.inArray(this.settings.field_type,["text","textarea","select"]))throw"Unknown field_type <fnord>, supported are 'text', 'textarea' and 'select'";var l=null;if("select"===this.settings.field_type)l=this.createSelectEditor();else if("text"===this.settings.field_type)l=d('<input type="text" '+this.inputNameAndClass()+' size="'+this.settings.text_size+
'" />');else if("textarea"===this.settings.field_type)l=d("<textarea "+this.inputNameAndClass()+' rows="'+this.settings.textarea_rows+'"  cols="'+this.settings.textarea_cols+'" />');return l},setInitialValue:function(){var l=this.triggerDelegateCall("willOpenEditInPlace",this.originalValue),r=this.dom.find(":input");r.val(l);r.val()!==l&&r.val("")},inputNameAndClass:function(){return' name="inplace_value" class="inplace_field" '},createSelectEditor:function(){var l=d("<select"+this.inputNameAndClass()+
'><option disabled="true" value="">'+this.settings.select_text+"</option></select>"),r=this.settings.select_options;d.isArray(r)||(r=r.split(","));for(var v=0;v<r.length;v++){var z=r[v];d.isArray(z)||(z=z.split(":"));var t=i(z[1]||z[0]);z=i(z[0]);t=d("<option>").val(t).text(z);l.append(t)}return l},connectClosingEventsToEditor:function(){function l(t){v.handleCancelEditor(t);return false}function r(t){v.handleSaveEditor(t);return false}var v=this,z=this.dom.find("form");z.find(".inplace_field").focus().select();
z.find(".inplace_cancel").click(l);z.find(".inplace_save").click(r);if(!this.settings.show_buttons){"save"===this.settings.on_blur?z.find(".inplace_field").blur(r):z.find(".inplace_field").blur(l);if(d.browser.mozilla||d.browser.msie)this.bindSubmitOnEnterInInput()}z.keyup(function(t){if(27===t.which)return l()});d.browser.safari&&this.bindSubmitOnEnterInInput();z.submit(r)},bindSubmitOnEnterInInput:function(){if("textarea"!==this.settings.field_type){var l=this;this.dom.find(":input").keyup(function(r){if(13===
r.which)return l.dom.find("form").submit()})}},handleCancelEditor:function(l){if(false!==this.triggerDelegateCall("shouldCloseEditInPlace",true,l)){l=this.dom.find(":input").val();l=this.triggerDelegateCall("willCloseEditInPlace",l);this.restoreOriginalValue();n(l)&&!this.isDisabledDefaultSelectChoice()&&this.setClosedEditorContent(l);this.reinit()}},handleSaveEditor:function(l){if(false!==this.triggerDelegateCall("shouldCloseEditInPlace",true,l)){var r=this.dom.find(":input").val();r=this.triggerDelegateCall("willCloseEditInPlace",
r);if(this.isDisabledDefaultSelectChoice()||this.isUnchangedInput(r))this.handleCancelEditor(l);else if(this.didForgetRequiredText(r)){this.handleCancelEditor(l);this.reportError("Error: You must enter a value to save this field")}else{this.showSaving(r);this.settings.callback?this.handleSubmitToCallback(r):this.handleSubmitToServer(r)}}},didForgetRequiredText:function(l){return this.settings.value_required&&(""===l||undefined===l||null===l)},isDisabledDefaultSelectChoice:function(){return this.dom.find("option").eq(0).is(":selected:disabled")},
isUnchangedInput:function(l){return!this.settings.save_if_nothing_changed&&this.originalValue===l},showSaving:function(l){if(!(this.settings.callback&&this.settings.callback_skip_dom_reset)){l=l;if(n(this.settings.saving_text))l=this.settings.saving_text;if(n(this.settings.saving_image))l=d("<img />").attr("src",this.settings.saving_image).attr("alt",l);this.dom.html(l)}},handleSubmitToCallback:function(l){this.enableOrDisableAnimationCallbacks(true,false);var r=this.triggerCallback(this.settings.callback,
this.id(),l,this.originalValue,this.settings.params,this.savingAnimationCallbacks());if(!this.settings.callback_skip_dom_reset)if(undefined===r){this.reportError("Error: Failed to save value: "+l);this.restoreOriginalValue()}else this.dom.html(r);if(this.didCallNoCallbacks()){this.enableOrDisableAnimationCallbacks(false,false);this.reinit()}},handleSubmitToServer:function(l){l=this.settings.update_value+"="+encodeURIComponent(l)+"&"+this.settings.element_id+"="+this.dom.attr("id")+(this.settings.params?
"&"+this.settings.params:"")+"&"+this.settings.original_html+"="+encodeURIComponent(this.originalValue)+"&"+this.settings.original_value+"="+encodeURIComponent(this.originalValue);this.enableOrDisableAnimationCallbacks(true,false);this.didStartSaving();var r=this;d.ajax({url:r.settings.url,type:"POST",data:l,dataType:"html",complete:function(){r.didEndSaving()},success:function(v){r.dom.html(v||r.settings.default_text);r.triggerCallback(r.settings.success,v)},error:function(v){r.dom.html(r.originalHTML);
r.settings.error?r.triggerCallback(r.settings.error,v):r.reportError("Failed to save value: "+v.responseText||"Unspecified Error")}})},triggerCallback:function(l){if(l){var r=Array.prototype.slice.call(arguments,1);return l.apply(this.dom[0],r)}},triggerDelegateCall:function(l,r,v){if(!this.settings.delegate||!d.isFunction(this.settings.delegate[l]))return r;l=this.settings.delegate[l](this.dom,this.settings,v);return undefined===l?r:l},reportError:function(l){this.triggerCallback(this.settings.error_sink,
this.id(),l)},id:function(){return this.dom.attr("id")},markEditorAsActive:function(){this.dom.addClass("editInPlace-active")},markEditorAsInactive:function(){this.dom.removeClass("editInPlace-active")},savingAnimationCallbacks:function(){var l=this;return{didStartSaving:function(){l.didStartSaving()},didEndSaving:function(){l.didEndSaving()}}},enableOrDisableAnimationCallbacks:function(l,r){this.didStartSaving.enabled=l;this.didEndSaving.enabled=r},didCallNoCallbacks:function(){return this.didStartSaving.enabled&&
!this.didEndSaving.enabled},assertCanCall:function(l){if(!this[l].enabled)throw new Error("Cannot call "+l+" now. See documentation for details.");},didStartSaving:function(){this.assertCanCall("didStartSaving");this.shouldDelayReinit=true;this.enableOrDisableAnimationCallbacks(false,true);this.startSavingAnimation()},didEndSaving:function(){this.assertCanCall("didEndSaving");this.shouldDelayReinit=false;this.enableOrDisableAnimationCallbacks(false,false);this.reinit();this.stopSavingAnimation()},
startSavingAnimation:function(){var l=this;this.dom.animate({backgroundColor:this.settings.saving_animation_color},400).animate({backgroundColor:"transparent"},400,"swing",function(){setTimeout(function(){l.startSavingAnimation()},10)})},stopSavingAnimation:function(){this.dom.stop(true).css({backgroundColor:""})},missingCommaErrorPreventer:""})})(jQuery);steal.loaded("wizard_form_builder/resources/javascripts/jquery.editinplace.js");
function supports_input_placeholder(){return"placeholder"in document.createElement("input")}
function activatePlaceholders(){if(supports_input_placeholder())return false;$("input[type=text]").each(function(){if($(this).attr("placeholder")&&$(this).attr("placeholder").length>0){$(this).val($(this).attr("placeholder"));$(this).addClass("placeholder");$(this).click(function(){if($(this).val()==$(this).attr("placeholder")){$(this).val("");$(this).removeClass("placeholder")}return false});$(this).blur(function(){if($(this).val().length<1){$(this).val($(this).attr("placeholder"));$(this).addClass("placeholder")}})}})}
function activateVimeoTracking(){var d=$("iframe[src*=vimeo]");if(d.length>0){var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="https://secure-a.vimeocdn.com/js/froogaloop2.min.js";document.getElementsByTagName("head")[0].appendChild(a);a.onload=function(){function j(n){$f(n).addEvent("play",function(l){_gaq.push(["_trackEvent","videos","play",l,null,true])});$f(n).addEvent("finish",function(l){_gaq.push(["_trackEvent","videos","finish",l,null,true])})}for(var c=
0,i=d.length;c<i;c++)$f(d[c]).addEvent("ready",j)}}}$.extend({getUrlVars:function(){for(var d=[],a,j=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),c=0;c<j.length;c++){a=j[c].split("=");d.push(a[0]);d[a[0]]=a[1]}return d},getUrlVar:function(d){return $.getUrlVars()[d]}});
$(document).ready(function(){activatePlaceholders();activateVimeoTracking();$("a[data-popup]").live("click",function(d){window.open($(this).attr("href"));d.preventDefault()});$(".showjs").show();typeof $().tipsy==="function"&&$(".tooltip").tipsy({gravity:"n",opacity:0.9,live:true})});steal.loaded("wizard_form_builder/resources/javascripts/application.js");var failedQuals=[];
function checkQualSubmission(){var d=true;$.ajax({type:"POST",url:check_qual_url,data:$("#job-form").serialize(),success:function(a){$.each(failedQuals,function(j,c){c[c.length-1]=="_"?$("[name="+c+"]").parents("ol").removeClass("qual-fail"):$("[name="+c+"]").removeClass("qual-fail").parents(".form-item").removeClass("qual-fail")});failedQuals=[];if(a.errors){errors=a.errors;d=false;$.each(errors,function(j,c){failedQuals.push(c);c[c.length-1]=="_"?$("[name="+c+"]").parents("ol").addClass("qual-fail"):
$("[name="+c+"]").addClass("qual-fail").parents(".form-item").addClass("qual-fail")})}},dataType:"json",async:false});return d}$(function(){if(typeof check_qual_url!=="undefined"){$("#job-form").submit(checkQualSubmission);$.fancybox($("#qualification_dialog").append($(".instructions").clone()).width(700))}});steal.loaded("wizard_form_builder/resources/javascripts/factory/qual.js");
steal("jquery/class","jquery/lang/string",function(){var d=$.String.underscore,a=$.String.classize,j=$.isArray,c=$.makeArray,i=$.extend,n=$.each,l=/GET|POST|PUT|DELETE/i,r=function(q,D,J,W,ca,V,I){I=I||"json";var O="";if(typeof q=="string"){var Y=q.indexOf(" ");if(Y>2&&Y<7){O=q.substr(0,Y);if(l.test(O))V=O;else I=O;O=q.substr(Y+1)}else O=q}typeof D=="object"&&!j(D)&&(D=i({},D));q=$.String.sub(O,D,true);return $.ajax({url:q,data:D,success:J,error:W,type:V||"post",dataType:I,fixture:ca})},v=function(q,
D){var J=d(this.shortName),W="-"+J+(q||"");return $.fixture&&$.fixture[W]?W:D||"//"+d(this.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+J+(q||"")+".json"},z=function(q,D){q=q||{};var J=this.id;if(q[J]&&q[J]!==D){q["new"+$.String.capitalize(D)]=q[J];delete q[J]}q[J]=D;return q},t=function(q){return new (q||$.Model.List||Array)},E=function(q){return q[q.constructor.id]},T=function(q){for(var D=[],J=0;J<q.length;J++)if(!q[J]["__u Nique"]){D.push(q[J]);q[J]["__u Nique"]=true}for(J=
0;J<D.length;J++)delete D[J]["__u Nique"];return D},H=function(q,D,J,W,ca){var V=$.Deferred(),I=[q.serialize(),function(Y){q[ca||D+"d"](Y);V.resolveWith(q,[q,Y,D])},function(Y){V.rejectWith(q,[Y])}],O=q.constructor;D=="destroy"&&I.shift();D!=="create"&&I.unshift(E(q));V.then(J);V.fail(W);O[D].apply(O,I);return V.promise()},C=function(q){return typeof q==="object"&&q!==null&&q},R=function(q){return function(){$.fn[q].apply($([this]),arguments);return this}},fa=R("bind");R=R("unbind");ajaxMethods={create:function(q){return function(D,
J,W){return r(q,D,J,W,v.call(this,"Create","-restCreate"))}},update:function(q){return function(D,J,W,ca){return r(q,z.call(this,J,D),W,ca,v.call(this,"Update","-restUpdate"),"put")}},destroy:function(q){return function(D,J,W){var ca={};ca[this.id]=D;return r(q,ca,J,W,v.call(this,"Destroy","-restDestroy"),"delete")}},findAll:function(q){return function(D,J,W){return r(q||this.shortName+"s.json",D,J,W,v.call(this,"s"),"get","json "+this._shortName+".models")}},findOne:function(q){return function(D,
J,W){return r(q,D,J,W,v.call(this),"get","json "+this._shortName+".model")}}};jQuery.Class("jQuery.Model",{setup:function(q){var D=this;n(["attributes","associations","validations"],function(ca,V){if(!D[V]||q[V]===D[V])D[V]={}});n(["convert","serialize"],function(ca,V){if(q[V]!=D[V])D[V]=i({},q[V],D[V])});this._fullName=d(this.fullName.replace(/\./g,"_"));this._shortName=d(this.shortName);if(this.fullName.substr(0,7)!="jQuery."){if(this.listType)this.list=new this.listType([]);for(var J in ajaxMethods)if(typeof this[J]!==
"function")this[J]=ajaxMethods[J](this[J]);J={};var W="* "+this._shortName+".model";J[W+"s"]=this.proxy("models");J[W]=this.proxy("model");$.ajaxSetup({converters:J})}},attributes:{},model:function(q){if(!q)return null;if(q instanceof this)q=q.serialize();return new this(C(q[this._shortName])||C(q.data)||C(q.attributes)||q)},models:function(q){if(!q)return null;var D=t(this.List),J=j(q),W=$.Model.List&&q instanceof $.Model.List;W=J?q:W?q.serialize():q.data;var ca=W.length,V=0;for(D._use_call=true;V<
ca;V++)D.push(this.model(W[V]));if(!J)for(var I in q)if(I!=="data")D[I]=q[I];return D},id:"id",addAttr:function(q,D){if(!this.associations[q]){this.attributes[q]||(this.attributes[q]=D);return D}},_models:{},publish:function(q,D){window.OpenAjax&&OpenAjax.hub.publish(this._shortName+"."+q,D)},guessType:function(){return"string"},convert:{date:function(q){var D=typeof q;return D==="string"?isNaN(Date.parse(q))?null:Date.parse(q):D==="number"?new Date(q):q},number:function(q){return parseFloat(q)},
"boolean":function(q){return Boolean(q)},"default":function(q,D,J){D=$.String.getObject(J);var W=window;if(J.indexOf(".")>=0){J=J.substring(0,J.lastIndexOf("."));W=$.String.getObject(J)}return typeof D=="function"?D.call(W,q):q}},serialize:{"default":function(q){return C(q)&&q.serialize?q.serialize():q}},bind:fa,unbind:R,_ajax:r},{setup:function(q){this._init=true;this.attrs(i({},this.constructor.defaults,q));delete this._init},update:function(q,D,J){this.attrs(q);return this.save(D,J)},errors:function(q){if(q)q=
j(q)?q:c(arguments);var D={},J=this,W=function(I,O){n(O,function(Y,ma){if(Y=ma.call(J)){D.hasOwnProperty(I)||(D[I]=[]);D[I].push(Y)}})},ca=this.constructor.validations;n(q||ca||{},function(I,O){if(typeof I=="number"){I=O;O=ca[I]}W(I,O||[])});for(var V in D)if(D.hasOwnProperty(V))return D;return null},attr:function(q,D,J,W){var ca=a(q),V="get"+ca;if(D!==undefined){this._setProperty(q,D,J,W,ca);return this}return this[V]?this[V]():this[q]},bind:fa,unbind:R,_setProperty:function(q,D,J,W,ca){ca="set"+
ca;var V=this[q],I=this,O=function(Y){W&&W.call(I,Y);$(I).triggerHandler("error."+q,Y)};this[ca]&&(D=this[ca](D,this.proxy("_updateProperty",q,D,V,J,O),O))===undefined||this._updateProperty(q,D,V,J,O)},_updateProperty:function(q,D,J,W,ca){var V=this.constructor,I=V.attributes[q]||V.addAttr(q,V.guessType(D)),O=V.convert[I]||V.convert["default"],Y=null,ma="",ya="updated.";W=W;var Pa=V.list;D=this[q]=D===null?null:O.call(V,D,function(){},I);this._init||(Y=this.errors(q));I=[D];O=[q,D,J];if(Y){ma=ya=
"error.";W=ca;O.splice(1,0,Y);I.unshift(Y)}if(J!==D&&!this._init){!Y&&$(this).triggerHandler(ma+q,I);$(this).triggerHandler(ya+"attr",O)}W&&W.apply(this,I);if(q===V.id&&D!==null&&Pa)if(J){if(J!=D){Pa.remove(J);Pa.push(this)}}else Pa.push(this)},removeAttr:function(q){var D=this[q],J=false,W=this.constructor.attributes;this[q]&&delete this[q];if(W[q]){delete W[q];J=true}!this._init&&J&&D&&$(this).triggerHandler("updated.attr",[q,null,D])},attrs:function(q){var D,J=this.constructor,W=J.attributes;if(q){J=
J.id;for(D in q)D!=J&&this.attr(D,q[D]);J in q&&this.attr(J,q[J])}else{q={};for(D in W)if(W.hasOwnProperty(D))q[D]=this.attr(D)}return q},serialize:function(){var q=this.constructor,D=q.attributes,J,W,ca={},V;attributes={};for(V in D)if(D.hasOwnProperty(V)){J=D[V];W=q.serialize[J]||q.serialize["default"];ca[V]=W(this[V],J)}return ca},isNew:function(){var q=E(this);return q===undefined||q===null},save:function(q,D){return H(this,this.isNew()?"create":"update",q,D)},destroy:function(q,D){return H(this,
"destroy",q,D,"destroyed")},identity:function(){var q=E(this),D=this.constructor;return(D._fullName+"_"+(D.escapeIdentity?encodeURIComponent(q):q)).replace(/ /g,"_")},elements:function(q){return $("."+this.identity(),q)},publish:function(q,D){this.constructor.publish(q,D||this)},hookup:function(q){var D=this.constructor._shortName,J=$.data(q,"models")||$.data(q,"models",{});$(q).addClass(D+" "+this.identity());J[D]=this}});n(["created","updated","destroyed"],function(q,D){$.Model.prototype[D]=function(J){var W=
this.constructor;D==="destroyed"&&W.list&&W.list.remove(E(this));J&&typeof J=="object"&&this.attrs(J.attrs?J.attrs():J);$(this).triggerHandler(D);this.publish(D,this);$([W]).triggerHandler(D,this);return[this].concat(c(arguments))}});$.fn.models=function(){var q=[],D,J;this.each(function(){n($.data(this,"models")||{},function(W,ca){D=D===undefined?ca.constructor.List||null:ca.constructor.List===D?D:null;q.push(ca)})});J=t(D);J.push.apply(J,T(q));return J};$.fn.model=function(q){if(q&&q instanceof
$.Model){q.hookup(this[0]);return this}else return this.models.apply(this,arguments)[0]}});steal.loaded("jquery/model/model.js");
steal("jquery/model").then(function(d){var a=function(z){return z[0]&&d.isArray(z[0])?z[0]:z[0]instanceof d.Model.List?d.makeArray(z[0]):d.makeArray(z)},j=0,c=function(z){return z[z.constructor.id]},i=jQuery.expando,n=d.each,l=d.Model._ajax,r={update:function(z){return function(t,E,T,H){return l(z,{ids:t,attrs:E},T,H,"-updateAll","put")}},destroy:function(z){return function(t,E,T){return l(z,t,E,T,"-destroyAll","post")}}};d.Class("jQuery.Model.List",{setup:function(){for(var z in r)if(typeof this[z]!==
"function")this[z]=r[z](this[z])}},{init:function(z){this.length=0;this._data={};this._namespace=".list"+ ++j;this.push.apply(this,d.makeArray(z||[]))},slice:function(){return new this.Class(Array.prototype.slice.apply(this,arguments))},match:function(z,t){return this.grep(function(E){return E[z]==t})},grep:function(z,t){return new this.Class(d.grep(this,z,t))},_makeData:function(){var z=this._data={};this.each(function(t,E){z[E[E.constructor.id]]=E})},get:function(){if(!this.length)return new this.Class([]);
this._changed&&this._makeData();var z=[],t=this[0].constructor,E=t.id;t=new RegExp(t._fullName+"_([^ ]+)");for(var T,H,C=a(arguments),R=0;R<C.length;R++)(H=C[R].nodeName&&(T=C[R].className.match(t))?this._data[T[1]]:this._data[typeof C[R]=="string"||typeof C[R]=="number"?C[R]:C[R][E]])&&z.push(H);return new this.Class(z)},remove:function(z){if(!this.length)return[];var t=[],E=this[0].constructor,T=E.id;E=new RegExp(E._fullName+"_([^ ]+)");var H;z=a(arguments);for(var C=0;C<this.length;){for(var R=
this[C],fa=false,q=0;q<z.length;q++){var D=z[q].nodeName&&(H=z[q].className.match(E))&&H[1]||(typeof z[q]=="string"||typeof z[q]=="number"?z[q]:z[q][T]);if(R[T]==D){t.push.apply(t,this.splice(C,1));z.splice(q,1);fa=true;break}}fa||C++}t=new this.Class(t);t.length&&d([this]).trigger("remove",[t]);return t},elements:function(z){return d(this.map(function(t){return"."+t.identity()}).join(","),z)},model:function(){return this.constructor.namespace},findAll:function(z,t,E){var T=this;this.model().findAll(z,
function(H){T.push(H);t&&t(T)},E)},destroy:function(z,t){var E=this.map(c),T=this.slice(0,this.length);if(E.length)this.constructor.destroy(E,function(){n(T,function(){this.destroyed()});z&&z(T)},t);else z&&z(this);return this},update:function(z,t,E){var T=this.map(c),H=this.slice(0,this.length);if(T.length)this.constructor.update(T,z,function(C){var R=d.extend(z,C||{});n(H,function(){this.updated(R)});t&&t(H)},E);else t&&t(this);return this},bind:function(){this[i]===undefined&&this.bindings(this);
d.fn.bind.apply(d([this]),arguments);return this},unbind:function(){d.fn.unbind.apply(d([this]),arguments);this[i]===undefined&&d(this).unbind(this._namespace);return this},bindings:function(z){var t=this;d(z).bind("destroyed"+this._namespace,function(){t.remove(this)}).bind("updated"+this._namespace,function(){d([t]).trigger("updated",this)})},push:function(){var z=a(arguments);this[i]!==undefined&&this.bindings(z);this._changed=true;var t=v.apply(this,z);this[i]&&z.length&&d([this]).trigger("add",
[z]);return t},serialize:function(){return this.map(function(z){return z.serialize()})}});var v=[].push;n({pop:[].pop,shift:[].shift,unshift:[].unshift,splice:[].splice,sort:[].sort},function(z,t){d.Model.List.prototype[z]=function(){this._changed=true;return t.apply(this,arguments)}});n(["each","map"],function(z,t){d.Model.List.prototype[t]=function(E,T){return d[t](this,E,T)}})});steal.loaded("jquery/model/list/list.js");
steal("jquery/model").then(function(d){var a=function(j,c,i){if(!i){i=c;c={}}c=c||{};j=d.makeArray(j);if(!(c.testIf&&!c.testIf.call(this))){var n=this;d.each(j,function(l,r){n.validations[r]||(n.validations[r]=[]);n.validations[r].push(function(){var v=i.call(this,this[r]);return v===undefined?undefined:c.message||v})})}};d.extend(d.Model,{validate:a,validationMessages:{format:"is invalid",inclusion:"is not a valid option (perhaps out of range)",lengthShort:"is too short",lengthLong:"is too long",
presence:"can't be empty",range:"is out of range"},validateFormatOf:function(j,c,i){a.call(this,j,i,function(n){if(typeof n!="undefined"&&n!=""&&String(n).match(c)==null)return this.Class.validationMessages.format})},validateInclusionOf:function(j,c,i){a.call(this,j,i,function(n){if(typeof n!="undefined")if(d.grep(c,function(l){return l==n}).length==0)return this.Class.validationMessages.inclusion})},validateLengthOf:function(j,c,i,n){a.call(this,j,n,function(l){if(typeof l=="undefined"&&c>0||l.length<
c)return this.Class.validationMessages.lengthShort+" (min="+c+")";else if(typeof l!="undefined"&&l.length>i)return this.Class.validationMessages.lengthLong+" (max="+i+")"})},validatePresenceOf:function(j,c){a.call(this,j,c,function(i){if(typeof i=="undefined"||i==""||i===null)return this.Class.validationMessages.presence})},validateRangeOf:function(j,c,i,n){a.call(this,j,n,function(l){if(typeof l!="undefined"&&l<c||l>i)return this.Class.validationMessages.range+" ["+c+","+i+"]"})}})});steal.loaded("jquery/model/validations/validations.js");
$.Model("WizardFormBuilder.Models.Form",{findOne:function(d,a,j){var c=d.id;delete d.id;return $.ajax({url:"/forms/"+c,type:"get",dataType:"json form.model",data:d,success:this.callback(["instantiateItems",a]),error:j})},instantiateItems:function(d){if(typeof d.items!=="undefined"){var a=d.items;d.items=new $.Model.List;$.each(a,function(){var j=this.type;delete this.type;j=WizardFormBuilder.Models[j];if(typeof j!="undefined"){j=j.model(this);j.form=d;d.items.push(j)}})}}},{inner_constraints:function(){return{lowX:0,
lowY:0,highX:this.elements().width(),highY:this.elements().height()}},addItem:function(d){this.items.push(d);d.form=this},removeItem:function(d){this.items.remove(d);d.form=null},findItemByName:function(d){for(var a=0;a<this.items.length;a++){var j=this.items[a];if(j.attr("name")==d)return j}return null}});steal.loaded("wizard_form_builder/models/form.js");
$.Model("WizardFormBuilder.Models.FormItem",{TYPE:"item",ILLEGAL_NAMES:["","id","task_id","identifier","created_at","updated_at","data","type","num_errors","flagged_items","flagged_items_without_ie"],associations:{belongsTo:"WizardFormBuilder.Models.Form"},asDraggable:function(){return $("<div/>").addClass("form-draggable tooltip").attr("data-class",this.fullName).attr("draggable",true).attr("title",this.tooltip||"Tooltip").append($("<span/>").append(this.displayName||this.shortName))},create:function(d,a,j){OpenAjax.hub.publish("form_item.saving");
$.ajax({url:"/form_items/",type:"post",dataType:"json",success:this.callback(["saved",a]),error:this.callback(["createFailed",j]),data:{data:$.toJSON(d)},fixture:"-restCreate"})},update:function(d,a,j,c){OpenAjax.hub.publish("form_item.saving");$.ajax({url:"/form_items/"+d,type:"put",dataType:"json",success:this.callback(["saved",j]),error:this.callback(["saveFailed",c]),data:{data:$.toJSON(a)},fixture:"-restUpdate"})},destroy:function(d,a,j){OpenAjax.hub.publish("form_item.saving");$.ajax({url:"/form_items/"+
d,type:"delete",dataType:"json",success:this.callback(["saved",a]),error:this.callback(["destroyFailed",j]),fixture:"-restDestroy"})},saved:function(d){OpenAjax.hub.publish("form_item.saved");return d},createFailed:function(){OpenAjax.hub.publish("form_item.createFailed")},saveFailed:function(){OpenAjax.hub.publish("form_item.saveFailed")},destroyFailed:function(){OpenAjax.hub.publish("form_item.destroyFailed")}},{subFlag:false,init:function(){this.attr("type")||this.attr("type",this.Class.shortName);
this.bind("updated.attr",function(d,a,j){this.redraw();OpenAjax.hub.publish("form_item.updated",{field:this,name:a,val:j})})},destroy:function(){OpenAjax.hub.publish("form_item.destroyed",this);this._super.call(this,arguments)},redraw:function(){this.elements().trigger("needs_redraw")},activate:function(){this.elements().addClass("active")},deactivate:function(){this.elements().removeClass("active")},constraints:function(){return{lowX:this.attr("x"),lowY:this.attr("y"),highX:this.attr("x")+this.elements().outerWidth(),
highY:this.attr("y")+this.elements().outerHeight()}},setName:function(d){d=d.replace(/\s+/g,"").replace(/\|/g,"");return this.Class.ILLEGAL_NAMES.indexOf(d)!==-1?this.name:d},getX:function(){return parseInt(this.x)},getY:function(){return parseInt(this.y)},getWidth:function(){return parseInt(this.width)},getHeight:function(){return parseInt(this.height)}});steal.loaded("wizard_form_builder/models/form_item.js");
WizardFormBuilder.Models.FormItem.extend("WizardFormBuilder.Models.DataItem",{TYPE:"data"},{accepts_data:true,valueHelper:function(){return""}});steal.loaded("wizard_form_builder/models/data_item.js");WizardFormBuilder.Models.FormItem.extend("WizardFormBuilder.Models.InputItem",{TYPE:"task"},{reviewable:true});steal.loaded("wizard_form_builder/models/input_item.js");
WizardFormBuilder.Models.FormItem.extend("WizardFormBuilder.Models.StaticTextItem",{defaults:{text:"Double-click to edit",width:400,height:50},displayName:"Instructions",resizable:["nw","sw","se","ne"],textEditable:"text",tooltip:"Instructions give the worker an explaination of what to do on the task. The clearer the instructions the better the results will be."},{});steal.loaded("wizard_form_builder/models/static_text_item.js");
WizardFormBuilder.Models.FormItem.extend("WizardFormBuilder.Models.TitleItem",{defaults:{title:"Double-click to edit"},displayName:"Title",textEditable:"title",tooltip:"What you want to call this task for the worker."},{});steal.loaded("wizard_form_builder/models/title_item.js");
WizardFormBuilder.Models.DataItem.extend("WizardFormBuilder.Models.ImageItem",{defaults:{width:240,height:320,multiple:"false",label:"Image"},displayName:"Image",resizable:["nw","ne","se","sw"],tooltip:"Provide the worker with an image/picture from which you want to gather information."},{valueHelper:function(){return this.multiple==="true"?["Image URL 1","Image URL 2"]:"Image URL"}});steal.loaded("wizard_form_builder/models/image_item.js");
WizardFormBuilder.Models.DataItem.extend("WizardFormBuilder.Models.DynamicTextItem",{defaults:{width:250,height:180,label:"Text"},displayName:"Text",resizable:["nw","ne","se","sw"],tooltip:"If you want to provide the worker with text from which to extract information. Ex. Pull out the nouns from a block of text."},{valueHelper:function(){return"Text"}});steal.loaded("wizard_form_builder/models/dynamic_text_item.js");
WizardFormBuilder.Models.DataItem.extend("WizardFormBuilder.Models.DynamicLinkItem",{defaults:{width:250,label:"Link"},displayName:"Link",tooltip:"A link to a website. Ex. if you have multiple websites from which you want to extract information you can provide the links to the worker."},{valueHelper:function(){return"Link URL"}});steal.loaded("wizard_form_builder/models/dynamic_link_item.js");
WizardFormBuilder.Models.DataItem.extend("WizardFormBuilder.Models.HtmlField",{defaults:{name:"",label:"Web Page",width:300,height:170},displayName:"Web Page",resizable:["nw","ne","se","sw"],tooltip:"Embed a web page into the worker form. Ex. If you have one web site from which you want a worker to extract information from."},{valueHelper:function(){return"Web Page URL"}});steal.loaded("wizard_form_builder/models/html_field.js");
WizardFormBuilder.Models.DataItem.extend("WizardFormBuilder.Models.AudioItem",{defaults:{name:"",label:"Audio",autoplay:false,repeat:false},displayName:"Audio",tooltip:"Provide the worker with an audio, sound, song or etc. Ex. You want to transcribe audio into text the Audio widget is the input."},{valueHelper:function(){return"MP3 URL"}});steal.loaded("wizard_form_builder/models/audio_item.js");
WizardFormBuilder.Models.InputItem.extend("WizardFormBuilder.Models.TextField",{defaults:{name:"",label:"Text Field",width:200,placeholder:""},displayName:"Text Input",resizable:["e","w"],tooltip:"Gather short amounts of text from the worker. Ex. Selecting the text from t-shirts from images of t-shirts."},{});steal.loaded("wizard_form_builder/models/text_field.js");
WizardFormBuilder.Models.InputItem.extend("WizardFormBuilder.Models.TextArea",{defaults:{name:"",label:"Text Area",width:300,height:170,placeholder:"",exact:"false"},displayName:"Text Area",resizable:["nw","ne","se","sw"],tooltip:"A way to gather a large chunk of text from a worker. Ex. Can be used to copy text from an image."},{init:function(){this._super();if(this.attr("exact")==="true")this.subFlag=true}});steal.loaded("wizard_form_builder/models/text_area.js");
WizardFormBuilder.Models.InputItem.extend("WizardFormBuilder.Models.RadioButton",{defaults:{name:"",label:"Multiple Choice",choices:[{value:"0",label:"Choice 0"},{value:"1",label:"Choice 1"},{value:"2",label:"Choice 2"}]},displayName:"Multiple Choice",tooltip:"Have the worker select one of multiple choices. Ex. If you provide images with cats, horses, and planes the multiple choice widget can be used to select what item the image contains."},{});steal.loaded("wizard_form_builder/models/radio_button.js");
WizardFormBuilder.Models.InputItem.extend("WizardFormBuilder.Models.CheckBox",{defaults:{name:"",label:"Check Box",checked:false},displayName:"Check Box",tooltip:"A widget which allows the worker to confirm or unconfirm an attribute. Ex. If you provide an images which might contain cats the checkbox can ask if an individual image has a cat."},{});steal.loaded("wizard_form_builder/models/check_box.js");
WizardFormBuilder.Models.InputItem.extend("WizardFormBuilder.Models.ListField",{defaults:{name:"",label:"List",columns:[{name:"c1",label:"Column 1"},{name:"c2",label:"Column 2"}],start_rows:5},displayName:"List",tooltip:"Have the worker gather a list of items from the items you provide. Ex. If you provide an image with ingredients the list widget can be used to gather each ingredient."},{});steal.loaded("wizard_form_builder/models/list_field.js");
WizardFormBuilder.Models.InputItem.extend("WizardFormBuilder.Models.ImageTagging",{defaults:{name:"",label:"Image Tagging",image:"",columns:[{name:"tag",label:"Tag"}],start_rows:5},displayName:"Image Tagger"},{});steal.loaded("wizard_form_builder/models/image_tagging.js");WizardFormBuilder.Models.TextArea.extend("WizardFormBuilder.Models.SegmentedTextArea",{defaults:$.extend(WizardFormBuilder.Models.TextArea.defaults,{exact:"true",audio:null}),displayName:"Segmented Text Area",tooltip:"Special control for SpeakerText."},{});steal.loaded("wizard_form_builder/models/segmented_text_area.js");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_main_views_main_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("\n");a.push("<div class='side-column'>\n");a.push("  <div id='header'>\n");a.push("    <div class='action-buttons'>\n");a.push("      <a id='save-form' href='javascript://'>saved</a>\n");a.push("    </div>\n");a.push("\n");a.push("    <h2 class='ellipsis tooltip' id='template-name' title='This is the name of your task template. Click to edit.'>\n");a.push("      ");
if(typeof template_name!="undefined"){a.push("\n");a.push("        ");a.push(jQuery.EJS.clean(template_name));a.push("\n");a.push("      ")}a.push("\n");a.push("    </h2>\n");a.push("  </div>\n");a.push("\n");a.push("  <div id='task-list'>\n");a.push("    <ul id='tabs'>\n");a.push("      <li id='library-tab' class='edit-tab'>   <a href='#library'>Add Field</a></li>\n");a.push("      <li id='inspector-tab' class='edit-tab'> <a href='#inspector'>Edit Field</a></li>\n");a.push("      <li id='html-tab' class='custom-html-tab'> <a href='#custom_html'>Html</a></li>\n");
a.push("      <li id='finish-tab' class='preview-tab'> <a href='#finish'>Finish</a></li>\n");a.push("    </ul>\n");a.push("\n");a.push("    <div class='noshow tab-content' id='library'>\n");a.push("      <div class='accordion-item' id='step-title'>\n");a.push("        <div class='accordion-header red'>Title &amp; Instructions</div>\n");a.push("        <div class='accordion-content clearfix'>\n");a.push("          <p>\n");a.push("            Workers will read your title and instructions to know how to complete your job. Be descriptive but succinct.\n");
a.push("          </p>\n");a.push("          <div id='cl-title' />\n");a.push("        </div>\n");a.push("      </div>\n");a.push("\n");a.push("      <div class='accordion-item' id='step-data-types'>\n");a.push("        <div class='accordion-header turquoise'>What You Provide</div>\n");a.push("        <div class='accordion-content clearfix'>\n");a.push("          <p>\n");a.push("            Use these fields to display your data to workers. Each field is a column in the spreadsheet you will upload.\n");
a.push("          </p>\n");a.push("          <div id='cl-data-source' />\n");a.push("        </div>\n");a.push("      </div>\n");a.push("\n");a.push("      <div class='accordion-item' id='step-worker-tasks'>\n");a.push("        <div class='accordion-header orange'>What Workers Give You</div>\n");a.push("        <div class='accordion-content clearfix'>\n");a.push("          <p>\n");a.push("            These fields allow workers to enter data and answer questions. You will receive results from these fields.\n");
a.push("          </p>\n");a.push("          <div id='cl-task' />\n");a.push("        </div>\n");a.push("      </div>\n");a.push("    </div>\n");a.push("\n");a.push("    <div id='inspector' class='tab-content noshow'>\n");a.push("      <form id='property_sheet'>\n");a.push("        No field selected.\n");a.push("      </form>\n");a.push("    </div>\n");a.push("\n");a.push("    <div id='custom_html' class='tab-content noshow'>\n");a.push("      <div class='accordion-item' id='step-title'>\n");a.push("        <div class='accordion-header red'>Upload custom html/erb</div>\n");
a.push("        <div class='accordion-content clearfix'>\n");a.push("          ");if(typeof form_options!="undefined"){a.push("\n");a.push('            <form action="/forms/');a.push(jQuery.EJS.clean(form_options.form_id));a.push('/upload_html" method="POST" enctype="multipart/form-data">\n');a.push('              <p><input type="file" name="file" required=\'required\'></p>\n');a.push('              <div><input type="submit" value="Upload"></div>\n');a.push("            </form>\n");a.push("          ")}a.push("\n");
a.push("        </div>\n");a.push("      </div>\n");a.push("    </div>\n");a.push("\n");a.push("    <div id='finish' class='tab-content noshow' style='font-size: 14px;'>\n");a.push("      <p>All done editing? </p>\n");a.push("\n");a.push("      <p>You can create jobs from this template by uploading a spreadsheet.</p>\n");a.push("\n");a.push("      ");if(typeof template_id!="undefined"){a.push("\n");a.push("        <a href='/batches/new?task_id=");a.push(jQuery.EJS.clean(template_id));a.push("' id='upload-link'>Upload a spreadsheet.</a>\n");
a.push("      ")}a.push("\n");a.push("    </div>\n");a.push("\n");a.push("  </div>\n");a.push("</div>\n");a.push("\n");a.push("<div id='job-form' tabindex='-1'>\n");a.push("  <div class='explainer' style='display: none;'>\n");a.push("    <p>This is your <strong>job template</strong>. When you upload a spreadsheet containing your data, each row will populate this template to make a job which will be sent to our workers.</p>\n");a.push("    <p>You can add, remove, or change fields using our designer or upload your own html.</p>\n");
a.push('    <p> When you\'re done, click on the "Finish" tab to upload a spreadsheet.</p>\n');a.push("    <p><a href='javascript://' id='edit-link' class='action-button'>Edit Job Template</a></p>\n");a.push("\n");a.push("    ");if(typeof template_id!="undefined"){a.push("\n");a.push("      <p>Don't want to change anything? <a href='/batches/new?task_id=");a.push(jQuery.EJS.clean(template_id));a.push("'>Upload a spreadsheet now.</a></p>\n");a.push("    ")}a.push("\n");a.push("    <p>Need help? Read a <a href='http://help.gethumanoid.com/customer/portal/articles/306863-tutorial'>tutorial</a> or watch a\n");
a.push("      <a href='#video-designer' rel='fancybox'>video</a>.\n");a.push("    </p>\n");a.push("  </div>\n");a.push("\n");a.push("  <div id='prodder'>\n");a.push("    <div id='lt' class='corner'></div>\n");a.push("    <div id='rt' class='corner'></div>\n");a.push("    <div id='lb' class='corner'></div>\n");a.push("    <div id='rb' class='corner'></div>\n");a.push("\n");a.push("    <img src='/images/wizard_form_builder/emptyfactory.png'></img>\n");a.push("    <hr>\n");a.push("    <div id='explain'>Drag fields here to create a template.</div>\n");
a.push("  </div>\n");a.push("\n");a.push("  <div class='s-resize'></div>\n");a.push("</div>\n");a.push("\n");a.push("<div id='tutorial-guiders' class='noshow'>\n");a.push("</div>\n");a.push("\n");a.push("<iframe id='video-designer' class='noshow' src=\"https://player.vimeo.com/video/34788463?byline=0&amp;portrait=0&amp;color=ffffff&amp;api=1&amp;player_id=video-designer\"\n");a.push('            width="600" height="338" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen>\n');
a.push("</iframe>\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/main/views/main.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_error_check_views_error_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<h3>Errors Found!</h3>\n");a.push("\n");a.push("<p>We found some errors that will prevent your task from working!</p>\n");a.push("\n");a.push("<p>Please fix the following items:</p>\n");a.push("\n");a.push("<ul>\n");a.push("  <li>");a.push(jQuery.EJS.clean(elements.length==1?elements.length+" item":elements.length+" items"));a.push("\n");a.push("    (");
a.push(jQuery.EJS.clean(d.map(elements,function(i){return i.Class.displayName}).join(", ")));a.push(")\n");a.push("    ");a.push(jQuery.EJS.clean(elements.length==1?"does":"do"));a.push("\n");a.push('    not have an "API Name" set. This is how we identify the data and results of your task.</li>\n');a.push("</ul>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/error_check/views/error.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_error_check_views_good_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<h3>No errors found.</h3>\n");a.push("\n");a.push("<p>If you're done building, you can move on and <a href='test'>create a test</a>.</p>\n");a.push("\n");a.push("<p>You can always come back and edit your task later.</p>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/error_check/views/good.ejs");
WizardFormBuilder.Util={newCoordSnapped:function(d,a){return d%a>=a/2?d+(a-d%a):d-d%a}};steal.loaded("wizard_form_builder/resources/util.js");
$.extend($.EJS.Helpers.prototype,{select_property:function(d,a,j,c,i){if(typeof j==="undefined")j=$.String.capitalize(a);var n=[];n.push(this.label_tag(j,{"for":a,"class":"top"}));typeof c!="undefined"&&n.push('<p class="small">'+c+"</p>");n.push(this.select_tag(a,d[a],i));return n.join("")},string_property:function(d,a,j,c){if(typeof j==="undefined")j=$.String.capitalize(a);if(typeof c!="undefined")j+=' <img class="tooltip" src="/images/humanoid/question.png" title="'+c+'" style="vertical-align: -3px; margin-left: 2px;"/>';
c=[];c.push(this.label_tag(j,{"for":a,"class":"top"}));c.push(this.text_field_tag(a,d[a]));return c.join("")},name_property:function(d){return this.string_property(d,"name","Field Name","The header for the column in your spreadsheet which contains data for this widget. Must be unique, cannot contain spaces.")}});steal.loaded("wizard_form_builder/resources/my_helpers.js");
$.Class("MouseMoveTracker",{},{init:function(d){this.x=d.clientX;this.y=d.clientY;var a=this;$(window).bind("mousemove",function(j){a.mousemove(j.clientX-a.x,j.clientY-a.y)});$(window).bind("mouseup",function(j){$(window).unbind("mousemove").unbind("mouseup");a.mouseup(j.clientX-a.x,j.clientY-a.y)})},mousemove:function(){},mouseup:function(){}});steal.loaded("wizard_form_builder/resources/mouse_move_tracker.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.StaticTextItem",{},{redraw:function(){this.element.width(this.model.attr("width")).height(this.model.attr("height"))}})});steal.loaded("wizard_form_builder/form_item/static_text_item/static_text_item.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.TitleItem",{},{redraw:function(){var d=this.element.outerWidth()-this.element.width();this.element.width(this.model.form.elements().width()-d)}})});steal.loaded("wizard_form_builder/form_item/title_item/title_item.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.ImageItem",{GALLERY_RATIO:0.28},{loadGalleryImage:function(a,j){var c=this,i=this.model.attr("width"),n=this.model.attr("height"),l=i*1/n,r=new Image;d(r).bind("load",function(){var v=r.height,z=r.width,t=z*1/v;if(t>l){z=i;v=i/t}else{v=n;z=n*t}d(r).height(v*c.Class.GALLERY_RATIO).width(z*c.Class.GALLERY_RATIO);j(r)}).css("background","none");r.src=a;return r},value:function(a){var j=
this;this.element.find("img").remove();if(typeof a==="string")a=[a];var c=0,i=d(a).map(function(n,l){return j.loadGalleryImage(l,function(){c+=1;if(c==i.length){i.each(function(){j.element.find(".gallery").append(this)});i.first().click()}})});this.contentArea.append(d("<a/>").attr("title","Click to enlarge").attr("target","_blank").append(d("<img/>")))},redraw:function(){this.element.find("img.main").width(this.model.attr("width")).height(this.model.attr("height"));this.element.find(".gallery img").width(this.model.attr("width")*
this.Class.GALLERY_RATIO).height(this.model.attr("height")*this.Class.GALLERY_RATIO);this.element.find(".gallery").width(this.model.attr("width")*this.Class.GALLERY_RATIO+30).height(this.model.attr("height"));this.model.attr("multiple")=="false"?this.element.find(".gallery").hide():this.element.find(".gallery").show();if(typeof this.model.placeholder!="undefined"&&this.element.find("img").length==0){var a=d("<img/>").attr("src",this.model.placeholder),j=this.model;a.bind("load",function(){var c=1*
a.height()/a.width();if(a.width()>j.form.elements().width()/2){a.width(j.form.elements().width()/2);a.height(a.width()*c)}j.update({width:a.width(),height:a.height()})});this.element.append(a)}},".gallery img click":function(a){a.siblings().removeClass("selected").end().addClass("selected");this.element.find("a").attr("href",a.attr("src")).find("img").attr("src",a.attr("src")).width(a.width()/this.Class.GALLERY_RATIO).height(a.height()/this.Class.GALLERY_RATIO)}})});steal.loaded("wizard_form_builder/form_item/image_item/image_item.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.DynamicTextItem",{},{redraw:function(){this.element.find(".text").width(this.model.attr("width")).height(this.model.attr("height"))},value:function(d){if(typeof d!=="string")d="";this.element.find(".text").html(d.replace(/\n/g,"<br>"))}})});steal.loaded("wizard_form_builder/form_item/dynamic_text_item/dynamic_text_item.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.DynamicLinkItem",{},{redraw:function(){this.element.width(this.model.attr("width"))},value:function(d){d.match(/^https?:\/\//)||(d="http://"+d);this.element.find("a").attr("href",d).html(d)}})});steal.loaded("wizard_form_builder/form_item/dynamic_link_item/dynamic_link_item.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.HtmlField",{has_set_bust:false,bust_interval:null,set_redirect_bust:function(){function a(i){function n(){if(window.top.location.href.match(/gethumanoid/)||window.top.location.href.match(/redwoodtech/)||window.top.location.href.match(/cloudfactory/)||window.top.location.href.match(/mturk.com/)||window.top.location.href.match(/speakertext/)){clearInterval(j.bust_interval);window.onbeforeunload=
null}else c++}window.onbeforeunload=n;j.bust_interval=setInterval(function(){if(window.onbeforeunload!=n){c=i+1;window.onbeforeunload=n}if(c>i){c-=2;d("iframe").each(function(l,r){d(r).replaceWith(d("<div/>").width(d(r).parents(".form-item").model().attr("width")).height(d(r).parents(".form-item").model().attr("height")).css("word-wrap","break-word").append(d("<p/>").html("This iFrame was trying to redirect. Please visit the website here:")).append(d("<p/>").append(d("<a/>").attr("target","_blank").attr("href",
d(r).attr("src")).html(d(r).attr("src")))))});window.top.location="http://redwoodtech.net/no_content";clearInterval(j.bust_interval);window.onbeforeunload=null}},1)}var j=this;if(this.has_set_bust!=true){this.has_set_bust=true;var c=Math.random()*3E3;a(c)}}},{redraw:function(){this.element.find("iframe").width(this.model.attr("width")).height(this.model.attr("height"));this.element.children("label").width(this.model.attr("width"))},value:function(a){this.element.find("iframe").attr("src",a);this.Class.set_redirect_bust()},
beforeSubmit:function(){this.Class.bust_interval!==null&&clearInterval(this.Class.bust_interval)}})});steal.loaded("wizard_form_builder/form_item/html_field/html_field.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.AudioItem",{},{jPlayerReady:false,media:null,player:function(){return this.element.find(".jp-jplayer")},trySetMedia:function(){if(this.jPlayerReady===true&&this.media!==null){this.player().jPlayer("setMedia",this.media);this.model.autoplay?this.player().jPlayer("play"):this.player().jPlayer("load")}},redraw:function(){var a=this;this.player().jPlayer({swfPath:"/wizard_form_builder/resources/jplayer-2.1.0",
wmode:"window",loop:this.model.repeat,solution:"flash, html",ready:function(){a.jPlayerReady=true;a.trySetMedia()},cssSelectorAncestor:"."+this.model.identity()})},subscribeToTimeUpdates:function(a){d(this.player()).bind(d.jPlayer.event.timeupdate,a)},value:function(a){this.media={mp3:a};this.trySetMedia()}})});steal.loaded("wizard_form_builder/form_item/audio_item/audio_item.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.TextField",{},{redraw:function(){this.element.find(".value").width(this.model.attr("width"));this.element.children("label").width(this.model.attr("width"))},value:function(d){var a=this.element.find(".value");a.is("input")?a.val(d):a.html(d)},freeze:function(){if(this.options.jobtype=="review"){this._flagState.status="frozen";this.element.removeClass("review")}else this.element.find("input").attr("disabled",
"disabled")}})});steal.loaded("wizard_form_builder/form_item/text_field/text_field.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.TextArea",{},{__value:null,__valueAsWordsAndSpaces:null,redraw:function(){this.element.find(".value").width(this.model.attr("width")).height(this.model.attr("height"));this.element.find("label").width(this.model.attr("width"))},hoverinit:function(a,j,c){c.delay(0)},hoverenter:function(){this.element.find("pre.value").height("");this.element.find("pre.value").height()<this.model.attr("height")&&
this.element.find("pre.value").height(this.model.attr("height"))},hoverleave:function(){this.element.find("pre.value").height(this.model.attr("height"))},value:function(a){this.__value=a;if(this.options.jobtype=="review"){if(this.model.subFlag){this._initializeSubFlaggedState();a=this._valueAsTaggedWords()}this.find(".value").html(a)}else this.find(".value").val(a)},setFlags:function(a){this._flagState=a;if(a.status=="flagged")this.element.find("input.missing_text").prop("checked","checked");else if(a.status==
"subflagged"){var j=this.element.find(".word-flaggable");d.each(a.flaggedIndices,function(c,i){d(j[i]).addClass("flagged")})}},freeze:function(){if(this.options.jobtype=="review"){this._flagState.status="frozen";this.element.removeClass("review")}else this.element.find("textarea").attr("disabled","disabled")},highlight:function(a){this.find(".highlight-instructions").show();for(var j=[],c=0,i=this._valueAsWordsAndSpaces(),n,l=0;l<i.length;l++){n=i[l];if(n.match(/\S+/)){j.push(a.indexOf(c)!==-1?this._highlightedWord(n):
n);c++}else j.push(n)}j.push("<br>");this.find("textarea").replaceWith(this._generateHighlightableTextArea(j.join("")))},toggleFlag:function(a,j){if(this.model.subFlag)if(d(j.target).is(".missing_text"))this._flagState.status=this.element.find("input.missing_text").is(":checked")?"flagged":"unflagged";else{if(d(j.target).is(".word-flaggable")){a=d(j.target).data("word-index");if(d(j.target).hasClass("flagged")){d(j.target).removeClass("flagged");j=this._flagState.flaggedIndices.indexOf(a);if(j!==
-1){this._flagState.flaggedIndices.splice(j,1);this._flagState.flaggedWords.splice(j,1)}}else{d(j.target).addClass("flagged");this._flagState.flaggedIndices.push(a);this._flagState.flaggedWords.push(d(j.target).text())}}}else this._super(a,j)},".contentEditable keypress":function(a,j){if(j.which==13){j.preventDefault();a=window.getSelection();j=a.getRangeAt(0);var c=document.createTextNode("\n");j.deleteContents();j.insertNode(c);j.setStartAfter(c);j.setEndAfter(c);a.removeAllRanges();a.addRange(j)}},
beforeSubmit:function(){this.find("div.contentEditable").length!=0&&this.element.append(d("<input/>").attr("type","hidden").attr("name",this.model.attr("name")).val(this.find("div.contentEditable").text()))},_initializeSubFlaggedState:function(){var a=this._valueWordCount();this._flagState.numItems=a;if(a>0){this.find(".missing_text").remove();this._flagState.flaggedWords=[]}else{this._flagState.status="unflagged";this.find(".click-instructions").remove()}},_valueWordCount:function(){for(var a=0,
j=this._valueAsWordsAndSpaces(),c=0;c<j.length;c++)j[c].match(/\S+/)&&a++;return a},_valueAsTaggedWords:function(){for(var a=this._valueAsWordsAndSpaces(),j=null,c=d("<div/>"),i=0,n=0;n<a.length;n++){j=a[n];c.append(j.match(/\s+/)?j:this._taggedWord(j,i++))}return c.contents()},_taggedWord:function(a,j){return d("<span/>").html(a).addClass("word-flaggable").data("word-index",j)},_highlightedWord:function(a){return"<b>"+a+"</b>"},_generateHighlightableTextArea:function(a){return d("<div/>").addClass("value contentEditable").attr("contentEditable",
true).width(this.model.attr("width")).height(this.model.attr("height")-this.find(".highlight-instructions").height()).html(a)},_valueAsWordsAndSpaces:function(){if(this.__valueAsWordsAndSpaces===null){this.__valueAsWordsAndSpaces=[];for(var a,j=this.__value;a=j.match(/\S+|\s+/);){this.__valueAsWordsAndSpaces.push(a[0]);j=j.replace(a[0],"")}}return this.__valueAsWordsAndSpaces}})});steal.loaded("wizard_form_builder/form_item/text_area/text_area.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.RadioButton",{},{value:function(d){this.element.find('input[type=radio][value="'+d+'"]').attr("checked","checked")},freeze:function(){this.element.find("input").attr("disabled","disabled");if(this.options.jobtype=="review"){this._flagState.status="frozen";this.element.removeClass("review")}}})});steal.loaded("wizard_form_builder/form_item/radio_button/radio_button.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.CheckBox",{VAL:1},{value:function(d){d==this.Class.VAL?this.element.find("input").prop("checked","checked"):this.element.find("input").prop("checked","")},freeze:function(){this.element.find("input").attr("disabled","disabled");if(this.options.jobtype=="review"){this._flagState.status="frozen";this.element.removeClass("review")}}})});steal.loaded("wizard_form_builder/form_item/check_box/check_box.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.ListField",{},{list:null,init:function(){if(this.options.list_model){this.element.model(this.options.list_model);this.list=this.options.model.attr(this.options.list_model.attr("name"))}this._super()},value:function(a){return typeof a=="undefined"?this.getValue():this.setValue(a)},getValue:function(){var a=this.element.find("tbody tr").map(function(){var j={};d(this).find("input").each(function(){j[d(this).attr("name").match(/\[\]\[(.+?)\]/)[1]]=
d(this).val()});return j});a=a.filter(function(j,c){for(var i in c)if(!/^(\s+)?$/.test(c[i]))return true;return false});return a=a.toArray()},setValue:function(a){if(typeof a==="object"){this.list=a;this.element.trigger("needs_redraw")}},".add-one-more click":function(a,j){j.preventDefault();a=this.element.find("tr").last();j=a.clone().find("input").val("").end();a.after(j);return false},".delete click":function(a){this.find("tbody tr").length!=1&&a.closest("tr").remove();this.element.find("input:first-child").trigger("change")}})});
steal.loaded("wizard_form_builder/form_item/list_field/list_field.js");
steal("./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.extend("WizardFormBuilder.FormItem.ImageTagging",{},{value:function(){},".add-one-more click":function(a,j){j.preventDefault();a=this.element.find("tr").last();j=a.clone().find("input").val("").end();a.after(j);return false},".delete click":function(a){this.find("tbody tr").length!=1&&a.closest("tr").remove();this.element.find("input:first-child").trigger("change")},"input click":function(a){var j=this.model.form.items.match("name",
this.model.attr("image"))[0];if(j){img=j.elements().find("img").last();img.parents("a").click(false);d.Jcrop(img,{onSelect:function(c){a.parent().find("[id*=x_start]").val(c.x);a.parent().find("[id*=y_start]").val(c.y);a.parent().find("[id*=x_end]").val(c.x2);a.parent().find("[id*=y_end]").val(c.y2)}})}}})});steal.loaded("wizard_form_builder/form_item/image_tagging/image_tagging.js");
steal("../text_area/text_area","./views/show.ejs","./views/properties.ejs").then(function(d){WizardFormBuilder.FormItem.TextArea.extend("WizardFormBuilder.FormItem.SegmentedTextArea",{NODE_TEXT:3},{init:function(){this._super();if(this.options.jobtype=="content"){var a=this.model.form.items.match("name",this.model.attr("audio"))[0];a&&a.elements().last().controller().subscribeToTimeUpdates(this.proxy("_audioTimeUpdate"))}},value:function(a){this.__segmented_value=this.__value=a;this._first_timestamp=a.length>
0?a[0].audio_begin_time:0;this.options.jobtype=="review"?this._super(this._valueAsTextBlock()):this.find(".value").html(this._valueAsEditableSpans())},_valueAsTextBlock:function(){return d.map(this.__value,function(a){return a.text}).join("")},_valueAsEditableSpans:function(){var a=d();d.each(this.__value,function(j,c){a=a.add(d("<span/>").addClass("contentEditable").attr("contentEditable",true).data("timestamp",c.audio_begin_time).html(c.text===""?"   ":c.text))});return a},_audioTimeUpdate:function(a){var j=
this;d(this.find("span.contentEditable").get().reverse()).each(function(c,i){if((d(i).data("timestamp")-j._first_timestamp)/1E3<a.jPlayer.status.currentTime){if(!d(i).hasClass("highlighted")){j.find("span.contentEditable").removeClass("highlighted");d(i).addClass("highlighted")}return false}})},highlight:function(a){this.find(".highlight-instructions").show();var j=0,c=this,i,n,l,r;this.find("span.contentEditable").each(function(v,z){r=[];for(i=d(z).text();n=i.match(/\S+|\s+/);){l=n[0];if(l.match(/\s+/)){r.push(l);
j++}else r.push(a.indexOf(j)!==-1?c._highlightedWord(l):l);i=i.replace(l,"")}d(z).html(r.join(""))})},beforeSubmit:function(){if(this.options.jobtype=="content"){for(var a=this.__segmented_value,j=this.find("span.contentEditable"),c=0;c<a.length;c++)a[c].text=d(j[c]).text();this.element.append(d("<input/>").attr("type","hidden").attr("name",this.model.attr("name")).val(d.toJSON(a)))}},isLastCharacterHelper:function(a,j){j=j?1:0;if(window.getSelection){var c=window.getSelection();return c.anchorNode==
a?c.anchorOffset==a.childNodes.length-1-j:c.anchorOffset==c.anchorNode.length-j&&(c.anchorNode==a.lastChild||this.isPhantomTextNode(a.lastChild)&&c.anchorNode==a.lastChild.previousSibling)}},isLastCharacter:function(a){return this.isLastCharacterHelper(a,false)},isSecondToLastCharacter:function(a){return this.isLastCharacterHelper(a,true)},isFirstCharacter:function(a){if(window.getSelection){var j=window.getSelection();return j.anchorNode==a?j.anchorOffset==0||j.anchorOffset==1&&this.isPhantomTextNode(j.anchorNode.firstChild):
j.anchorOffset==0&&(j.anchorNode==a.firstChild||this.isPhantomTextNode(a.firstChild)&&j.anchorNode==a.childNodes[1])}},afterRight:function(a,j){if(this.isLastCharacter(a.get(0))){var c=a.next("span[contentEditable=true]");if(c.length>0){c.focus();if(window.getSelection){a=window.getSelection();a.rangeCount>0&&a.removeAllRanges();var i=document.createRange();for(c=c.get(0).firstChild;this.isPhantomTextNode(c);){c=this.nextNode(c);if(c==null)return}c.nodeType==this.Class.NODE_TEXT?i.setStart(c,1):i.setStartAfter(c);
a.addRange(i);j.preventDefault()}}}},afterLeft:function(a,j){if(this.isFirstCharacter(a.get(0))){for(var c=a.prev("span[contentEditable=true]");c.length>0&&c.text().length==0;)c=c.prev("span[contentEditable=true]");if(c.length>0){c.focus();if(window.getSelection){a=window.getSelection();a.rangeCount>0&&a.removeAllRanges();var i=document.createRange();for(c=c.get(0).lastChild;c&&this.isPhantomTextNode(c);)c=this.prevNode(c);if(c!=null){c.nodeType==this.Class.NODE_TEXT?i.setStart(c,c.length-1):i.setStartBefore(c);
a.addRange(i);j.preventDefault()}}}}},afterBackspace:function(a,j){if(this.isFirstCharacter(a.get(0))){for(a=a.prev("span[contentEditable=true]");a.length>0&&a.text().length==0;)a=a.prev("span[contentEditable=true]");if(a.length>0){for(var c=a.get(0).lastChild;c&&this.isPhantomTextNode(c);)c=this.prevNode(c);if(c!=null){if(c.nodeType==this.Class.NODE_TEXT)c.nodeValue=c.nodeValue.substring(0,c.nodeValue.length-1);else c.parentNode.removeChild(c);if(!this.isFirefox()&&window.getSelection){c=window.getSelection();
c.rangeCount>0&&c.removeAllRanges();var i=document.createRange();for(a=a.get(0).lastChild;a&&this.isPhantomTextNode(a);)a=this.prevNode(a);if(a==null)return;a.nodeType==this.Class.NODE_TEXT?i.setStart(a,a.length):i.setStartAfter(a);c.addRange(i)}j.preventDefault()}}}},afterDelete:function(a,j){if(this.isLastCharacter(a.get(0))){j=a.next("span[contentEditable=true]");if(j.length>0){for(j=j.get(0).firstChild;j&&this.isPhantomTextNode(j);)j=this.nextNode(j);if(j!=null)if(j.nodeType==this.Class.NODE_TEXT)j.textContent=
j.textContent.substring(1);else j.parentNode.removeChild(j)}}else if(this.isFirefox()&&this.isSecondToLastCharacter(a.get(0))){a=window.getSelection();var c=a.anchorNode;if(c.nodeType==this.Class.NODE_TEXT)c.textContent=c.textContent.substring(0,c.textContent.length-1);a.rangeCount>0&&a.removeAllRanges();var i=document.createRange();i.setStart(c,c.length);a.addRange(i);j.preventDefault()}},isPhantomTextNode:function(a){return a.nodeType==this.Class.NODE_TEXT&&a.textContent==""},nextNode:function(a){if(a.nextSibling!==
null)return a.nextSibling;if(a.parentNode.nextSibling!==null)return a.parentNode.nextSibling.firstChild;return null},prevNode:function(a){if(a.previousSibling!==null)return a.previousSibling;if(a.parentNode.previousSibling!==null)return a.parentNode.previousSibling.lastChild;return null},isFirefox:function(){return navigator.userAgent.indexOf("Firefox")!=-1},"span.contentEditable keydown":function(a,j){switch(j.which){case 39:this.afterRight(a,j);break;case 37:this.afterLeft(a,j);break;case 8:this.afterBackspace(a,
j);break;case 46:this.afterDelete(a,j);break}}})});steal.loaded("wizard_form_builder/form_item/segmented_text_area/segmented_text_area.js");steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_static_text_item_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<div class='text-editable text-area'>");a.push(jQuery.EJS.text(this.model.attr("text").replace(/(\r\n|\n|\r)/gm,"<br/>")));a.push("</div>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});
steal.loaded("wizard_form_builder/form_item/static_text_item/views/show.ejs");steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_static_text_item_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(label_tag("Instructions",{"for":"text","class":"top"})));a.push("\n");a.push("<textarea name='text'>");a.push(jQuery.EJS.clean(field.attr("text")));a.push("</textarea>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/static_text_item/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_title_item_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<h1 class='text-editable'>");a.push(jQuery.EJS.text(this.model.attr("title")));a.push("</h1>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/title_item/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_title_item_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(label_tag("Headline",{"for":"title","class":"top"})));a.push("\n");a.push(jQuery.EJS.text(text_area_tag("title",field.attr("title"))));return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/title_item/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_image_item_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("<div class='gallery'>\n");a.push("  <img></img>\n");a.push("  <img></img>\n");a.push("  <img></img>\n");a.push("</div>\n");a.push("\n");a.push("<img class='main'></img>\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});
steal.loaded("wizard_form_builder/form_item/image_item/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_image_item_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");a.push("<label class='top'>Type</label>\n");a.push("\n");a.push("<input type='radio' value='false' name='multiple' id='multiple_false' ");a.push(jQuery.EJS.clean(field.attr("multiple")==="false"?"checked":
""));a.push(" />\n");a.push("<label for='multiple_false'>Single Image</label>\n");a.push("<br>\n");a.push("\n");a.push("<input type='radio' class='final' value='true' name='multiple' id='multiple_true' ");a.push(jQuery.EJS.clean(field.attr("multiple")==="true"?"checked":""));a.push(" />\n");a.push("<label for='multiple_true'>Image Gallery</label>\n");a.push("\n");a.push(jQuery.EJS.text(string_property(field,"width")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"height")));a.push("\n");
return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/image_item/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_dynamic_text_item_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<label>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("<div class='text'>Text from your spreadsheet will appear here.</div>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/dynamic_text_item/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_dynamic_text_item_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"width")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"height")));a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/dynamic_text_item/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_dynamic_link_item_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("<a target='_blank' href='javascript://'>http://example.com/link</a>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/dynamic_link_item/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_dynamic_link_item_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/dynamic_link_item/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_html_field_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("<iframe name='");a.push(jQuery.EJS.clean(this.model.attr("name")));a.push("'>\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/html_field/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_html_field_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"width")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"height")));return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/html_field/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_audio_item_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push('<div class="jp-jplayer"></div>\n');a.push("\n");a.push('<div class="jp-audio">\n');a.push('  <div class="jp-type-single">\n');a.push('    <div class="jp-gui jp-interface">\n');a.push('      <ul class="jp-controls">\n');a.push('        <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>\n');a.push('        <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>\n');
a.push('        <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>\n');a.push('        <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>\n');a.push('        <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>\n');a.push('        <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>\n');a.push("      </ul>\n");a.push('      <div class="jp-progress">\n');a.push('        <div class="jp-seek-bar">\n');
a.push('          <div class="jp-play-bar"></div>\n');a.push("        </div>\n");a.push("      </div>\n");a.push('      <div class="jp-volume-bar">\n');a.push('        <div class="jp-volume-bar-value"></div>\n');a.push("      </div>\n");a.push('      <div class="jp-time-holder">\n');a.push('        <div class="jp-current-time"></div>\n');a.push('        <div class="jp-duration"></div>\n');a.push("\n");a.push('        <ul class="jp-toggles">\n');a.push('          <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>\n');
a.push('          <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>\n');a.push("        </ul>\n");a.push("      </div>\n");a.push("    </div>\n");a.push('    <div class="jp-title">\n');a.push("      <ul>\n");a.push("        <li>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</li>\n");a.push("      </ul>\n");a.push("    </div>\n");a.push('    <div class="jp-no-solution">\n');a.push("      <span>Update Required</span>\n");a.push('      To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.\n');
a.push("    </div>\n");a.push("  </div>\n");a.push("</div>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/audio_item/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_audio_item_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");a.push(jQuery.EJS.text(check_box_tag("autoplay","1",{id:"audio-autoplay"},field.autoplay)));a.push("\n");a.push(jQuery.EJS.text(label_tag("Autoplay",{"for":"audio-autoplay"})));a.push("\n");a.push("\n");
a.push("<br/>\n");a.push("\n");a.push(jQuery.EJS.text(check_box_tag("repeat","1",{id:"audio-repeat"},field.repeat)));a.push("\n");a.push(jQuery.EJS.text(label_tag("Loop",{"for":"audio-repeat"})));a.push("\n");a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/audio_item/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_text_field_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];if(this.options.jobtype=="review"){a.push("\n");a.push("  \n");a.push("  <label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("  <div class='value'></div>\n")}else{a.push("\n");a.push("\n");a.push("  <label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("  <input type='text' class='value'\n");
a.push("         name='");a.push(jQuery.EJS.clean(this.model.attr("name")));a.push("'\n");a.push("         placeholder='");a.push(jQuery.EJS.clean(this.model.attr("placeholder")));a.push("'></input>\n")}a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/text_field/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_text_field_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"width")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"placeholder","Hint")));a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});
steal.loaded("wizard_form_builder/form_item/text_field/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_text_area_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];if(this.options.jobtype=="review"){a.push("\n");a.push("\n");a.push("  <label class='top'>\n");a.push("    ");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("\n");a.push("    \n");a.push("    ");if(this.model.subFlag){a.push("\n");a.push("      <span class='click-instructions extra-instructions'>(Click on each wrong word)</span>\n");a.push("    ")}a.push("\n");
a.push("  </label>\n");a.push("  \n");a.push("  <pre class='value'></pre>\n");a.push("  \n");a.push("  ");if(this.model.subFlag){a.push("\n");a.push("    <input class='missing_text' type='checkbox' id='");a.push(jQuery.EJS.clean(this.model.identity()));a.push("_missing_text'></input>\n");a.push("    <label class='missing_text extra-instructions' for='");a.push(jQuery.EJS.clean(this.model.identity()));a.push("_missing_text'>This field is blank and there should be text in it.</label>\n");a.push("  ")}a.push("\n")}else{a.push("\n");
a.push("\n");a.push("  <label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("\n");a.push("  <textarea class='value'\n");a.push("            name='");a.push(jQuery.EJS.clean(this.model.attr("name")));a.push("'\n");a.push("            placeholder='");a.push(jQuery.EJS.clean(this.model.attr("placeholder")));a.push("'></textarea>\n");a.push("            \n");a.push("  <label class='top highlight-instructions extra-instructions' style='display: none'>* Please verify and/or edit this text. Words highlighted in red have been marked incorrect by other workers. Pay special attention to these words and change them if necessary.</label>\n")}a.push("\n");
a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/text_area/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_text_area_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");a.push("<label class='top'>Does this task have a single correct answer?</label>\n");a.push("\n");a.push("<input type='radio' name='exact' id='text_area_exact_false' value='false'\n");a.push("  ");a.push(jQuery.EJS.clean(field.attr("exact")===
"false"?"checked":""));a.push(" \n");a.push("/>\n");a.push("\n");a.push("<label for='text_area_exact_false'>No. The answer involves some creativity.</label>\n");a.push("<br>\n");a.push("\n");a.push("<input type='radio' class='final' name='exact' id='text_area_exact_true' value='true' \n");a.push("  ");a.push(jQuery.EJS.clean(field.attr("exact")==="true"?"checked":""));a.push(" \n");a.push("/>\n");a.push("\n");a.push("<label for='text_area_exact_true'>Yes. The answer should be exact.</label>\n");a.push("\n");
a.push(jQuery.EJS.text(string_property(field,"width")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"height")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"placeholder","Hint")));return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/text_area/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_radio_button_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("\n");for(j=0;j<this.model.choices.length;j++){a.push("\n");a.push("  <input type='radio' \n");a.push("         id='");a.push(jQuery.EJS.clean(this.model.attr("name")+"_"+j));a.push("'\n");a.push("         name='");a.push(jQuery.EJS.clean(this.model.attr("name")||
this.model.attr("id")));a.push("'\n");a.push("         value='");a.push(jQuery.EJS.clean(this.model.choices[j].value));a.push("'>\n");a.push("  \n");a.push("  </input>\n");a.push("  \n");a.push("  <label for='");a.push(jQuery.EJS.clean(this.model.attr("name")+"_"+j));a.push("'>\n");a.push("    ");a.push(jQuery.EJS.clean(this.model.choices[j].label));a.push("\n");a.push("  </label>\n");a.push("  \n");a.push("  <br/>\n")}return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/radio_button/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_radio_button_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");var c=new WizardFormBuilder.Models.ListField({name:"choices",label:"Choices",columns:[{name:"value",label:"Value"},{name:"label",label:"Label"}]});a.push("\n");a.push("<div ");a.push(jQuery.EJS.clean(plugin("form_builder_form_item_list_field",
{list_model:c,model:field})));a.push(">\n");a.push("  <div class='content-area'></div>\n");a.push("</div>");return a.join("")}}catch(i){i.lineNumber=null;throw i;}}))});steal.loaded("wizard_form_builder/form_item/radio_button/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_check_box_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push("<input type='checkbox' \n");a.push("       value='");a.push(jQuery.EJS.clean(this.Class.VAL));a.push("'\n");a.push("       name='");a.push(jQuery.EJS.clean(this.model.attr("name")));a.push("'\n");a.push("       ");a.push(jQuery.EJS.clean(this.model.attr("checked")==true?"checked='checked'":""));a.push("\n");a.push("       id='");a.push(jQuery.EJS.clean(this.model.attr("name")));
a.push("'>\n");a.push("</input>\n");a.push("\n");a.push("<label for='");a.push(jQuery.EJS.clean(this.model.attr("name")));a.push("'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/check_box/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_check_box_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");a.push(jQuery.EJS.text(check_box_tag("checked","1",{id:"cb-checked"},field.checked)));a.push("\n");a.push(jQuery.EJS.text(label_tag("Checked",{"for":"cb-checked"})));return a.join("")}}catch(c){c.lineNumber=
null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/check_box/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_list_field_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){var c=[];c.push("<label class='top'>");c.push(jQuery.EJS.clean(this.model.attr("label")));c.push("</label>\n");c.push("<table>\n");c.push("  <thead>\n");c.push("    <tr>\n");c.push("      <th></th>\n");c.push("\n");c.push("      ");var i=this.model,n=this.list;c.push("\n");c.push("\n");c.push("      ");d(this.model.attr("columns")).each(function(){c.push("\n");
c.push("        <th>");c.push(jQuery.EJS.clean(d.String.capitalize(this.label)));c.push("</th>\n");c.push("      ")});c.push("\n");c.push("    </tr>\n");c.push("  </thead>\n");c.push("  \n");c.push("  <tbody>\n");c.push("    ");if(this.list){c.push("\n");c.push("      ");for(var l=0;l<this.list.length;l++){c.push("\n");c.push("        <tr>\n");c.push("          <td class='delete'>&#x2716;</td>\n");c.push("          ");d(this.model.attr("columns")).each(function(){c.push("\n");c.push("            <td>");
c.push(jQuery.EJS.text(text_field_tag(i.attr("name")+"[]["+this.name+"]",n[l][this.name])));c.push("</td>\n");c.push("          ")});c.push("\n");c.push("        </tr>\n");c.push("      ")}}else{c.push("\n");c.push("      ");for(l=0;l<this.model.attr("start_rows");l++){c.push("\n");c.push("        <tr>\n");c.push("          <td class='delete'>&#x2716;</td>\n");c.push("          ");d(this.model.attr("columns")).each(function(){c.push("\n");c.push("            <td>");c.push(jQuery.EJS.text(text_field_tag(i.attr("name")+
"[]["+this.name+"]","")));c.push("</td>\n");c.push("          ")});c.push("\n");c.push("        </tr>\n");c.push("      ")}}c.push("\n");c.push("    ");c.push("\n");c.push("  </tbody>\n");c.push("</table>\n");c.push("<a class='add-one-more' href='javascript://'>Add another</a>");return c.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("wizard_form_builder/form_item/list_field/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_list_field_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");var c=new WizardFormBuilder.Models.ListField({name:"columns",label:"Columns",columns:[{name:"name",label:"Name"},{name:"label",label:"Label"}]});a.push("\n");a.push("<div ");a.push(jQuery.EJS.clean(plugin("form_builder_form_item_list_field",
{list_model:c,model:field})));a.push(">\n");a.push("  <div class='content-area'></div>\n");a.push("</div>");return a.join("")}}catch(i){i.lineNumber=null;throw i;}}))});steal.loaded("wizard_form_builder/form_item/list_field/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_image_tagging_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){var c=[];c.push("<label class='top'>");c.push(jQuery.EJS.clean(this.model.attr("label")));c.push("</label>\n");c.push("<table>\n");c.push("  <thead>\n");c.push("    <tr>\n");c.push("      <th></th>\n");c.push("\n");c.push("      ");var i=this.model,n=this.list;c.push("\n");c.push("\n");c.push("      ");d(this.model.attr("columns")).each(function(){c.push("\n");
c.push("        <th>");c.push(jQuery.EJS.clean(d.String.capitalize(this.label)));c.push("</th>\n");c.push("      ")});c.push("\n");c.push("    </tr>\n");c.push("  </thead>\n");c.push("  \n");c.push("  <tbody>\n");c.push("    ");if(this.list){c.push("\n");c.push("      ");for(var l=0;l<this.list.length;l++){c.push("\n");c.push("        <tr>\n");c.push("          <td class='delete'>&#x2716;</td>\n");c.push("          ");d(this.model.attr("columns")).each(function(){c.push("\n");c.push("            <td>");
c.push(jQuery.EJS.text(text_field_tag(i.attr("name")+"[]["+this.name+"]",n[l][this.name])));c.push("</td>\n");c.push("          ")});c.push("\n");c.push("        </tr>\n");c.push("      ")}}else{c.push("\n");c.push("      ");for(l=0;l<this.model.attr("start_rows");l++){c.push("\n");c.push("        <tr>\n");c.push("          <td class='delete'>&#x2716;</td>\n");c.push("          ");d(this.model.attr("columns")).each(function(){c.push("\n");c.push("            <td>\n");c.push("              ");c.push(jQuery.EJS.text(text_field_tag(i.attr("name")+
"[]["+this.name+"]","")));c.push("\n");c.push("              ");c.push(jQuery.EJS.text(hidden_field_tag(i.attr("name")+"[][x_start]","")));c.push("\n");c.push("              ");c.push(jQuery.EJS.text(hidden_field_tag(i.attr("name")+"[][y_start]","")));c.push("\n");c.push("              ");c.push(jQuery.EJS.text(hidden_field_tag(i.attr("name")+"[][x_end]","")));c.push("\n");c.push("              ");c.push(jQuery.EJS.text(hidden_field_tag(i.attr("name")+"[][y_end]","")));c.push("\n");c.push("            </td>\n");
c.push("          ")});c.push("\n");c.push("        </tr>\n");c.push("      ")}}c.push("\n");c.push("    ");c.push("\n");c.push("  </tbody>\n");c.push("</table>\n");c.push("<a class='add-one-more' href='javascript://'>Add another</a>\n");return c.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("wizard_form_builder/form_item/image_tagging/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_image_tagging_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");var c=[{value:null,text:"Select an option..."}];field.form.items.match("type","ImageItem").each(function(){c.push({value:this.name,text:this.name})});a.push("\n");a.push("\n");a.push(jQuery.EJS.text(select_property(field,"image","Image","Select the image widget that will be tagged.",
c)));a.push("\n");return a.join("")}}catch(i){i.lineNumber=null;throw i;}}))});steal.loaded("wizard_form_builder/form_item/image_tagging/views/properties.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_segmented_text_area_views_show_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];if(this.options.jobtype=="review"){a.push("\n");a.push("\n");a.push("  <label class='top'>\n");a.push("    ");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("\n");a.push("    <span class='click-instructions extra-instructions'>(Click on each wrong word)</span>\n");a.push("  </label>\n");a.push("  \n");a.push("  <pre class='value'></pre>\n");
a.push("  \n");a.push("  <input class='missing_text' type='checkbox' id='");a.push(jQuery.EJS.clean(this.model.identity()));a.push("_missing_text'></input>\n");a.push("  <label class='missing_text extra-instructions' for='");a.push(jQuery.EJS.clean(this.model.identity()));a.push("_missing_text'>This field is blank and there should be text in it.</label>\n")}else{a.push("\n");a.push("\n");a.push("  <label class='top'>");a.push(jQuery.EJS.clean(this.model.attr("label")));a.push("</label>\n");a.push("\n");
a.push("  <pre class='value'>\n");a.push("  </pre>\n");a.push("          \n");a.push("  <label class='top highlight-instructions extra-instructions' style='display: none'>*  Please verify and/or edit this text. Words highlighted in red have been marked incorrect by other workers. Pay special attention to these words and change them if necessary.</label>\n")}a.push("\n");return a.join("")}}catch(c){c.lineNumber=null;throw c;}}))});steal.loaded("wizard_form_builder/form_item/segmented_text_area/views/show.ejs");
steal("jquery/view/ejs").then(function(d){d.View.preload("form_builder_form_item_segmented_text_area_views_properties_ejs",jQuery.EJS(function(a,j){try{with(j)with(a){a=[];a.push(jQuery.EJS.text(string_property(field,"label")));a.push("\n");a.push(jQuery.EJS.text(name_property(field)));a.push("\n");a.push("\n");a.push(jQuery.EJS.text(string_property(field,"width")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"height")));a.push("\n");a.push(jQuery.EJS.text(string_property(field,"placeholder",
"Hint")));a.push("\n");a.push("\n");var c=[{value:null,text:"Select an option..."}];field.form.items.match("type","AudioItem").each(function(){c.push({value:this.name,text:this.name})});a.push("\n");a.push("\n");a.push(jQuery.EJS.text(select_property(field,"audio","Audio","Select the audio widget to pair with:",c)));a.push("\n");return a.join("")}}catch(i){i.lineNumber=null;throw i;}}))});steal.loaded("wizard_form_builder/form_item/segmented_text_area/views/properties.ejs");
